[
  {
    "_id": "lOg8Kk14N",
    "name": "Angle",
    "updatedAt": "2024-01-25T11:59:07.512Z",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65b249b06eab74aa16ce4ad8",
          "65b249b06eab74aa16ce4ad7",
          "65b249b06eab74aa16ce4ad9"
        ],
        "fileType": "folder",
        "_id": "65b249b06eab74aa16ce4ada",
        "isSelectedFile": false,
        "createdAt": "2024-01-25T11:59:07.512Z",
        "updatedAt": "2024-01-25T11:59:07.512Z",
        "id": "65b249b06eab74aa16ce4ada"
      },
      {
        "name": "sketch.js",
        "content": "let angle = 0;\nlet x = 0;\nlet y = 0;\n\nfunction setup() {\n  createCanvas(400, 400);\n  background(0);\n}\n\nfunction draw() {\n  angle = angle + 72;\n  x++;\n  y++;\n  \n  translate(width/2, height/2);\n  //rotate(radians(frameCount));\n  noFill();\n  stroke(255,0,255,70);\n  rectMode(CENTER);\n  rect(x, 0, y, 80);\n}",
        "children": [],
        "fileType": "file",
        "_id": "65b249b06eab74aa16ce4ad7",
        "isSelectedFile": true,
        "createdAt": "2024-01-25T11:59:07.512Z",
        "updatedAt": "2024-01-25T11:59:07.512Z",
        "id": "65b249b06eab74aa16ce4ad7"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65b249b06eab74aa16ce4ad8",
        "isSelectedFile": false,
        "createdAt": "2024-01-25T11:59:07.512Z",
        "updatedAt": "2024-01-25T11:59:07.512Z",
        "id": "65b249b06eab74aa16ce4ad8"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65b249b06eab74aa16ce4ad9",
        "isSelectedFile": false,
        "createdAt": "2024-01-25T11:59:07.512Z",
        "updatedAt": "2024-01-25T11:59:07.512Z",
        "id": "65b249b06eab74aa16ce4ad9"
      }
    ],
    "createdAt": "2024-01-25T11:57:36.186Z",
    "id": "lOg8Kk14N"
  },
  {
    "_id": "ghtlfrznb",
    "name": "CC 102 - 2D Water Ripples copy copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67d443614d9bf8fa35420575",
          "67d443614d9bf8fa35420576",
          "67d443614d9bf8fa35420577"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d443614d9bf8fa35420574",
        "createdAt": "2025-03-14T14:55:48.692Z",
        "updatedAt": "2025-03-14T14:55:48.692Z",
        "id": "67d443614d9bf8fa35420574"
      },
      {
        "name": "sketch.js",
        "content": "// https://editor.p5js.org/jht9629-nyu/sketches/cg5iaifhV\n// CC 102 - 2D Water Ripples copy\n// https://editor.p5js.org/codingtrain/sketches/tYXtzNSl\n// 2D Water Ripples\n\n// how to controll size of cirlces?\n// how to add color?\n\nlet cols;\nlet rows;\nlet current; // = new float[cols][rows];\nlet previous; // = new float[cols][rows];\n\nlet dampening = 0.99;\n\nfunction setup() {\n  pixelDensity(1);\n  // createCanvas(600, 400);\n  createCanvas(windowWidth, windowHeight);\n  cols = width;\n  rows = height;\n  // The following line initializes a 2D cols-by-rows array with zeroes\n  // in every array cell, and is equivalent to this Processing line:\n  // current = new float[cols][rows];\n  current = new Array(cols).fill(0).map(n => new Array(rows).fill(0));\n  previous = new Array(cols).fill(0).map(n => new Array(rows).fill(0));\n}\n\nfunction mouseDragged() {\n  previous[mouseX][mouseY] = 2500;\n}\n\nfunction draw() {\n  // replaced mouseDragged with random values\n  let x = floor(random(width))\n  let y = floor(random(height))\n  previous[x][y] = 2500*2;\n\n  background(0);\n\n  loadPixels();\n  for (let i = 1; i < cols - 1; i++) {\n    for (let j = 1; j < rows - 1; j++) {\n      current[i][j] =\n        (previous[i - 1][j] +\n          previous[i + 1][j] +\n          previous[i][j - 1] +\n          previous[i][j + 1]) /\n          2 -\n        current[i][j];\n      current[i][j] = current[i][j] * dampening;\n      // Unlike in Processing, the pixels array in p5.js has 4 entries\n      // for each pixel, so we have to multiply the index by 4 and then\n      // set the entries for each color component separately.\n      let index = (i + j * cols) * 4;\n      pixels[index + 0] = current[i][j];\n      pixels[index + 1] = current[i][j];\n      pixels[index + 2] = current[i][j];\n    }\n  }\n  updatePixels();\n\n  let temp = previous;\n  previous = current;\n  current = temp;\n}\n\n// The Coding Train / Daniel Shiffman\n// https://thecodingtrain.com/CodingChallenges/102-2d-water-ripple.html\n// https://youtu.be/BZUdGqeOD0w\n// https://editor.p5js.org/codingtrain/sketches/tYXtzNSl\n\n// Algorithm: https://web.archive.org/web/20160418004149/http://freespace.virgin.net/hugo.elias/graphics/x_water.htm\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67d443614d9bf8fa35420576",
        "createdAt": "2025-03-14T14:55:48.692Z",
        "updatedAt": "2025-03-14T14:55:48.692Z",
        "id": "67d443614d9bf8fa35420576"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d443614d9bf8fa35420575",
        "createdAt": "2025-03-14T14:55:48.692Z",
        "updatedAt": "2025-03-14T14:55:48.692Z",
        "id": "67d443614d9bf8fa35420575"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d443614d9bf8fa35420577",
        "createdAt": "2025-03-14T14:55:48.692Z",
        "updatedAt": "2025-03-14T14:55:48.692Z",
        "id": "67d443614d9bf8fa35420577"
      }
    ],
    "createdAt": "2025-03-14T14:55:29.262Z",
    "updatedAt": "2025-03-14T14:55:48.692Z",
    "id": "ghtlfrznb"
  },
  {
    "_id": "7Ml7c7USZ",
    "name": "curvevertex",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65b249596eab74aa16ce4ad4",
          "65b249596eab74aa16ce4ad5",
          "65b249596eab74aa16ce4ad6"
        ],
        "fileType": "folder",
        "_id": "65b249596eab74aa16ce4ad3",
        "createdAt": "2024-02-25T18:05:47.280Z",
        "updatedAt": "2024-02-25T18:05:47.280Z",
        "isSelectedFile": false,
        "id": "65b249596eab74aa16ce4ad3"
      },
      {
        "name": "sketch.js",
        "content": "function setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n  noStroke();\n  fill(255, 30, 255, 70);\n\n  beginShape();\n  // add vertices here!\nvertex(200,170); \nvertex(150,120); \nvertex(100,170); \nvertex(85,270); \nvertex(140,330); \nvertex(230,355); \nvertex(270,330); \nvertex(320,230); \nvertex(250,160); \nvertex(220,100); \ncurveVertex(205,60); \nendShape(CLOSE);\n}\n\nfunction mousePressed() {\n  console.log(\"vertex(\" + mouseX + \",\" + mouseY + \");\");\n}\n\nfunction keyPressed() {\n  if (key == \"s\" || key == \"S\") {\n    save(\"sketch.png\");\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65b249596eab74aa16ce4ad5",
        "isSelectedFile": true,
        "createdAt": "2024-02-25T18:05:47.280Z",
        "updatedAt": "2024-02-25T18:05:47.280Z",
        "id": "65b249596eab74aa16ce4ad5"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65b249596eab74aa16ce4ad4",
        "createdAt": "2024-02-25T18:05:47.280Z",
        "updatedAt": "2024-02-25T18:05:47.280Z",
        "isSelectedFile": false,
        "id": "65b249596eab74aa16ce4ad4"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65b249596eab74aa16ce4ad6",
        "createdAt": "2024-02-25T18:05:47.280Z",
        "updatedAt": "2024-02-25T18:05:47.280Z",
        "isSelectedFile": false,
        "id": "65b249596eab74aa16ce4ad6"
      }
    ],
    "createdAt": "2024-01-25T11:43:21.694Z",
    "updatedAt": "2024-02-25T18:05:47.280Z",
    "id": "7Ml7c7USZ"
  },
  {
    "_id": "sonIL-ZjS",
    "name": "Final Project",
    "updatedAt": "2024-05-06T07:33:24.808Z",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6630d885180695176239821f",
          "6630d885180695176239821e",
          "6630d8851806951762398220"
        ],
        "fileType": "folder",
        "_id": "6630d8851806951762398221",
        "createdAt": "2024-05-06T07:33:24.808Z",
        "updatedAt": "2024-05-06T07:33:24.808Z",
        "isSelectedFile": false,
        "id": "6630d8851806951762398221"
      },
      {
        "name": "sketch.js",
        "content": "\n// let serial; \n// let portName = '/dev/cu.usbmodem101'; \n// let options = { baudrate: 9600}; \n// serial.open(portName, options);\n// let inData;      \n\n\n// GUI\nlet gui;\nlet ui = {\n  a: 0,\n  l: 20,\n  // r: 50,\n  // g: 50,\n  // b: 50,\n  // t: 5,\n  i: 0,\n};\n\n//Pattern\nconst RESOLUTION = 50;\nconst FREQ_POS = 0.0035;\nconst FREQ_TIME = 0.0015;\nlet rows, cols;\nlet angleui = 0;\nlet angles = [];\nlet vehicles = [];\n\nfunction setup() {\n  createCanvas(800, 800);\n  background(0);\n\n  //Serial\n  //   serial = new p5.SerialPort();       // make a new instance of the serialport library\n  //   serial.on('list', printList);  // set a callback function for the serialport list event\n  //   serial.on('connected', serverConnected); // callback for connecting to the server\n  //   serial.on('open', portOpen);        // callback for the port opening\n  //   serial.on('data', serialEvent);     // callback for when new data arrives\n  //   serial.on('error', serialError);    // callback for errors\n  //   serial.on('close', portClose);      // callback for the port closing\n\n  //   serial.list();                      // list the serial ports\n  //   serial.open(portName);              // open a serial port\n\n  //GUI\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 0, 500);\n  gui.add(ui, \"l\", 5, 200);\n  // gui.add(ui, \"r\", 50, 255);\n  // gui.add(ui, \"g\", 50, 255);\n  // gui.add(ui, \"b\", 50, 255);\n  // gui.add(ui, \"t\", 5, 15);\n  gui.add(ui, \"i\", 0, 10);\n\n  //Pattern\n  cols = ceil(width / RESOLUTION);\n  rows = ceil(height / RESOLUTION);\n\n  for (let i = 0; i < 100; i++) {\n    vehicles.push(\n      new Vehicle(\n        width / 2 + random(-0.1 * i, 0.1 * i),\n        height / 2 + random(-0.1 * i, 0.1 * i)\n      )\n    );\n  }\n}\n\n// get the list of ports:\n// function printList(portList) {\n//   // portList is an array of serial port names\n//   for (var i = 0; i < portList.length; i++) {\n//     // Display the list the console:\n//     console.log(i + portList[i]);\n//   }\n// }\n\n// function serverConnected() {\n//   console.log('connected to server.');\n// }\n\n// function portOpen() {\n//   console.log('the serial port opened.')\n// }\n\n// function serialEvent() {\n//  inData = Number(serial.read());\n// }\n\n// function serialError(err) {\n//   console.log('Something went wrong with the serial port. ' + err);\n// }\n\n// function portClose() {\n//   console.log('The serial port closed.');\n// }\n\nfunction draw() {\n  //background(0);\n\n  //data\n  //  text(\"sensor value: \" + inData, 30, 50);\n  angleui = floor(map(ui.a, 0, width, 0, 180));\n\n  noFill();\n  //stroke(255);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(width / 2, height / 2, (360 / ui.i) * i, ui.l);\n  }\n\n  // empty the angles array\n  angles = [];\n\n  // draw and update the flow field;\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      let x = c * RESOLUTION;\n      let y = r * RESOLUTION;\n\n      // angle from center\n      let gridCenter = createVector(x + RESOLUTION / 2, y + RESOLUTION / 2);\n      let center = createVector(width / 2, height / 2);\n      let vectorToCenter = p5.Vector.sub(x, y, gridCenter);\n      let rotateAngle = map(sin(frameCount * 0.01), -1, 1, 0, 45);\n      vectorToCenter.rotate(radians(rotateAngle));\n      let angleFromCenter = vectorToCenter.heading();\n\n      // angle from noise\n      let xFrq = x * FREQ_POS + frameCount * FREQ_TIME;\n      let yFrq = y * FREQ_POS + frameCount * FREQ_TIME;\n      let noiseValue = noise(xFrq, yFrq); // 0 to 1\n      let angleFromNoise = map(noiseValue, 0, 1, 0, PI * 6); // ***\n\n      let angle = angleFromCenter + angleFromNoise;\n      angles.push(angle);\n\n      push();\n\n      // draw grid\n      translate(x, y);\n      fill(0);\n      stroke(255, 100);\n      //rect(0, 0, RESOLUTION, RESOLUTION);\n\n      // diplay line\n      translate(RESOLUTION / 2, RESOLUTION / 2);\n      let vector = p5.Vector.fromAngle(angle);\n      vector.mult(RESOLUTION / 2);\n      stroke(255);\n      //line(0, 0, vector.x, vector.y);\n\n      // draw index\n      let index = angles.length;\n      fill(255);\n      noStroke();\n      //text(index, -15, -5);\n\n      pop();\n    }\n  }\n\n  // vehicles\n  for (let v of vehicles) {\n    let c = floor(v.pos.x / RESOLUTION);\n    let r = floor(v.pos.y / RESOLUTION);\n    let index = c + r * cols;\n    let angle = angles[index];\n    v.flow(angle);\n    v.update();\n    v.reappear();\n    //v.attractedTo();\n    //v.seek(target);\n    //v.display();\n    v.displayPoint();\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  let target = createVector(targetX, targetY);\n  for (let v of vehicles) {\n    v.seek(target);\n    //v.attractedTo(target);\n  }\n\n  //line(x, y, targetX, targetY);\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angleui, len * 0.7);\n    drawBranch(targetX, targetY, deg + angleui, len * 0.7);\n  }\n\n  //blendMode(ADD);\n  //noStroke();\n  //fill(ui.r, ui.g, ui.b, ui.t);\n  //circle(targetX, targetY, 300/len);\n}\n\nclass Vehicle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector();\n    this.acc = createVector();\n    //\n    this.mass = 1;\n    this.size = 20;\n    //\n    this.angle = 0;\n    //\n    this.maxSpeed = 2;\n    this.maxSteerForce = 0.1;\n  }\n  attractedTo(target) {\n    let vector = p5.Vector.sub(target, this.pos);\n    vector.mult(0.05);\n    this.applyForce(vector);\n    this.vel.mult(0.9);\n  }\n  flow(angle) {\n    if (300 < this.pos < 500) {\n      let desiredVel = p5.Vector.fromAngle(angle); // direction\n      desiredVel.mult(this.maxSpeed); // desire\n\n      let steerForce = p5.Vector.sub(desiredVel, this.vel);\n      steerForce.limit(this.maxSteerForce);\n\n      this.applyForce(steerForce);\n    }\n  }\n\n  seek(target) {\n    let desiredVel = p5.Vector.sub(target, this.pos);\n    desiredVel.normalize(); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n    //\n    this.angle = this.vel.heading();\n  }\n  applyForce(f) {\n    if (this.mass <= 0) {\n      console.log(\"Wrong mass\");\n      return;\n    }\n    let force = f.copy();\n    force.div(this.mass);\n    this.acc.add(force);\n  }\n  reappear() {\n    if (this.pos.x < 0) {\n      this.pos.x = width;\n    } else if (this.pos.x > width) {\n      this.pos.x = 0;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = height;\n    } else if (this.pos.y > height) {\n      this.pos.y = 0;\n    }\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n    rotate(this.angle);\n    noStroke();\n    fill(0);\n    triangle(0, 0, -this.size, -this.size * 0.4, -this.size, this.size * 0.4);\n    pop();\n  }\n  displayPoint() {\n    push();\n    stroke(255, 70);\n    point(this.pos.x, this.pos.y);\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6630d885180695176239821e",
        "isSelectedFile": true,
        "createdAt": "2024-05-06T07:33:24.808Z",
        "updatedAt": "2024-05-06T07:33:24.808Z",
        "id": "6630d885180695176239821e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js\"></script>\n    <script language=\"javascript\" type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n             <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "6630d885180695176239821f",
        "createdAt": "2024-05-06T07:33:24.808Z",
        "updatedAt": "2024-05-06T07:33:24.808Z",
        "isSelectedFile": false,
        "id": "6630d885180695176239821f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6630d8851806951762398220",
        "createdAt": "2024-05-06T07:33:24.808Z",
        "updatedAt": "2024-05-06T07:33:24.808Z",
        "isSelectedFile": false,
        "id": "6630d8851806951762398220"
      }
    ],
    "createdAt": "2024-04-30T11:40:01.211Z",
    "id": "sonIL-ZjS"
  },
  {
    "_id": "dE5X0cEcl",
    "name": "Final Project 3",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6638810aa2da437d078a8986",
          "6638810aa2da437d078a8987",
          "6638810aa2da437d078a8988"
        ],
        "fileType": "folder",
        "_id": "6638810aa2da437d078a8985",
        "createdAt": "2024-06-17T06:05:04.786Z",
        "updatedAt": "2024-06-17T06:05:04.786Z",
        "isSelectedFile": false,
        "id": "6638810aa2da437d078a8985"
      },
      {
        "name": "sketch.js",
        "content": "zlet portName = \"/dev/cu.usbmodem101\";\nlet serial;\n\nlet inData;\n\nlet gui;\nlet ui = {\n  a: 100,\n  l: 20,\n  i: 6,\n  back: 0.5,\n  leave: 0.2,\n  scale: 100,\n};\nlet objParams = {\n  frameRate: 0,\n};\n\nconst RESOLUTION = 50;\nconst FREQ_POS = 0.0035;\nconst FREQ_TIME = 0.0015;\nlet rows, cols;\nlet angles = [];\nlet vehicles = [];\nlet scene = 1;\n\nfunction setup() {\n  createCanvas(700, 700);\n\n  //Serial\n  serial = new p5.SerialPort(); // make a new instance of the serialport library\n  serial.on(\"list\", printList); // set a callback function for the serialport list event\n  serial.on(\"connected\", serverConnected); // callback for connecting to the server\n  serial.on(\"open\", portOpen); // callback for the port opening\n  serial.on(\"data\", serialEvent); // callback for when new data arrives\n  serial.on(\"error\", serialError); // callback for errors\n  serial.on(\"close\", portClose); // callback for the port closing\n\n  serial.list(); // list the serial ports\n  // serial.open(portName);              // open a serial port\n\n  //GUI\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 100, 500);\n  gui.add(ui, \"l\", 20, 107.5);\n  gui.add(ui, \"i\", 6, 25);\n  gui.add(ui, \"back\", 0.5, 2).step(0.01).listen();\n  gui.add(ui, \"leave\", 0, 1).step(0.01).listen();\n  gui.add(ui, \"scale\", 100, 300);\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n\n  //Pattern\n  cols = ceil(width / RESOLUTION);\n  rows = ceil(height / RESOLUTION);\n}\n\n// get the list of ports:\nfunction printList(portList) {\n  // portList is an array of serial port names\n  for (var i = 0; i < portList.length; i++) {\n    // Display the list the console:\n    console.log(i + portList[i]);\n  }\n  let options = { baudrate: 9600 };\n  serial.open(portName, options);\n}\n\nfunction serverConnected() {\n  console.log(\"connected to server.\");\n}\n\nfunction portOpen() {\n  console.log(\"the serial port opened.\");\n}\n\nfunction serialEvent() {\n  inData = Number(serial.read());\n  console.log(inData);\n}\n\nfunction serialError(err) {\n  console.log(\"Something went wrong with the serial port. \" + err);\n}\n\nfunction portClose() {\n  console.log(\"The serial port closed.\");\n}\n\nfunction draw() {\n  background(0);\n  text(\"sensor value: \" + inData, 30, 50);\n  objParams.frameRate = frameRate().toFixed(2);\n\n  // vehicles\n  // empty the angles array\n  angles = [];\n  // draw and update the flow field;\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      let x = c * RESOLUTION;\n      let y = r * RESOLUTION;\n\n      // angle from center\n      let gridCenter = createVector(x + RESOLUTION / 2, y + RESOLUTION / 2);\n      let center = createVector(width / 2, height / 2);\n      let vectorToCenter = p5.Vector.sub(center, gridCenter);\n      let rotateAngle = map(sin(frameCount * 0.02), -1, 1, 0, 160);\n      vectorToCenter.rotate(radians(rotateAngle)); //frameCount * 0.n决定了范围\n      let angleFromCenter = vectorToCenter.heading();\n\n      // angle from noise\n      let xFrq = x * FREQ_POS + frameCount * FREQ_TIME;\n      let yFrq = y * FREQ_POS + frameCount * FREQ_TIME;\n      let noiseValue = noise(xFrq, yFrq); // 0 to 1\n      let angleFromNoise = map(noiseValue, 0, 1, 0, PI * 4); // ***\n\n      let angleCombined = angleFromCenter * ui.back + angleFromNoise * ui.leave;\n      angles.push(angleCombined);\n\n      if (false) {\n        push();\n        // draw grid\n        translate(x, y);\n        fill(0);\n        stroke(255, 100);\n        rect(0, 0, RESOLUTION, RESOLUTION);\n\n        // diplay line\n        translate(RESOLUTION / 2, RESOLUTION / 2);\n        let vector = p5.Vector.fromAngle(angleCombined);\n        vector.mult(RESOLUTION / 2);\n        stroke(255);\n        line(0, 0, vector.x, vector.y);\n\n        // draw index\n        let index = angles.length;\n        fill(255);\n        noStroke();\n        text(index, -15, -5);\n\n        pop();\n      }\n    }\n  }\n\n  for (let v of vehicles) {\n    // angles\n    let col = floor(v.pos.x / RESOLUTION); // x\n    let row = floor(v.pos.y / RESOLUTION); // y\n    let colNum = width / RESOLUTION; // width\n    let index = col + row * colNum; // x + y * w\n    let angle = angles[index];\n    v.flow(angle);\n\n    // attraction\n    if (keyIsPressed) {\n      v.attractedTo(v0);\n    }\n\n    v.update();\n    v.reappear();\n    //v.attractedTo();\n    //v.seek(target);\n    //v.display();\n    v.displayPoint();\n  }\n\n  //pattern\n  translate(width / 2, height / 2);\n  angle1 = floor(map(ui.a, 0, width, 0, 180));\n  noFill();\n  //stroke(255);\n  ui.i = ui.i + 0.0085;\n  ui.a = ui.a + 1.5;\n  ui.l = ui.l + 0.1;\n  if (ui.l > 107.5) {\n    ui.i = 6;\n    ui.l = 20;\n    ui.a = 100;\n  }\n\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n}\n\nfunction mousePressed() {\n  v0 = new Vehicle(width / 2, height / 2, 1);\n  for (let i = 0; i < 1000; i++) {\n    let pos = p5.Vector.random2D();\n    pos.mult((ui.scale * ui.l) / 100);\n    vehicles.push(new Vehicle(width / 2 + pos.x, height / 2 + pos.y));\n    //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n  }\n}\n\nfunction keyPressed() {\n  if (key === \"1\") {\n    scene = scene + 1;\n    if (scene > 4) {\n      scene = 1;\n    }\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angle1, len * 0.7);\n    drawBranch(targetX, targetY, deg + angle1, len * 0.7);\n  }\n\n  noStroke();\n  fill(255, 70);\n  if (scene === 1) {\n    circle(targetX, targetY, (200 / len) * noise(frameCount * 0.03));\n  }\n  if (scene === 2) {\n    circle(\n      targetX * sin(angle),\n      targetY,\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 3) {\n    circle(\n      targetX * sin(angle),\n      targetY * cos(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 4) {\n    circle(\n      targetX * sin(angle),\n      targetY * sin(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  //console.log(scene);\n}\n\nclass Vehicle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector();\n    this.acc = createVector();\n    //\n    this.mass = 1;\n    this.size = 20;\n    //\n    this.angle = 0;\n    //\n    this.maxSpeed = 2;\n    this.maxSteerForce = 0.1;\n  }\n  attractedTo(other) {\n    let vector = p5.Vector.sub(other.pos, this.pos);\n    vector.mult(0.003);\n    this.applyForce(vector);\n    this.vel.mult(0.8);\n  }\n  flow(angle) {\n    let desiredVel = p5.Vector.fromAngle(angle); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  seek(target) {\n    let desiredVel = p5.Vector.sub(target, this.pos);\n    desiredVel.normalize(); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n    //\n    this.angle = this.vel.heading();\n  }\n  applyForce(f) {\n    if (this.mass <= 0) {\n      console.log(\"Wrong mass\");\n      return;\n    }\n    let force = f.copy();\n    force.div(this.mass);\n    this.acc.add(force);\n  }\n  reappear() {\n    if (this.pos.x < 0) {\n      this.pos.x = width;\n    } else if (this.pos.x > width) {\n      this.pos.x = 0;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = height;\n    } else if (this.pos.y > height) {\n      this.pos.y = 0;\n    }\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n    rotate(this.angle);\n    noStroke();\n    fill(0);\n    triangle(0, 0, -this.size, -this.size * 0.4, -this.size, this.size * 0.4);\n    pop();\n  }\n  displayPoint() {\n    push();\n    stroke(255, 40);\n    // circle(this.pos.x, this.pos.y, 3*cos(this.pos.x-width/2));\n    circle(this.pos.x, this.pos.y, 3 * noise(frameCount * 0.01));\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6638810aa2da437d078a8987",
        "isSelectedFile": true,
        "createdAt": "2024-06-17T06:05:04.786Z",
        "updatedAt": "2024-06-17T06:05:04.786Z",
        "id": "6638810aa2da437d078a8987"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js\"></script>\n    <script language=\"javascript\" type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "6638810aa2da437d078a8986",
        "createdAt": "2024-06-17T06:05:04.786Z",
        "updatedAt": "2024-06-17T06:05:04.786Z",
        "isSelectedFile": false,
        "id": "6638810aa2da437d078a8986"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6638810aa2da437d078a8988",
        "createdAt": "2024-06-17T06:05:04.786Z",
        "updatedAt": "2024-06-17T06:05:04.786Z",
        "isSelectedFile": false,
        "id": "6638810aa2da437d078a8988"
      }
    ],
    "createdAt": "2024-05-06T07:04:42.420Z",
    "updatedAt": "2024-06-17T06:05:04.786Z",
    "id": "dE5X0cEcl"
  },
  {
    "_id": "b9FLnrlqo",
    "name": "Final Project 4 - Serial",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "663b9c5e6882160a22375c23",
          "663b9c5e6882160a22375c24",
          "663b9c5e6882160a22375c25"
        ],
        "fileType": "folder",
        "_id": "663b9c5e6882160a22375c22",
        "createdAt": "2024-05-09T13:17:13.663Z",
        "updatedAt": "2024-05-09T13:17:13.663Z",
        "isSelectedFile": false,
        "id": "663b9c5e6882160a22375c22"
      },
      {
        "name": "sketch.js",
        "content": "let serial;\nlet latestData = \"waiting for data\";\n\nlet gui;\nlet ui = {\n  a: 100,\n  l: 20,\n  i: 6,\n  back: 0.5,\n  leave: 0.2,\n  scale: 150,\n};\nlet objParams = {\n  frameRate: 0,\n};\n\nconst RESOLUTION = 50;\nconst FREQ_POS = 0.0035;\nconst FREQ_TIME = 0.0015;\nlet rows, cols;\nlet angles = [];\nlet vehicles = [];\nlet scene = 1;\n\nfunction setup() {\n  createCanvas(750, 750);\n\n  //Serial\n  serial = new p5.SerialPort();\n  serial.list();\n  serial.open(\"/dev/tty.usbmodem101\");\n  serial.on(\"connected\", serverConnected);\n  serial.on(\"list\", gotList);\n  serial.on(\"data\", gotData);\n  serial.on(\"error\", gotError);\n  serial.on(\"open\", gotOpen);\n  serial.on(\"close\", gotClose);\n\n  //GUI\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 100, 500);\n  gui.add(ui, \"l\", 20, 107.5);\n  gui.add(ui, \"i\", 6, 25);\n  gui.add(ui, \"back\", 0.5, 2).step(0.01).listen();\n  gui.add(ui, \"leave\", 0, 1).step(0.01).listen();\n  gui.add(ui, \"scale\", 100, 300);\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n\n  //Pattern\n  cols = ceil(width / RESOLUTION);\n  rows = ceil(height / RESOLUTION);\n}\n\nfunction draw() {\n  background(0);\n  \n  fill(0, 255, 0);\n  //text(latestData, 10, 20);\n\n  objParams.frameRate = frameRate().toFixed(2);\n\n  // vehicles\n  // empty the angles array\n  angles = [];\n  // draw and update the flow field;\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      let x = c * RESOLUTION;\n      let y = r * RESOLUTION;\n\n      // angle from center\n      let gridCenter = createVector(x + RESOLUTION / 2, y + RESOLUTION / 2);\n      let center = createVector(width / 2, height / 2);\n      let vectorToCenter = p5.Vector.sub(center, gridCenter);\n      let rotateAngle = map(sin(frameCount * 0.02), -1, 1, 0, 160);\n      vectorToCenter.rotate(radians(rotateAngle)); //frameCount * 0.n决定了范围\n      let angleFromCenter = vectorToCenter.heading();\n\n      // angle from noise\n      let xFrq = x * FREQ_POS + frameCount * FREQ_TIME;\n      let yFrq = y * FREQ_POS + frameCount * FREQ_TIME;\n      let noiseValue = noise(xFrq, yFrq); // 0 to 1\n      let angleFromNoise = map(noiseValue, 0, 1, 0, PI * 4); // ***\n\n      let angleCombined = angleFromCenter * ui.back + angleFromNoise * ui.leave;\n      angles.push(angleCombined);\n\n      if (false) {\n        push();\n        // draw grid\n        translate(x, y);\n        fill(0);\n        stroke(255, 100);\n        rect(0, 0, RESOLUTION, RESOLUTION);\n\n        // diplay line\n        translate(RESOLUTION / 2, RESOLUTION / 2);\n        let vector = p5.Vector.fromAngle(angleCombined);\n        vector.mult(RESOLUTION / 2);\n        stroke(255);\n        line(0, 0, vector.x, vector.y);\n\n        // draw index\n        let index = angles.length;\n        fill(255);\n        noStroke();\n        text(index, -15, -5);\n\n        pop();\n     }\n    }\n  }\n\n  for (let v of vehicles) {\n    // angles\n    let col = floor(v.pos.x / RESOLUTION); // x\n    let row = floor(v.pos.y / RESOLUTION); // y\n    let colNum = width / RESOLUTION; // width\n    let index = col + row * colNum; // x + y * w\n    let angle = angles[index];\n    v.flow(angle);\n\n    // attraction\n    if (keyIsPressed) {\n      v.attractedTo(v0);\n    }\n\n    v.update();\n    v.reappear();\n    //v.attractedTo();\n    //v.seek(target);\n    //v.display();\n    v.displayPoint();\n  }\n  \n  //Heart Beat trigger wave\n  if(latestData > 0){\n    ui.l = latestData*5;\n  }\n    \n  if(latestData > 10){  \n    for (let i = 0; i < 5; i++) {\n    let pos = p5.Vector.random2D();\n    pos.mult((ui.scale * ui.l) / 100);\n    vehicles.push(new Vehicle(width / 2 + pos.x, height / 2 + pos.y));\n    //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n    //translate(-width / 2, -height / 3);//initial position\n  }\n  }\n\n  //patterns\n  angle1 = floor(map(ui.a, 0, width, 0, 180));\n  noFill();\n  //stroke(255);\n  ui.i = ui.i + 0.006;\n  ui.a = ui.a + 1.5;\n  ui.l = ui.l + 0.1;\n  if (ui.l > 120) {\n    ui.i = 6;\n    ui.l = 20;\n    ui.a = 100;\n  }\n  \n//pattern1\n  translate(width / 2, height / 3);\n  for (let i = 0; i < ui.i; i++) {\n  drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n//pattern2\n  translate(-width / 6, height/3);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n//pattern3\n  translate(width / 3, 0);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n}\n\nfunction mousePressed() {\n  v0 = new Vehicle(width / 2, height / 2, 1);\n  for (let i = 0; i < 1000; i++) {\n    let pos = p5.Vector.random2D();\n    pos.mult((ui.scale * ui.l) / 100);\n   // vehicles.push(new Vehicle(width / 3 + pos.x, 2* height / 3 + pos.y));\n    //vehicles.push(new Vehicle(2* width / 3 + pos.x, 2* height / 3 + pos.y));\n    //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n  }\n}\n\nfunction keyPressed() {\n  if (key === \"1\") {\n    scene = scene + 1;\n    if (scene > 4) {\n      scene = 1;\n    }\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angle1, len * 0.7);\n    drawBranch(targetX, targetY, deg + angle1, len * 0.7);\n  }\n\n  noStroke();\n  fill(255, 30);\n  if (scene === 1) {\n    circle(targetX, targetY, (200 / len) * noise(frameCount * 0.03));\n  }\n  if (scene === 2) {\n    circle(\n      targetX * sin(angle),\n      targetY,\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 3) {\n    circle(\n      targetX * sin(angle),\n      targetY * cos(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 4) {\n    circle(\n      targetX * sin(angle),\n      targetY * sin(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n}\n\nclass Vehicle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector();\n    this.acc = createVector();\n    //\n    this.mass = 1;\n    this.size = 20;\n    //\n    this.angle = 0;\n    //\n    this.maxSpeed = 2;\n    this.maxSteerForce = 0.1;\n  }\n  attractedTo(other) {\n    let vector = p5.Vector.sub(other.pos, this.pos);\n    vector.mult(0.003);\n    this.applyForce(vector);\n    this.vel.mult(0.8);\n  }\n  flow(angle) {\n    let desiredVel = p5.Vector.fromAngle(angle); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  seek(target) {\n    let desiredVel = p5.Vector.sub(target, this.pos);\n    desiredVel.normalize(); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n    //\n    this.angle = this.vel.heading();\n  }\n  applyForce(f) {\n    if (this.mass <= 0) {\n      console.log(\"Wrong mass\");\n      return;\n    }\n    let force = f.copy();\n    force.div(this.mass);\n    this.acc.add(force);\n  }\n  reappear() {\n    if (this.pos.x < 0) {\n      this.pos.x = width;\n    } else if (this.pos.x > width) {\n      this.pos.x = 0;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = height;\n    } else if (this.pos.y > height) {\n      this.pos.y = 0;\n    }\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n    rotate(this.angle);\n    noStroke();\n    fill(0);\n    triangle(0, 0, -this.size, -this.size * 0.4, -this.size, this.size * 0.4);\n    pop();\n  }\n  displayPoint() {\n    push();\n    fill(255, 40);\n     circle(this.pos.x, this.pos.y, 3*cos(this.pos.x-width/2));\n    //circle(this.pos.x, this.pos.y, 3 * noise(frameCount * 0.01));\n    pop();\n  }\n}\n\n\n\nfunction serverConnected() {\n print(\"Connected to Server\");\n}\n\nfunction gotList(thelist) {\n print(\"List of Serial Ports:\");\n\n for (let i = 0; i < thelist.length; i++) {\n  print(i + \" \" + thelist[i]);\n }\n}\n\nfunction gotOpen() {\n print(\"Serial Port is Open\");\n}\n\nfunction gotClose(){\n print(\"Serial Port is Closed\");\n latestData = \"Serial Port is Closed\";\n}\n\nfunction gotError(theerror) {\n print(theerror);\n}\n\nfunction gotData() {\n let currentString = serial.readLine();\n  trim(currentString);\n if (!currentString) return;\n console.log(currentString);\n latestData = parseInt(currentString);\n}",
        "children": [],
        "fileType": "file",
        "_id": "663b9c5e6882160a22375c24",
        "isSelectedFile": true,
        "createdAt": "2024-05-09T13:17:13.663Z",
        "updatedAt": "2024-05-09T13:17:13.663Z",
        "id": "663b9c5e6882160a22375c24"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/addons/p5.sound.min.js\"></script>\n    <script language=\"javascript\" type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js\"></script>\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n  </head>\n  \n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "663b9c5e6882160a22375c23",
        "createdAt": "2024-05-09T13:17:13.663Z",
        "updatedAt": "2024-05-09T13:17:13.663Z",
        "isSelectedFile": false,
        "id": "663b9c5e6882160a22375c23"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "663b9c5e6882160a22375c25",
        "createdAt": "2024-05-09T13:17:13.663Z",
        "updatedAt": "2024-05-09T13:17:13.663Z",
        "isSelectedFile": false,
        "id": "663b9c5e6882160a22375c25"
      }
    ],
    "createdAt": "2024-05-08T15:38:07.043Z",
    "updatedAt": "2024-05-09T13:17:13.663Z",
    "id": "b9FLnrlqo"
  },
  {
    "_id": "JhWJbnind",
    "name": "Final Project 5- Serial",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "663cc338cbea394e1cbb8beb",
          "663cc338cbea394e1cbb8bec",
          "663cc338cbea394e1cbb8bed"
        ],
        "fileType": "folder",
        "_id": "663cc338cbea394e1cbb8bea",
        "createdAt": "2024-05-09T13:32:52.054Z",
        "updatedAt": "2024-05-09T13:32:52.054Z",
        "isSelectedFile": false,
        "id": "663cc338cbea394e1cbb8bea"
      },
      {
        "name": "sketch.js",
        "content": "let serial;\nlet latestData = \"waiting for data\";\n\nlet gui;\nlet ui = {\n  a: 100,\n  l: 20,\n  i: 6,\n  back: 0.5,\n  leave: 0,\n  scale: 150,\n};\nlet objParams = {\n  frameRate: 0,\n};\n\nconst RESOLUTION = 50;\nconst FREQ_POS = 0.0035;\nconst FREQ_TIME = 0.0015;\nlet rows, cols;\nlet angles = [];\nlet vehicles = [];\nlet scene = 1;\n\nfunction setup() {\n  createCanvas(750, 750);\n\n  //Serial\n  serial = new p5.SerialPort();\n  serial.list();\n  serial.open(\"/dev/tty.usbmodem101\");\n  serial.on(\"connected\", serverConnected);\n  serial.on(\"list\", gotList);\n  serial.on(\"data\", gotData);\n  serial.on(\"error\", gotError);\n  serial.on(\"open\", gotOpen);\n  serial.on(\"close\", gotClose);\n\n  //GUI\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 100, 500);\n  gui.add(ui, \"l\", 20, 120);\n  gui.add(ui, \"i\", 6, 25);\n  gui.add(ui, \"back\", 0.5, 3).step(0.01).listen();\n  gui.add(ui, \"leave\", 0, 1).step(0.01).listen();\n  gui.add(ui, \"scale\", 100, 300);\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n\n  //Pattern\n  cols = ceil(width / RESOLUTION);\n  rows = ceil(height / RESOLUTION);\n}\n\nfunction draw() {\n  background(0);\n\n  fill(255);\n  //text(latestData, 10, 20);\n\n  objParams.frameRate = frameRate().toFixed(2);\n\n  // vehicles\n  // empty the angles array\n  angles = [];\n  // draw and update the flow field;\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      let x = c * RESOLUTION;\n      let y = r * RESOLUTION;\n\n      // angle from center\n      let gridCenter = createVector(x + RESOLUTION / 2, y + RESOLUTION / 2);\n      let center = createVector(width / 2, height / 2);\n      let vectorToCenter = p5.Vector.sub(center, gridCenter);\n      let rotateAngle = map(sin(frameCount * 0.02), -1, 1, 0, 160);\n      vectorToCenter.rotate(radians(rotateAngle)); //frameCount * 0.n决定了范围\n      let angleFromCenter = vectorToCenter.heading();\n\n      // angle from noise\n      let xFrq = x * FREQ_POS + frameCount * FREQ_TIME;\n      let yFrq = y * FREQ_POS + frameCount * FREQ_TIME;\n      let noiseValue = noise(xFrq, yFrq); // 0 to 1\n      let angleFromNoise = map(noiseValue, 0, 1, 0, PI * 4); // ***\n\n      let angleCombined = angleFromCenter * ui.back + angleFromNoise * ui.leave;\n      angles.push(angleCombined);\n\n      if (false) {\n        push();\n        // draw grid\n        translate(x, y);\n        fill(0);\n        stroke(255, 100);\n        rect(0, 0, RESOLUTION, RESOLUTION);\n\n        // diplay line\n        translate(RESOLUTION / 2, RESOLUTION / 2);\n        let vector = p5.Vector.fromAngle(angleCombined);\n        vector.mult(RESOLUTION / 2);\n        stroke(255);\n        line(0, 0, vector.x, vector.y);\n\n        // draw index\n        let index = angles.length;\n        fill(255);\n        noStroke();\n        text(index, -15, -5);\n\n        pop();\n      }\n    }\n  }\n\n  for (let v of vehicles) {\n    // angles\n    let col = floor(v.pos.x / RESOLUTION); // x\n    let row = floor(v.pos.y / RESOLUTION); // y\n    let colNum = width / RESOLUTION; // width\n    let index = col + row * colNum; // x + y * w\n    let angle = angles[index];\n    v.flow(angle);\n\n    // attraction\n    if (keyIsPressed) {\n      v.attractedTo(v0);\n    }\n\n    v.update();\n    v.reappear();\n    //v.attractedTo();\n    //v.seek(target);\n    //v.display();\n    v.displayPoint();\n  }\n\n  //Heart Beat trigger wave\n  if (latestData > 0) {\n    //ui.a =  1.5 + latestData*10;\n    //ui.i = 0.006 + latestData;\n    ui.l = latestData * 5;\n    ui.back = (20-latestData) * 0.1;\n    ui.leave = latestData * 0.05;\n    for (let i = 0; i < 5; i++) {\n      let pos = p5.Vector.random2D();\n      pos.mult((ui.scale * ui.l) / 100);\n      vehicles.push(new Vehicle(width / 2 + pos.x, height / 2 + pos.y));\n      //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n      //translate(-width / 2, -height / 3);//initial position\n    }\n  }\n\n  while (vehicles.length > 3000) {\n    vehicles.splice(0, 1);\n  }\n\n  //patterns\n  angle1 = floor(map(ui.a, 0, width, 0, 180));\n  noFill();\n  ui.i = ui.i + 0.006;\n  ui.a = ui.a + 1.5;\n  ui.l = ui.l + 0.1;\n   if (ui.l > 100) {\n     ui.i = 6;\n     ui.l = 5;\n     ui.a = 100;\n   }\n\n  //pattern1\n  translate(width / 2, height / 3);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  //pattern2\n  translate(-width / 6, height / 3);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  //pattern3\n  translate(width / 3, 0);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n}\n\nfunction mousePressed() {\n  v0 = new Vehicle(width / 2, height / 2, 1);\n  for (let i = 0; i < 1000; i++) {\n    let pos = p5.Vector.random2D();\n    pos.mult((ui.scale * ui.l) / 100);\n    // vehicles.push(new Vehicle(width / 3 + pos.x, 2* height / 3 + pos.y));\n    //vehicles.push(new Vehicle(2* width / 3 + pos.x, 2* height / 3 + pos.y));\n    //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n  }\n}\n\nfunction keyPressed() {\n  if (key === \"1\") {\n    scene = scene + 1;\n    if (scene > 4) {\n      scene = 1;\n    }\n  }\n  if (key == \"f\" || key == \"F\") {\n    let fs = fullscreen();\n    fullscreen(!fs);\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angle1, len * 0.7);\n    drawBranch(targetX, targetY, deg + angle1, len * 0.7);\n  }\n\n  noStroke();\n  fill(255, 30);\n  if (scene === 1) {\n    circle(targetX, targetY, (200 / len) * noise(frameCount * 0.03));\n  }\n  if (scene === 2) {\n    circle(\n      targetX * sin(angle),\n      targetY,\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 3) {\n    circle(\n      targetX * sin(angle),\n      targetY * cos(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 4) {\n    circle(\n      targetX * sin(angle),\n      targetY * sin(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n}\n\nclass Vehicle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector();\n    this.acc = createVector();\n    //\n    this.mass = 1;\n    this.size = 20;\n    //\n    this.angle = 0;\n    //\n    this.maxSpeed = 2;\n    this.maxSteerForce = 0.1;\n  }\n  attractedTo(other) {\n    let vector = p5.Vector.sub(other.pos, this.pos);\n    vector.mult(0.002 );\n    this.applyForce(vector);\n    this.vel.mult(0.8);\n  }\n  flow(angle) {\n    let desiredVel = p5.Vector.fromAngle(angle); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  seek(target) {\n    let desiredVel = p5.Vector.sub(target, this.pos);\n    desiredVel.normalize(); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n    //\n    this.angle = this.vel.heading();\n  }\n  applyForce(f) {\n    if (this.mass <= 0) {\n      //console.log(\"Wrong mass\");\n      return;\n    }\n    let force = f.copy();\n    force.div(this.mass);\n    this.acc.add(force);\n  }\n  reappear() {\n    if (this.pos.x < 0) {\n      this.pos.x = width;\n    } else if (this.pos.x > width) {\n      this.pos.x = 0;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = height;\n    } else if (this.pos.y > height) {\n      this.pos.y = 0;\n    }\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n    rotate(this.angle);\n    noStroke();\n    fill(0);\n    triangle(0, 0, -this.size, -this.size * 0.4, -this.size, this.size * 0.4);\n    pop();\n  }\n  displayPoint() {\n    push();\n    fill(255, 40);\n    circle(this.pos.x, this.pos.y, 3 * cos(this.pos.x - width / 2));\n    //circle(this.pos.x, this.pos.y, 3 * noise(frameCount * 0.01));\n    pop();\n  }\n}\n\nfunction serverConnected() {\n  print(\"Connected to Server\");\n}\n\nfunction gotList(thelist) {\n  print(\"List of Serial Ports:\");\n\n  for (let i = 0; i < thelist.length; i++) {\n    print(i + \" \" + thelist[i]);\n  }\n}\n\nfunction gotOpen() {\n  print(\"Serial Port is Open\");\n}\n\nfunction gotClose() {\n  print(\"Serial Port is Closed\");\n  latestData = \"Serial Port is Closed\";\n}\n\nfunction gotError(theerror) {\n  print(theerror);\n}\n\nfunction gotData() {\n  let currentString = serial.readLine();\n  trim(currentString);\n  if (!currentString) return;\n  //console.log(currentString);\n  latestData = parseInt(currentString);\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "663cc338cbea394e1cbb8bec",
        "isSelectedFile": true,
        "createdAt": "2024-05-09T13:32:52.054Z",
        "updatedAt": "2024-05-09T13:32:52.054Z",
        "id": "663cc338cbea394e1cbb8bec"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/addons/p5.sound.min.js\"></script>\n    <script language=\"javascript\" type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js\"></script>\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n  </head>\n  \n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "663cc338cbea394e1cbb8beb",
        "createdAt": "2024-05-09T13:32:52.054Z",
        "updatedAt": "2024-05-09T13:32:52.054Z",
        "isSelectedFile": false,
        "id": "663cc338cbea394e1cbb8beb"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\n\ncanvas {\n  display: block;\n}\n\nmain {\n  width: 100vw;\n  height: 100vh;\n  \n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "663cc338cbea394e1cbb8bed",
        "createdAt": "2024-05-09T13:32:52.054Z",
        "updatedAt": "2024-05-09T13:32:52.054Z",
        "isSelectedFile": false,
        "id": "663cc338cbea394e1cbb8bed"
      }
    ],
    "createdAt": "2024-05-09T12:36:09.165Z",
    "updatedAt": "2024-05-09T13:32:52.054Z",
    "id": "JhWJbnind"
  },
  {
    "_id": "ifcUGCrPH",
    "name": "Final Project 6  Serial",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "663c92cccbea394e1cbb8be7",
          "663c92cccbea394e1cbb8be8",
          "663c92cccbea394e1cbb8be9"
        ],
        "fileType": "folder",
        "_id": "663c92cccbea394e1cbb8be6",
        "createdAt": "2024-05-10T14:10:14.577Z",
        "updatedAt": "2024-05-10T14:10:14.577Z",
        "isSelectedFile": false,
        "id": "663c92cccbea394e1cbb8be6"
      },
      {
        "name": "sketch.js",
        "content": "let serial;\nlet latestData = \"waiting for data\";\n\nlet gui;\nlet ui = {\n  a: 100,\n  l: 20,\n  i: 6,\n  back: 0.5,\n  leave: 0,\n  scale: 150,\n};\nlet objParams = {\n  frameRate: 0,\n};\n\nconst RESOLUTION = 50;\nconst FREQ_POS = 0.0035;\nconst FREQ_TIME = 0.0015;\nlet rows, cols;\nlet angles = [];\nlet vehicles = [];\nlet scene = 1;\n\nfunction setup() {\n  createCanvas(700, 700);\n\n  //Serial\n  serial = new p5.SerialPort();\n  serial.list();\n  serial.open(\"/dev/tty.usbmodem101\");\n  serial.on(\"connected\", serverConnected);\n  serial.on(\"list\", gotList);\n  serial.on(\"data\", gotData);\n  serial.on(\"error\", gotError);\n  serial.on(\"open\", gotOpen);\n  serial.on(\"close\", gotClose);\n\n  //GUI\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 100, 500);\n  gui.add(ui, \"l\", 20, 120);\n  gui.add(ui, \"i\", 6, 25);\n  gui.add(ui, \"back\", 0.5, 3).step(0.01).listen();\n  gui.add(ui, \"leave\", 0, 1).step(0.01).listen();\n  gui.add(ui, \"scale\", 100, 300);\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n\n  //Pattern\n  cols = ceil(width / RESOLUTION);\n  rows = ceil(height / RESOLUTION);\n}\n\nfunction draw() {\n  background(0);\n\n  fill(255);\n  //text(latestData, 10, 20);\n\n  objParams.frameRate = frameRate().toFixed(2);\n\n  // vehicles\n  // empty the angles array\n  angles = [];\n  // draw and update the flow field;\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      let x = c * RESOLUTION;\n      let y = r * RESOLUTION;\n\n      // angle from center\n      let gridCenter = createVector(x + RESOLUTION / 2, y + RESOLUTION / 2);\n      let center = createVector(width / 2, height / 2);\n      let vectorToCenter = p5.Vector.sub(center, gridCenter);\n      let rotateAngle = map(sin(frameCount * 0.02), -1, 1, 0, 160);\n      vectorToCenter.rotate(radians(rotateAngle)); //frameCount * 0.n决定了范围\n      let angleFromCenter = vectorToCenter.heading();\n\n      // angle from noise\n      let xFrq = x * FREQ_POS + frameCount * FREQ_TIME;\n      let yFrq = y * FREQ_POS + frameCount * FREQ_TIME;\n      let noiseValue = noise(xFrq, yFrq); // 0 to 1\n      let angleFromNoise = map(noiseValue, 0, 1, 0, PI * 4); // ***\n\n      let angleCombined = angleFromCenter * ui.back + angleFromNoise * ui.leave;\n      angles.push(angleCombined);\n\n      if (false) {\n        push();\n        // draw grid\n        translate(x, y);\n        fill(0);\n        stroke(255, 100);\n        rect(0, 0, RESOLUTION, RESOLUTION);\n\n        // diplay line\n        translate(RESOLUTION / 2, RESOLUTION / 2);\n        let vector = p5.Vector.fromAngle(angleCombined);\n        vector.mult(RESOLUTION / 2);\n        stroke(255);\n        line(0, 0, vector.x, vector.y);\n\n        // draw index\n        let index = angles.length;\n        fill(255);\n        noStroke();\n        text(index, -15, -5);\n\n        pop();\n      }\n    }\n  }\n\n  for (let v of vehicles) {\n    // angles\n    let col = floor(v.pos.x / RESOLUTION); // x\n    let row = floor(v.pos.y / RESOLUTION); // y\n    let colNum = width / RESOLUTION; // width\n    let index = col + row * colNum; // x + y * w\n    let angle = angles[index];\n    v.flow(angle);\n\n    // attraction\n    // if (keyIsPressed) {\n    //   v.attractedTo(v0);\n    // }\n\n    v.update();\n    v.reappear();\n    //v.attractedTo();\n    //v.seek(target);\n    //v.display();\n    v.displayPoint();\n  }\n\n  //Heart Beat trigger wave\n  if (latestData > 0) {\n    //ui.a =  1.5 + latestData*10;\n    //ui.i = 0.006 + latestData;\n    ui.l = 1 + latestData * 5;\n    ui.back = (20-latestData) * 0.1;\n    ui.leave = latestData * 0.05;\n    for (let i = 0; i < 5; i++) {\n      let pos = p5.Vector.random2D();\n      pos.mult((ui.scale * ui.l) / 100);\n      vehicles.push(new Vehicle(width / 2 + pos.x, height / 2 + pos.y));\n      //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n      //translate(-width / 2, -height / 3);//initial position\n    }\n        //patterns\n  angle1 = floor(map(ui.a, 0, width, 0, 180));\n  noFill();\n  ui.i = ui.i + 0.006;\n  ui.a = ui.a + 1.5;\n  //ui.l = ui.l + 0.1;\n   if ( latestData >= 20) {\n     ui.i = 6;\n     ui.l = 0;\n     ui.a = 100;\n   }\n\n    \n    //pattern1\n  translate(width / 2, height / 3);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  //pattern2\n  translate(-width / 6, height / 3);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  //pattern3\n  translate(width / 3, 0);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  }\n\n  while (vehicles.length > 3000) {\n    vehicles.splice(0, 1);\n  }\n}\n\nfunction mousePressed() {\n  v0 = new Vehicle(width / 2, height / 2, 1);\n  for (let i = 0; i < 1000; i++) {\n    let pos = p5.Vector.random2D();\n    pos.mult((ui.scale * ui.l) / 100);\n    // vehicles.push(new Vehicle(width / 3 + pos.x, 2* height / 3 + pos.y));\n    //vehicles.push(new Vehicle(2* width / 3 + pos.x, 2* height / 3 + pos.y));\n    //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n  }\n}\n\nfunction keyPressed() {\n  if (key === \"1\") {\n    scene = scene + 1;\n    if (scene > 4) {\n      scene = 1;\n    }\n  }\n  if (key == \"f\" || key == \"F\") {\n    let fs = fullscreen();\n    fullscreen(!fs);\n  }\n  \n//   if(key == \"a\"|| key == \"A\"){\n//     for (let v of vehicles) {\n//             v.attractedTo(v0);\n//     }\n// }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angle1, len * 0.7);\n    drawBranch(targetX, targetY, deg + angle1, len * 0.7);\n  }\n\n  noStroke();\n  fill(255, 30);\n  if (scene === 1) {\n    circle(targetX, targetY, (200 / len) * noise(frameCount * 0.03));\n  }\n  if (scene === 2) {\n    circle(\n      targetX * sin(angle),\n      targetY,\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 3) {\n    circle(\n      targetX * sin(angle),\n      targetY * cos(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 4) {\n    circle(\n      targetX * sin(angle),\n      targetY * sin(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n}\n\nclass Vehicle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector();\n    this.acc = createVector();\n    //\n    this.mass = 1;\n    this.size = 20;\n    //\n    this.angle = 0;\n    //\n    this.maxSpeed = 2;\n    this.maxSteerForce = 0.1;\n  }\n  attractedTo(other) {\n    let vector = p5.Vector.sub(other.pos, this.pos);\n    vector.mult(0.002 );\n    this.applyForce(vector);\n    this.vel.mult(0.8);\n  }\n  flow(angle) {\n    let desiredVel = p5.Vector.fromAngle(angle); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  seek(target) {\n    let desiredVel = p5.Vector.sub(target, this.pos);\n    desiredVel.normalize(); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n    //\n    this.angle = this.vel.heading();\n  }\n  applyForce(f) {\n    if (this.mass <= 0) {\n      //console.log(\"Wrong mass\");\n      return;\n    }\n    let force = f.copy();\n    force.div(this.mass);\n    this.acc.add(force);\n  }\n  reappear() {\n    if (this.pos.x < 0) {\n      this.pos.x = width;\n    } else if (this.pos.x > width) {\n      this.pos.x = 0;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = height;\n    } else if (this.pos.y > height) {\n      this.pos.y = 0;\n    }\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n    rotate(this.angle);\n    noStroke();\n    fill(0);\n    triangle(0, 0, -this.size, -this.size * 0.4, -this.size, this.size * 0.4);\n    pop();\n  }\n  displayPoint() {\n    push();\n    fill(255, 40);\n    circle(this.pos.x, this.pos.y, 3 * cos(this.pos.x - width / 2));\n    //circle(this.pos.x, this.pos.y, 3 * noise(frameCount * 0.01));\n    pop();\n  }\n}\n\nfunction serverConnected() {\n  print(\"Connected to Server\");\n}\n\nfunction gotList(thelist) {\n  print(\"List of Serial Ports:\");\n\n  for (let i = 0; i < thelist.length; i++) {\n    print(i + \" \" + thelist[i]);\n  }\n}\n\nfunction gotOpen() {\n  print(\"Serial Port is Open\");\n}\n\nfunction gotClose() {\n  print(\"Serial Port is Closed\");\n  latestData = \"Serial Port is Closed\";\n}\n\nfunction gotError(theerror) {\n  print(theerror);\n}\n\nfunction gotData() {\n  let currentString = serial.readLine();\n  trim(currentString);\n  if (!currentString) return;\n  //console.log(currentString);\n  latestData = parseInt(currentString);\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "663c92cccbea394e1cbb8be8",
        "isSelectedFile": true,
        "createdAt": "2024-05-10T14:10:14.577Z",
        "updatedAt": "2024-05-10T14:10:14.577Z",
        "id": "663c92cccbea394e1cbb8be8"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/addons/p5.sound.min.js\"></script>\n    <script language=\"javascript\" type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js\"></script>\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n  </head>\n  \n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "663c92cccbea394e1cbb8be7",
        "createdAt": "2024-05-10T14:10:14.577Z",
        "updatedAt": "2024-05-10T14:10:14.577Z",
        "isSelectedFile": false,
        "id": "663c92cccbea394e1cbb8be7"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\n\ncanvas {\n  display: block;\n}\n\nmain {\n  width: 100vw;\n  height: 100vh;\n  \n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "663c92cccbea394e1cbb8be9",
        "createdAt": "2024-05-10T14:10:14.577Z",
        "updatedAt": "2024-05-10T14:10:14.577Z",
        "isSelectedFile": false,
        "id": "663c92cccbea394e1cbb8be9"
      }
    ],
    "createdAt": "2024-05-09T09:09:33.741Z",
    "updatedAt": "2024-05-10T14:10:14.577Z",
    "id": "ifcUGCrPH"
  },
  {
    "_id": "BcXKhEybk",
    "name": "Final Project 7 Serial",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "663de410ca1c6b54e08806a4",
          "663de410ca1c6b54e08806a5",
          "663de410ca1c6b54e08806a6"
        ],
        "fileType": "folder",
        "_id": "663de410ca1c6b54e08806a3",
        "createdAt": "2024-05-10T09:11:09.364Z",
        "updatedAt": "2024-05-10T09:11:09.364Z",
        "isSelectedFile": false,
        "id": "663de410ca1c6b54e08806a3"
      },
      {
        "name": "sketch.js",
        "content": "let serial;\nlet latestData = \"waiting for data\";\n\nlet gui;\nlet ui = {\n  a: 100,\n  l: 20,\n  i: 6,\n  back: 0.5,\n  leave: 0,\n  scale: 150,\n};\nlet objParams = {\n  frameRate: 0,\n};\n\nconst RESOLUTION = 50;\nconst FREQ_POS = 0.0035;\nconst FREQ_TIME = 0.0015;\nlet rows, cols;\nlet angles = [];\nlet vehicles = [];\nlet scene = 1;\n\nfunction setup() {\n  createCanvas(700, 700);\n\n  //Serial\n  serial = new p5.SerialPort();\n  serial.list();\n  serial.open(\"/dev/tty.usbmodem101\");\n  serial.on(\"connected\", serverConnected);\n  serial.on(\"list\", gotList);\n  serial.on(\"data\", gotData);\n  serial.on(\"error\", gotError);\n  serial.on(\"open\", gotOpen);\n  serial.on(\"close\", gotClose);\n\n  //GUI\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 100, 500);\n  gui.add(ui, \"l\", 20, 120);\n  gui.add(ui, \"i\", 6, 25);\n  gui.add(ui, \"back\", 0.5, 3).step(0.01).listen();\n  gui.add(ui, \"leave\", 0, 1).step(0.01).listen();\n  gui.add(ui, \"scale\", 100, 300);\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n\n  //Pattern\n  cols = ceil(width / RESOLUTION);\n  rows = ceil(height / RESOLUTION);\n}\n\nfunction draw() {\n  background(0);\n\n  fill(255);\n  //text(latestData, 10, 20);\n\n  objParams.frameRate = frameRate().toFixed(2);\n\n  // vehicles\n  // empty the angles array\n  angles = [];\n  // draw and update the flow field;\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      let x = c * RESOLUTION;\n      let y = r * RESOLUTION;\n\n      // angle from center\n      let gridCenter = createVector(x + RESOLUTION / 2, y + RESOLUTION / 2);\n      let center = createVector(width / 2, height / 2);\n      let vectorToCenter = p5.Vector.sub(center, gridCenter);\n      let rotateAngle = map(sin(frameCount * 0.02), -1, 1, 0, 160);\n      vectorToCenter.rotate(radians(rotateAngle)); //frameCount * 0.n决定了范围\n      let angleFromCenter = vectorToCenter.heading();\n\n      // angle from noise\n      let xFrq = x * FREQ_POS + frameCount * FREQ_TIME;\n      let yFrq = y * FREQ_POS + frameCount * FREQ_TIME;\n      let noiseValue = noise(xFrq, yFrq); // 0 to 1\n      let angleFromNoise = map(noiseValue, 0, 1, 0, PI * 4); // ***\n\n      let angleCombined = angleFromCenter * ui.back + angleFromNoise * ui.leave;\n      angles.push(angleCombined);\n\n      if (false) {\n        push();\n        // draw grid\n        translate(x, y);\n        fill(0);\n        stroke(255, 100);\n        rect(0, 0, RESOLUTION, RESOLUTION);\n\n        // diplay line\n        translate(RESOLUTION / 2, RESOLUTION / 2);\n        let vector = p5.Vector.fromAngle(angleCombined);\n        vector.mult(RESOLUTION / 2);\n        stroke(255);\n        line(0, 0, vector.x, vector.y);\n\n        // draw index\n        let index = angles.length;\n        fill(255);\n        noStroke();\n        text(index, -15, -5);\n\n        pop();\n      }\n    }\n  }\n\n  for (let v of vehicles) {\n    // angles\n    let col = floor(v.pos.x / RESOLUTION); // x\n    let row = floor(v.pos.y / RESOLUTION); // y\n    let colNum = width / RESOLUTION; // width\n    let index = col + row * colNum; // x + y * w\n    let angle = angles[index];\n    v.flow(angle);\n\n    // attraction\n    // if (keyIsPressed) {\n    //   v.attractedTo(v0);\n    // }\n\n    v.update();\n    v.reappear();\n    //v.attractedTo();\n    //v.seek(target);\n    //v.display();\n    v.displayPoint();\n  }\n\n  //Heart Beat trigger wave\n  if (latestData > 0) {\n    //ui.a =  1.5 + latestData*10;\n    //ui.i = 0.006 + latestData;\n    ui.l = 1 + latestData * 5;\n    ui.back = (20-latestData) * 0.1;\n    ui.leave = latestData * 0.05;\n    for (let i = 0; i < 5; i++) {\n      let pos = p5.Vector.random2D();\n      pos.mult((ui.scale * ui.l) / 100);\n      vehicles.push(new Vehicle(width / 2 + pos.x, height / 2 + pos.y));\n      //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n      //translate(-width / 2, -height / 3);//initial position\n    }\n        //patterns\n  angle1 = floor(map(ui.a, 0, width, 0, 180));\n  noFill();\n  ui.i = ui.i + 0.006;\n  ui.a = ui.a + 1.5;\n  //ui.l = ui.l + 0.1;\n   if ( latestData >= 20) {\n     ui.i = 6;\n     ui.l = 0;\n     ui.a = 100;\n   }\n\n    \n    //pattern1\n  translate(width / 2, height / 3+height/8);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  //pattern2\n  translate(-width / 8, height / 3-height/8);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  //pattern3\n  translate(width / 4, 0);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  }\n\n  while (vehicles.length > 3000) {\n    vehicles.splice(0, 1);\n  }\n}\n\nfunction mousePressed() {\n  v0 = new Vehicle(width / 2, height / 2, 1);\n  for (let i = 0; i < 1000; i++) {\n    let pos = p5.Vector.random2D();\n    pos.mult((ui.scale * ui.l) / 100);\n    // vehicles.push(new Vehicle(width / 3 + pos.x, 2* height / 3 + pos.y));\n    //vehicles.push(new Vehicle(2* width / 3 + pos.x, 2* height / 3 + pos.y));\n    //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n  }\n}\n\nfunction keyPressed() {\n  if (key === \"1\") {\n    scene = scene + 1;\n    if (scene > 4) {\n      scene = 1;\n    }\n  }\n  if (key == \"f\" || key == \"F\") {\n    let fs = fullscreen();\n    fullscreen(!fs);\n  }\n  \n//   if(key == \"a\"|| key == \"A\"){\n//     for (let v of vehicles) {\n//             v.attractedTo(v0);\n//     }\n// }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angle1, len * 0.7);\n    drawBranch(targetX, targetY, deg + angle1, len * 0.7);\n  }\n\n  noStroke();\n  fill(255, 30);\n  if (scene === 1) {\n    circle(targetX, targetY, (200 / len) * noise(frameCount * 0.03));\n  }\n  if (scene === 2) {\n    circle(\n      targetX * sin(angle),\n      targetY,\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 3) {\n    circle(\n      targetX * sin(angle),\n      targetY * cos(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 4) {\n    circle(\n      targetX * sin(angle),\n      targetY * sin(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n}\n\nclass Vehicle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector();\n    this.acc = createVector();\n    //\n    this.mass = 1;\n    this.size = 20;\n    //\n    this.angle = 0;\n    //\n    this.maxSpeed = 2;\n    this.maxSteerForce = 0.1;\n  }\n  attractedTo(other) {\n    let vector = p5.Vector.sub(other.pos, this.pos);\n    vector.mult(0.002 );\n    this.applyForce(vector);\n    this.vel.mult(0.8);\n  }\n  flow(angle) {\n    let desiredVel = p5.Vector.fromAngle(angle); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  seek(target) {\n    let desiredVel = p5.Vector.sub(target, this.pos);\n    desiredVel.normalize(); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n    //\n    this.angle = this.vel.heading();\n  }\n  applyForce(f) {\n    if (this.mass <= 0) {\n      //console.log(\"Wrong mass\");\n      return;\n    }\n    let force = f.copy();\n    force.div(this.mass);\n    this.acc.add(force);\n  }\n  reappear() {\n    if (this.pos.x < 0) {\n      this.pos.x = width;\n    } else if (this.pos.x > width) {\n      this.pos.x = 0;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = height;\n    } else if (this.pos.y > height) {\n      this.pos.y = 0;\n    }\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n    rotate(this.angle);\n    noStroke();\n    fill(0);\n    triangle(0, 0, -this.size, -this.size * 0.4, -this.size, this.size * 0.4);\n    pop();\n  }\n  displayPoint() {\n    push();\n    fill(255, 40);\n    circle(this.pos.x, this.pos.y, 3 * cos(this.pos.x - width / 2));\n    //circle(this.pos.x, this.pos.y, 3 * noise(frameCount * 0.01));\n    pop();\n  }\n}\n\nfunction serverConnected() {\n  print(\"Connected to Server\");\n}\n\nfunction gotList(thelist) {\n  print(\"List of Serial Ports:\");\n\n  for (let i = 0; i < thelist.length; i++) {\n    print(i + \" \" + thelist[i]);\n  }\n}\n\nfunction gotOpen() {\n  print(\"Serial Port is Open\");\n}\n\nfunction gotClose() {\n  print(\"Serial Port is Closed\");\n  latestData = \"Serial Port is Closed\";\n}\n\nfunction gotError(theerror) {\n  print(theerror);\n}\n\nfunction gotData() {\n  let currentString = serial.readLine();\n  trim(currentString);\n  if (!currentString) return;\n  //console.log(currentString);\n  latestData = parseInt(currentString);\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "663de410ca1c6b54e08806a5",
        "isSelectedFile": true,
        "createdAt": "2024-05-10T09:11:09.364Z",
        "updatedAt": "2024-05-10T09:11:09.364Z",
        "id": "663de410ca1c6b54e08806a5"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/addons/p5.sound.min.js\"></script>\n    <script language=\"javascript\" type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js\"></script>\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n  </head>\n  \n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "663de410ca1c6b54e08806a4",
        "createdAt": "2024-05-10T09:11:09.364Z",
        "updatedAt": "2024-05-10T09:11:09.364Z",
        "isSelectedFile": false,
        "id": "663de410ca1c6b54e08806a4"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\n\ncanvas {\n  display: block;\n}\n\nmain {\n  width: 100vw;\n  height: 100vh;\n  \n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "663de410ca1c6b54e08806a6",
        "createdAt": "2024-05-10T09:11:09.364Z",
        "updatedAt": "2024-05-10T09:11:09.364Z",
        "isSelectedFile": false,
        "id": "663de410ca1c6b54e08806a6"
      }
    ],
    "createdAt": "2024-05-10T09:08:32.354Z",
    "updatedAt": "2024-05-10T09:11:09.364Z",
    "id": "BcXKhEybk"
  },
  {
    "_id": "iC1TtJCC0",
    "name": "Final Project1",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66334a4773aa2659a12e3d0b",
          "66334a4773aa2659a12e3d0c",
          "66334a4773aa2659a12e3d0d"
        ],
        "fileType": "folder",
        "_id": "66334a4773aa2659a12e3d0a",
        "createdAt": "2024-05-03T17:12:00.614Z",
        "updatedAt": "2024-05-03T17:12:00.614Z",
        "isSelectedFile": false,
        "id": "66334a4773aa2659a12e3d0a"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet ui = {\n  a: 100,\n  l: 20,\n  i: 6,\n};\n\nlet angle1 = 0;\n\nfunction setup() {\n  createCanvas(700, 700);\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 100, 500);\n  gui.add(ui, \"l\", 20, 107.5);\n  gui.add(ui, \"i\", 6, 25);\n}\n\nfunction draw() {\n  background(0);\n  angle1 = floor(map(ui.a, 0, width, 0, 180));\n  translate(width/2, height/2);\n\n  noFill();\n  //stroke(255);\n  \n  \n  ui.i = ui.i + 0.003;\n  ui.a = ui.a + 1.5;\n  ui.l = ui.l + 0.1;\n  if(ui.l > 107.5){\n  ui.l = 20;\n  }\n  \n  for (let i = 0; i < ui.i; i++) {\n  drawBranch(0, 0, 360/ui.i * i, ui.l);\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  line(x, y, targetX, targetY);\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angle1, len * 0.7);\n    drawBranch(targetX, targetY, deg + angle1, len * 0.7);\n  }\n  \n  //blendMode(ADD);\n  noStroke();\n  fill(255, 20);\n  circle(targetX, targetY, 125/len);\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "66334a4773aa2659a12e3d0c",
        "isSelectedFile": true,
        "createdAt": "2024-05-03T17:12:00.614Z",
        "updatedAt": "2024-05-03T17:12:00.614Z",
        "id": "66334a4773aa2659a12e3d0c"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js\"></script>\n    <script language=\"javascript\" type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n             <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "66334a4773aa2659a12e3d0b",
        "createdAt": "2024-05-03T17:12:00.614Z",
        "updatedAt": "2024-05-03T17:12:00.614Z",
        "isSelectedFile": false,
        "id": "66334a4773aa2659a12e3d0b"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "66334a4773aa2659a12e3d0d",
        "createdAt": "2024-05-03T17:12:00.614Z",
        "updatedAt": "2024-05-03T17:12:00.614Z",
        "isSelectedFile": false,
        "id": "66334a4773aa2659a12e3d0d"
      }
    ],
    "createdAt": "2024-05-02T08:09:44.038Z",
    "updatedAt": "2024-05-03T17:12:00.614Z",
    "id": "iC1TtJCC0"
  },
  {
    "_id": "NBEHRWWqT",
    "name": "Final Project2",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "663856a2a2da437d078a8982",
          "663856a2a2da437d078a8983",
          "663856a2a2da437d078a8984"
        ],
        "fileType": "folder",
        "_id": "663856a2a2da437d078a8981",
        "createdAt": "2024-05-06T07:04:40.040Z",
        "updatedAt": "2024-05-06T07:04:40.040Z",
        "isSelectedFile": false,
        "id": "663856a2a2da437d078a8981"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet ui = {\n  a: 100,\n  l: 20,\n  i: 6,\n};\n\nlet angle1 = 0;\n\nconst RESOLUTION = 50;\nconst FREQ_POS = 0.0035;\nconst FREQ_TIME = 0.0015;\nlet rows, cols;\nlet angles = [];\nlet vehicles = [];\n\nfunction setup() {\n  createCanvas(700, 700);\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 100, 500);\n  gui.add(ui, \"l\", 20, 107.5);\n  gui.add(ui, \"i\", 6, 25);\n\n  //Pattern\n  cols = ceil(width/ RESOLUTION);\n  rows = ceil(height/ RESOLUTION);\n\n  for (let i = 0; i < 100; i++) {\n    vehicles.push(\n      new Vehicle(\n       width/2 + random(-0.1 * i, 0.1 * i),\n       height/2 + random(-0.1 * i, 0.1 * i)\n      )\n    );\n  }\n}\n\nfunction draw() {\n  background(0);\n  \n  // vehicles\n  // empty the angles array\n  angles = [];\n  // draw and update the flow field;\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      let x = c * RESOLUTION;\n      let y = r * RESOLUTION;\n\n      // angle from center\n      let gridCenter = createVector(x + RESOLUTION / 2, y + RESOLUTION / 2);\n      let center = createVector(width / 2, height / 2);\n      let vectorToCenter = p5.Vector.sub(x, y, gridCenter);\n      let rotateAngle = map(sin(frameCount * 0.01), -1, 1, 0, 45);\n      vectorToCenter.rotate(radians(rotateAngle));\n      let angleFromCenter = vectorToCenter.heading();\n\n      // angle from noise\n      let xFrq = x * FREQ_POS + frameCount * FREQ_TIME;\n      let yFrq = y * FREQ_POS + frameCount * FREQ_TIME;\n      let noiseValue = noise(xFrq, yFrq); // 0 to 1\n      let angleFromNoise = map(noiseValue, 0, 1, 0, PI); // ***\n\n      let angle2 = angleFromCenter + angleFromNoise;\n      //let angle = angleFromCenter;\n      //let angle = angleFromNoise;\n      angles.push(angle2);\n      \n      \n      push();\n      // draw grid\n      translate(x, y);\n      fill(0);\n      stroke(255, 100);\n      rect(0, 0, RESOLUTION, RESOLUTION);\n\n      // diplay line\n      translate(RESOLUTION / 2, RESOLUTION / 2);\n      let vector = p5.Vector.fromAngle(angle2);\n      vector.mult(RESOLUTION / 2);\n      stroke(255);\n      line(0, 0, vector.x, vector.y);\n\n      // draw index\n      let index = angles.length;\n      fill(255);\n      noStroke();\n      text(index, -15, -5);\n\n      pop();\n    }\n  }\n\n  for (let v of vehicles) {\n    v.flow(angle1);\n    v.update();\n    v.reappear();\n    //v.attractedTo();\n    //v.seek(target);\n    //v.display();\n    v.displayPoint();\n  }\n\n  //pattern\n  translate(width / 2, height / 2);\n  angle1 = floor(map(ui.a, 0, width, 0, 180));\n  noFill();\n  //stroke(255);\n  ui.i = ui.i + 0.005;\n  ui.a = ui.a + 1.5;\n  ui.l = ui.l + 0.1;\n  if (ui.l > 107.5) {\n    ui.l = 20;\n  }\n\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  //stroke(255);\n  //line(x, y, targetX, targetY);\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angle1, len * 0.7);\n    drawBranch(targetX, targetY, deg + angle1, len * 0.7);\n  }\n\n  noStroke();\n  fill(255, 70);\n  circle(targetX, targetY, (200 / len) * noise(frameCount * 0.03));\n}\n\nclass Vehicle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector();\n    this.acc = createVector();\n    //\n    this.mass = 1;\n    this.size = 20;\n    //\n    this.angle = 0;\n    //\n    this.maxSpeed = 2;\n    this.maxSteerForce = 0.1;\n  }\n  attractedTo(target) {\n    let vector = p5.Vector.sub(target, this.pos);\n    vector.mult(0.05);\n    this.applyForce(vector);\n    this.vel.mult(0.9);\n  }\n  flow(angle) {\n    let desiredVel = p5.Vector.fromAngle(angle); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  seek(target) {\n    let desiredVel = p5.Vector.sub(target, this.pos);\n    desiredVel.normalize(); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n    //\n    this.angle = this.vel.heading();\n  }\n  applyForce(f) {\n    if (this.mass <= 0) {\n      console.log(\"Wrong mass\");\n      return;\n    }\n    let force = f.copy();\n    force.div(this.mass);\n    this.acc.add(force);\n  }\n  reappear() {\n    if (this.pos.x < 0) {\n      this.pos.x = width;\n    } else if (this.pos.x > width) {\n      this.pos.x = 0;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = height;\n    } else if (this.pos.y > height) {\n      this.pos.y = 0;\n    }\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n    rotate(this.angle);\n    noStroke();\n    fill(0);\n    triangle(0, 0, -this.size, -this.size * 0.4, -this.size, this.size * 0.4);\n    pop();\n  }\n  displayPoint() {\n    push();\n    stroke(255, 70);\n    circle(this.pos.x, this.pos.y, 3);\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "663856a2a2da437d078a8983",
        "isSelectedFile": true,
        "createdAt": "2024-05-06T07:04:40.040Z",
        "updatedAt": "2024-05-06T07:04:40.040Z",
        "id": "663856a2a2da437d078a8983"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js\"></script>\n    <script language=\"javascript\" type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n             <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "663856a2a2da437d078a8982",
        "createdAt": "2024-05-06T07:04:40.040Z",
        "updatedAt": "2024-05-06T07:04:40.040Z",
        "isSelectedFile": false,
        "id": "663856a2a2da437d078a8982"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "663856a2a2da437d078a8984",
        "createdAt": "2024-05-06T07:04:40.040Z",
        "updatedAt": "2024-05-06T07:04:40.040Z",
        "isSelectedFile": false,
        "id": "663856a2a2da437d078a8984"
      }
    ],
    "createdAt": "2024-05-06T04:03:47.236Z",
    "updatedAt": "2024-05-06T07:04:40.040Z",
    "id": "NBEHRWWqT"
  },
  {
    "_id": "-XcwZRBFj",
    "name": "fire shape",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65c1008708045c12df958188",
          "65c1008708045c12df958189",
          "65c1008708045c12df95818a"
        ],
        "fileType": "folder",
        "_id": "65c1008708045c12df958187",
        "createdAt": "2024-02-05T15:37:29.403Z",
        "updatedAt": "2024-02-05T15:37:29.403Z",
        "isSelectedFile": false,
        "id": "65c1008708045c12df958187"
      },
      {
        "name": "sketch.js",
        "content": "function setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n  noStroke();\n  fill(255, 30, 0, 90);\n\n  beginShape();\n  // add vertices here!\nvertex(200,45); \nvertex(155,130); \nvertex(120,190); \nvertex(85,270); \nvertex(140,330); \nvertex(230,355); \nvertex(270,330); \nvertex(320,230); \nvertex(250,160); \nvertex(220,100); \ncurveVertex(205,60); \nendShape(CLOSE);\n}\n\nfunction mousePressed() {\n  console.log(\"vertex(\" + mouseX + \",\" + mouseY + \");\");\n}\n\nfunction keyPressed() {\n  if (key == \"s\" || key == \"S\") {\n    save(\"sketch.png\");\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65c1008708045c12df958189",
        "isSelectedFile": true,
        "createdAt": "2024-02-05T15:37:29.403Z",
        "updatedAt": "2024-02-05T15:37:29.403Z",
        "id": "65c1008708045c12df958189"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65c1008708045c12df958188",
        "createdAt": "2024-02-05T15:37:29.403Z",
        "updatedAt": "2024-02-05T15:37:29.403Z",
        "isSelectedFile": false,
        "id": "65c1008708045c12df958188"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65c1008708045c12df95818a",
        "createdAt": "2024-02-05T15:37:29.403Z",
        "updatedAt": "2024-02-05T15:37:29.403Z",
        "isSelectedFile": false,
        "id": "65c1008708045c12df95818a"
      }
    ],
    "createdAt": "2024-02-05T15:36:39.574Z",
    "updatedAt": "2024-02-05T15:37:29.403Z",
    "id": "-XcwZRBFj"
  },
  {
    "_id": "HgMfD2emx",
    "name": "handPose-printing-the-parts copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66fdaeae552c015f9684cc06",
          "66fdaeae552c015f9684cc07"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "66fdaeae552c015f9684cc05",
        "createdAt": "2024-10-02T20:50:38.702Z",
        "updatedAt": "2024-10-02T20:50:38.702Z",
        "id": "66fdaeae552c015f9684cc05"
      },
      {
        "name": "index.html",
        "content": "<!--\n  👋 Hello! This is an ml5.js example made and shared with ❤️.\n  Learn more about the ml5.js project: https://ml5js.org/\n  ml5.js license and Code of Conduct: https://github.com/ml5js/ml5-next-gen/blob/main/LICENSE.md\n\n  This example demonstrates hand tracking on live video through ml5.handPose.\n-->\n\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>ml5.js handPose Webcam Example</title>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <script src=\"https://unpkg.com/ml5@1/dist/ml5.min.js\"></script>\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fdaeae552c015f9684cc06",
        "createdAt": "2024-10-02T20:50:38.702Z",
        "updatedAt": "2024-10-02T20:50:38.702Z",
        "id": "66fdaeae552c015f9684cc06"
      },
      {
        "name": "sketch.js",
        "content": "/*\n * 👋 Hello! This is an ml5.js example made and shared with ❤️.\n * Learn more about the ml5.js project: https://ml5js.org/\n * ml5.js license and Code of Conduct: https://github.com/ml5js/ml5-next-gen/blob/main/LICENSE.md\n *\n * This example demonstrates hand tracking on live video through ml5.handPose and has been modified so the video is mirrored.\n */\nlet handPose;\nlet video;\n\nlet myOsc;\nlet leftInX = 0,\n  leftInY = 0,\n  rightInX = 0,\n  rightInY = 0;\nlet freq = 200;\nlet d = 0;\n\nfunction preload() {\n  // Load the handPose model\n  handPose = ml5.handPose();\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  // Create the webcam video and hide it\n  video = createCapture(VIDEO);\n  video.size(width, height);\n  video.hide();\n  // start detecting hands from the webcam video\n  handPose.detectStart(video, gotHands);\n\n  myOsc = new p5.Oscillator(\"sine\");\n}\n\nfunction mousePressed() {\n  myOsc.start();\n}\n\nfunction draw() {\n  // Draw the webcam video\n  translate(width, 0); // move to top right corner\n  scale(-1.0, 1.0); // flip x-axis backwards\n  image(video, 0, 0, width, height);\n  circle((leftInX+rightInX)/2, (leftInY+rightInY)/2, d);\n}\n\n// Callback function for when handPose outputs data\nfunction gotHands(results) {\n  if (results.length > 1) {\n    console.log(results);\n    leftInX = results[0].index_finger_tip.x;\n    leftInY = results[0].index_finger_tip.y;\n    rightInX = results[1].index_finger_tip.x;\n    rightInY = results[1].index_finger_tip.y;\n    d = dist(leftInX, leftInY, rightInX, rightInY);\n    freq = map(d, 0, width, 150, 650);\n    myOsc.freq(freq);\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66fdaeae552c015f9684cc07",
        "createdAt": "2024-10-02T20:50:38.702Z",
        "updatedAt": "2024-10-02T20:50:38.702Z",
        "id": "66fdaeae552c015f9684cc07"
      }
    ],
    "createdAt": "2024-10-02T20:35:58.495Z",
    "updatedAt": "2024-10-02T20:50:38.702Z",
    "id": "HgMfD2emx"
  },
  {
    "_id": "6hst_MyeP",
    "name": "handPose-printing-the-parts exercise",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66fdb275f10272b9af2029ab",
          "66fdb275f10272b9af2029ac"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "66fdb275f10272b9af2029aa",
        "createdAt": "2024-10-02T21:06:51.878Z",
        "updatedAt": "2024-10-02T21:06:51.878Z",
        "id": "66fdb275f10272b9af2029aa"
      },
      {
        "name": "index.html",
        "content": "<!--\n  👋 Hello! This is an ml5.js example made and shared with ❤️.\n  Learn more about the ml5.js project: https://ml5js.org/\n  ml5.js license and Code of Conduct: https://github.com/ml5js/ml5-next-gen/blob/main/LICENSE.md\n\n  This example demonstrates hand tracking on live video through ml5.handPose.\n-->\n\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>ml5.js handPose Webcam Example</title>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n<script src=\"https://cdn.jsdelivr.net/gh/IDMNYU/p5.js-speech@0.0.3/lib/p5.speech.js\"></script>\n    <script src=\"https://unpkg.com/ml5@1/dist/ml5.min.js\"></script>\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fdb275f10272b9af2029ab",
        "createdAt": "2024-10-02T21:06:51.878Z",
        "updatedAt": "2024-10-02T21:06:51.878Z",
        "id": "66fdb275f10272b9af2029ab"
      },
      {
        "name": "sketch.js",
        "content": "/*\n * 👋 Hello! This is an ml5.js example made and shared with ❤️.\n * Learn more about the ml5.js project: https://ml5js.org/\n * ml5.js license and Code of Conduct: https://github.com/ml5js/ml5-next-gen/blob/main/LICENSE.md\n *\n * This example demonstrates hand tracking on live video through ml5.handPose and has been modified so the video is mirrored.\n */\nlet handPose;\nlet video;\n\nlet myOsc;\nlet thumbX = 0,\n  thumbY = 0,\n  InX = 0,\n  InY = 0;\nlet freq = 200;\nlet d = 0;\nlet cpVoice = new p5.Speech();\n\nfunction preload() {\n  // Load the handPose model\n  handPose = ml5.handPose();\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  // Create the webcam video and hide it\n  video = createCapture(VIDEO);\n  video.size(width, height);\n  video.hide();\n  // start detecting hands from the webcam video\n  handPose.detectStart(video, gotHands);\n\n  myOsc = new p5.Oscillator(\"triangle\");\n  cpVoice.listVoices();\n  cpVoice.setVoice(\"Nicky\");\n}\n\nfunction mousePressed() {\n  myOsc.start();\n}\n\nfunction keyPressed(){\n  let myPitch = map(d, 0, width, 0, 18);\n  cpVoice.setPitch(myPitch);\n  cpVoice.speak(\"Meow meow meow\");\n}\n\nfunction draw() {\n  // Draw the webcam video\n  translate(width, 0); // move to top right corner\n  scale(-1.0, 1.0); // flip x-axis backwards\n  image(video, 0, 0, width, height);\n  noStroke();\n  circle((thumbX+InX)/2, (thumbY+InY)/2, d);\n}\n\n// Callback function for when handPose outputs data\nfunction gotHands(results) {\n  if (results.length > 0) {\n    console.log(results);\n    thumbX = results[0].thumb_tip.x;\n    thumbY = results[0].thumb_tip.y;\n    InX = results[0].index_finger_tip.x;\n    InY = results[0].index_finger_tip.y;\n    d = dist(thumbX, thumbY, InX, InY);\n    freq = map(d, 0, width, 150, 800);\n    myOsc.freq(freq);\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66fdb275f10272b9af2029ac",
        "createdAt": "2024-10-02T21:06:51.878Z",
        "updatedAt": "2024-10-02T21:06:51.878Z",
        "id": "66fdb275f10272b9af2029ac"
      }
    ],
    "createdAt": "2024-10-02T20:52:05.339Z",
    "updatedAt": "2024-10-02T21:06:51.878Z",
    "id": "6hst_MyeP"
  },
  {
    "_id": "-kIEd7o-r",
    "name": "map",
    "updatedAt": "2024-01-25T11:31:21.583Z",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65b243d3d7054c8d1d9d29a9",
          "65b243d3d7054c8d1d9d29a8",
          "65b243d3d7054c8d1d9d29aa"
        ],
        "fileType": "folder",
        "_id": "65b243d3d7054c8d1d9d29ab",
        "isSelectedFile": false,
        "createdAt": "2024-01-25T11:31:21.583Z",
        "updatedAt": "2024-01-25T11:31:21.583Z",
        "id": "65b243d3d7054c8d1d9d29ab"
      },
      {
        "name": "sketch.js",
        "content": "function setup() {\n  createCanvas(400, 400);\n  let out = map(2, 0, 5, 0, 10);\n  console.log(out);\n}\n\nfunction draw() {\n  background(220);\n  let r = map(mouseX, 0, width, 0,255);\n  let g = map(mouseX, 0, height, 0,255);\n  let b = map(mouseX, 0, width, 0,255);\n  fill(r, g, b);\n  circle(width/2, height/2, 300);\n}",
        "children": [],
        "fileType": "file",
        "_id": "65b243d3d7054c8d1d9d29a8",
        "isSelectedFile": true,
        "createdAt": "2024-01-25T11:31:21.583Z",
        "updatedAt": "2024-01-25T11:31:21.583Z",
        "id": "65b243d3d7054c8d1d9d29a8"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65b243d3d7054c8d1d9d29a9",
        "isSelectedFile": false,
        "createdAt": "2024-01-25T11:31:21.583Z",
        "updatedAt": "2024-01-25T11:31:21.583Z",
        "id": "65b243d3d7054c8d1d9d29a9"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65b243d3d7054c8d1d9d29aa",
        "isSelectedFile": false,
        "createdAt": "2024-01-25T11:31:21.583Z",
        "updatedAt": "2024-01-25T11:31:21.583Z",
        "id": "65b243d3d7054c8d1d9d29aa"
      }
    ],
    "createdAt": "2024-01-25T11:28:24.225Z",
    "id": "-kIEd7o-r"
  },
  {
    "_id": "gOZx5I4-o",
    "name": "NIME Assignment 1 _ICE",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66e7b04ad2139b300fd2f2b6",
          "66e5d25daf7c7a80101c82bc",
          "66e5d25daf7c7a80101c82bb",
          "66e5d25daf7c7a80101c82bd"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "66e5d25daf7c7a80101c82be",
        "createdAt": "2024-09-16T05:09:11.482Z",
        "updatedAt": "2024-09-16T05:09:11.482Z",
        "id": "66e5d25daf7c7a80101c82be"
      },
      {
        "name": "sketch.js",
        "content": "let icicles = [];\nlet drops = [];\nlet gravity = 0.5;\nlet floorHeight;\nlet keys = [];\nlet keyWidth;\nlet fs = false; // 用于跟踪全屏模式状态\nlet torchImg;\n\nfunction preload() {\n  // 预加载火把图像\n  torchImg = loadImage('assets/fire.png'); // 使用新的火把图像URL\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight); // 全屏初始化\n  floorHeight = windowHeight - 100; // 地板的位置距离底部100像素\n  keyWidth = width / 20; // 将屏幕分为20个键\n\n  // 设置自定义火把鼠标\n  noCursor(); \n  cursor(torchImg, torchImg.width / 2, torchImg.height / 2);\n\n  // 初始化键盘（键盘下方）\n  for (let i = 0; i < 20; i++) {\n    keys.push({\n      x: i * keyWidth,\n      color: color(0), // 默认黑色\n    });\n  }\n\n  // 创建5到20个不同长度的冰柱\n  for (let i = 0; i < random(15, 20); i++) {\n    let totalLength = random(200, 450); // 冰柱的总长度\n    let dropHeight = totalLength / floor(random(20, 30)); // 每滴水减少的冰柱长度\n\n    let icicle = {\n      x: i * random(50, 100) + 100,\n      y: 0, // 冰柱从天花板开始\n      length: totalLength, // 冰柱的总长度\n      originalLength: totalLength, // 记录初始长度\n      dropHeight: dropHeight, // 每滴水减少的高度\n      remainingDrops: floor(totalLength / dropHeight), // 计算剩余水滴数量\n      nextDropTime: random(1000, 5000), // 下一次水滴的随机时间\n      lastDropTime: millis(),\n      meltRate: 0.5, // 冰柱融化速度\n      tone: new p5.Oscillator('sine'),\n      env: new p5.Envelope(0.01, 1, 0.2, 0.5) // 设置包络 (攻击, 持续, 衰减, 释放)\n    };\n\n    // 初始化振荡器并连接包络\n    icicle.tone.start();\n    icicle.tone.amp(icicle.env);\n    icicles.push(icicle);\n  }\n}\n\nfunction draw() {\n  background(0); // 黑色背景\n\n  let torchWidth = 40;  // 设置火焰图像的宽度 (大约与鼠标大小相当)\n  let torchHeight = torchWidth * (torchImg.height / torchImg.width); // 按比例调整高度\n\n  // 绘制火焰图像，使其跟随鼠标移动，并缩放到合适大小\n  image(torchImg, mouseX - torchWidth / 2, mouseY - torchHeight / 2, torchWidth, torchHeight);\n\n  for (let i = icicles.length - 1; i >= 0; i--) {\n    let icicle = icicles[i];\n\n    // 如果冰柱的长度大于0，继续绘制\n    if (icicle.length > 0) {\n      stroke(173, 216, 230); // 淡蓝色冰柱\n      strokeWeight(5);\n      line(icicle.x, icicle.y, icicle.x, icicle.y + icicle.length);\n\n      // 检测火把是否接触到冰柱\n      if (dist(mouseX, mouseY, icicle.x, icicle.y + icicle.length) < 20) { // 假设火把与冰柱的接触半径为50\n        icicle.length -= icicle.meltRate; // 加速融化\n        icicle.nextDropTime = 1000; // 随机生成下一滴水的时间\n        if (icicle.length <= 1) {\n          icicle.length = 0; // 确保冰柱长度不为负值\n        }\n      }\n\n      // 处理水滴\n      if (icicle.remainingDrops > 0 && millis() - icicle.lastDropTime > icicle.nextDropTime) {\n        createDrop(icicle);\n        icicle.lastDropTime = millis();\n        icicle.nextDropTime = random(1000, 3000); // 随机生成下一滴水的时间\n      }\n    } else {\n      // 如果冰柱长度已经为0，移除该冰柱\n      icicles.splice(i, 1);\n    }\n  }\n\n  // 更新和绘制水滴\n  for (let drop of drops) {\n    drop.update();\n    drop.display();\n\n    // 当水滴碰到地板时播放音效并改变键盘颜色\n    if (!drop.hasHitFloor && drop.y >= floorHeight) {\n      playTone(drop.icicle);\n      drop.hasHitFloor = true; // 确保每个水滴只播放一次音效\n\n      // 改变键盘颜色\n      let keyIndex = floor(drop.x / keyWidth);\n      if (keyIndex >= 0 && keyIndex < keys.length) {\n        keys[keyIndex].color = color(255, 105, 180); // 粉色键盘\n      }\n    }\n  }\n\n  // 移除已碰到地面的水滴\n  drops = drops.filter(drop => drop.y < height + 10);\n\n  // 绘制地面\n  stroke(255);\n  strokeWeight(1);\n  line(0, floorHeight, width, floorHeight);\n\n  // 绘制键盘\n  for (let key of keys) {\n    fill(key.color);\n    rect(key.x, floorHeight, keyWidth, height - floorHeight);\n  }\n\n  // 恢复键盘颜色\n  keys.forEach(key => key.color = color(0)); // 恢复黑色\n}\n\n// 创建一个水滴并减少冰柱长度\nfunction createDrop(icicle) {\n  drops.push(new Drop(icicle.x, icicle.y + icicle.length, icicle));\n  icicle.remainingDrops--;\n  icicle.length -= icicle.dropHeight; // 每滴水减少冰柱的长度\n\n  // 如果冰柱长度小于等于1，确保它不会变为负值\n  if (icicle.length <= 3) {\n    icicle.length = 0; // 设置为0，确保不会出现负长度\n  }\n}\n\n// 播放水滴音效\nfunction playTone(icicle) {\n  let frequency = map(icicle.x, 0, width, 200, 800); // 将x位置映射为频率\n  icicle.tone.freq(frequency); // 设置频率\n  icicle.env.play(); // 播放音效\n}\n\n// 水滴类\nclass Drop {\n  constructor(x, y, icicle) {\n    this.x = x;\n    this.y = y;\n    this.speed = 0;\n    this.icicle = icicle;\n    this.hasHitFloor = false;\n  }\n\n  update() {\n    this.speed += gravity; // 模拟重力\n    this.y += this.speed; // 移动水滴\n  }\n\n  display() {\n    fill(173, 216, 230); // 淡蓝色水滴\n    noStroke();\n    ellipse(this.x, this.y, 10, 10); // 绘制水滴\n  }\n}\n\n// 当窗口大小改变时，调整画布大小\nfunction windowResized() {\n  resizeCanvas(windowWidth, windowHeight);\n  floorHeight = windowHeight - 100; // 调整地板位置\n  keyWidth = width / 20; // 重新计算键盘宽度\n\n  // 重新计算键盘的位置\n  for (let i = 0; i < keys.length; i++) {\n    keys[i].x = i * keyWidth;\n  }\n}\n\n// 处理键盘按下事件\nfunction keyPressed() {\n  if (key === 'f' || key === 'F') {\n    fs = !fs; // 切换全屏状态\n    fullscreen(fs);\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66e5d25daf7c7a80101c82bb",
        "createdAt": "2024-09-16T05:09:11.482Z",
        "updatedAt": "2024-09-16T05:09:11.482Z",
        "id": "66e5d25daf7c7a80101c82bb"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main>\n      <!-- 删除这里的 img 标签 -->\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66e5d25daf7c7a80101c82bc",
        "createdAt": "2024-09-16T05:09:11.482Z",
        "updatedAt": "2024-09-16T05:09:11.482Z",
        "id": "66e5d25daf7c7a80101c82bc"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66e5d25daf7c7a80101c82bd",
        "createdAt": "2024-09-16T05:09:11.482Z",
        "updatedAt": "2024-09-16T05:09:11.482Z",
        "id": "66e5d25daf7c7a80101c82bd"
      },
      {
        "name": "assets",
        "content": "",
        "children": [
          "66e7b07cfb1241b6932fd55b"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "66e7b04ad2139b300fd2f2b6",
        "createdAt": "2024-09-16T05:09:11.482Z",
        "updatedAt": "2024-09-16T05:09:11.482Z",
        "id": "66e7b04ad2139b300fd2f2b6"
      },
      {
        "name": "fire.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/5ecba052-48be-45d0-8090-a25f0fa7f4ea.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66e7b07cfb1241b6932fd55b",
        "createdAt": "2024-09-16T05:09:11.482Z",
        "updatedAt": "2024-09-16T05:09:11.482Z",
        "id": "66e7b07cfb1241b6932fd55b"
      }
    ],
    "updatedAt": "2024-09-16T05:09:11.482Z",
    "createdAt": "2024-09-14T19:16:18.743Z",
    "id": "gOZx5I4-o"
  },
  {
    "_id": "-HVybu9Uz",
    "name": "NIME hw1 copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66e5d8b1f7a88f274f44d228",
          "66e5d8b1f7a88f274f44d229",
          "66e5d8b1f7a88f274f44d22a"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "66e5d8b1f7a88f274f44d227",
        "createdAt": "2024-09-14T18:43:17.492Z",
        "updatedAt": "2024-09-14T18:43:17.492Z",
        "id": "66e5d8b1f7a88f274f44d227"
      },
      {
        "name": "sketch.js",
        "content": "let icicles = [];\nlet drops = [];\nlet gravity = 0.5;\nlet floorHeight = 500;\n\nfunction setup() {\n  createCanvas(800, 600);\n\n  // 创建5个不同长度的冰柱\n  for (let i = 0; i < 5; i++) {\n    let totalLength = random(150, 300); // 冰柱的总长度\n    let dropHeight = totalLength / floor(random(5, 10)); // 每滴水减少的冰柱长度\n\n    let icicle = {\n      x: i * 100 + 100,\n      y: 100,\n      length: totalLength, // 冰柱的总长度\n      originalLength: totalLength, // 记录初始长度\n      dropHeight: dropHeight, // 每滴水减少的高度\n      remainingDrops: floor(totalLength / dropHeight), // 计算剩余水滴数量\n      nextDropTime: random(1000, 3000), // 下一次水滴的随机时间\n      lastDropTime: millis(),\n      // 创建p5振荡器和包络\n      tone: new p5.Oscillator('sine'), \n      env: new p5.Envelope(0.01, 1, 0.2, 0.5) // 设置包络 (攻击, 持续, 衰减, 释放)\n    };\n    \n    // 初始化振荡器并连接包络\n    icicle.tone.start();\n    icicle.tone.amp(icicle.env);\n    icicles.push(icicle);\n  }\n}\n\nfunction draw() {\n  background(220);\n  \n  // 绘制冰柱\n  for (let icicle of icicles) {\n    stroke(0);\n    strokeWeight(5);\n    line(icicle.x, icicle.y, icicle.x, icicle.y + icicle.length);\n    \n    // 处理水滴\n    if (icicle.remainingDrops > 0 && millis() - icicle.lastDropTime > icicle.nextDropTime) {\n      createDrop(icicle);\n      icicle.lastDropTime = millis();\n      icicle.nextDropTime = random(1000, 3000); // 随机生成下一滴水的时间\n    }\n  }\n  \n  // 更新和绘制水滴\n  for (let drop of drops) {\n    drop.update();\n    drop.display();\n    \n    // 当水滴碰到地板时播放音效\n    if (!drop.hasHitFloor && drop.y >= floorHeight) {\n      playTone(drop.icicle);\n      drop.hasHitFloor = true; // 确保每个水滴只播放一次音效\n    }\n  }\n\n  // 移除已碰到地面的水滴\n  drops = drops.filter(drop => drop.y < height + 10);\n  \n  // 绘制地面\n  stroke(0);\n  strokeWeight(1);\n  line(0, floorHeight, width, floorHeight);\n}\n\n// 创建一个水滴并减少冰柱长度\nfunction createDrop(icicle) {\n  drops.push(new Drop(icicle.x, icicle.y + icicle.length, icicle));\n  icicle.remainingDrops--;\n  icicle.length -= icicle.dropHeight; // 每滴水减少冰柱的长度\n}\n\n// 播放水滴音效\nfunction playTone(icicle) {\n  let frequency = map(icicle.x, 0, width, 200, 800); // 将x位置映射为频率\n  icicle.tone.freq(frequency); // 设置频率\n  icicle.env.play(); // 播放音效\n}\n\n// 水滴类\nclass Drop {\n  constructor(x, y, icicle) {\n    this.x = x;\n    this.y = y;\n    this.speed = 0;\n    this.icicle = icicle;\n    this.hasHitFloor = false;\n  }\n  \n  update() {\n    this.speed += gravity; // 模拟重力\n    this.y += this.speed; // 移动水滴\n  }\n  \n  display() {\n    fill(200, 0, 200);\n    noStroke();\n    ellipse(this.x, this.y, 10, 10); // 绘制水滴\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66e5d8b1f7a88f274f44d229",
        "createdAt": "2024-09-14T18:43:17.492Z",
        "updatedAt": "2024-09-14T18:43:17.492Z",
        "id": "66e5d8b1f7a88f274f44d229"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script\n      src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js\"\n      integrity=\"sha512-NxocnqsXP3zm0Xb42zqVMvjQIktKEpTIbCXXyhBPxqGZHqhcOXHs4pXI/GoZ8lE+2NJONRifuBpi9DxC58L0Lw==\"\n      crossorigin=\"anonymous\"\n      referrerpolicy=\"no-referrer\"></script>\n    \n    <script\n      src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.40/Tone.js\" integrity=\"sha512-59wz3/QJMP1QgULLB5O08pqS8wIdlvK1iJaRZm6ESyRrUuxjdRrnKepXKbSTbjX3ZZZ19AbiCJZEaZN7Zm8OjQ==\"\n      crossorigin=\"anonymous\"\n      referrerpolicy=\"no-referrer\"></script>\n    \n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66e5d8b1f7a88f274f44d228",
        "createdAt": "2024-09-14T18:43:17.492Z",
        "updatedAt": "2024-09-14T18:43:17.492Z",
        "id": "66e5d8b1f7a88f274f44d228"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66e5d8b1f7a88f274f44d22a",
        "createdAt": "2024-09-14T18:43:17.492Z",
        "updatedAt": "2024-09-14T18:43:17.492Z",
        "id": "66e5d8b1f7a88f274f44d22a"
      }
    ],
    "createdAt": "2024-09-14T18:40:49.904Z",
    "updatedAt": "2024-09-14T18:43:17.492Z",
    "id": "-HVybu9Uz"
  },
  {
    "_id": "pcEG4NZYC",
    "name": "NIME Visualization",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "670c4a643da0bf72851faf41",
          "670c4a643da0bf72851faf42",
          "670c4a643da0bf72851faf43"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "670c4a643da0bf72851faf40",
        "createdAt": "2024-10-13T23:06:02.621Z",
        "updatedAt": "2024-10-13T23:06:02.621Z",
        "id": "670c4a643da0bf72851faf40"
      },
      {
        "name": "sketch.js",
        "content": "let serial;\nlet latestData = \"waiting for data\";\n\nlet gui;\nlet ui = {\n  a: 100,\n  l: 20,\n  i: 6,\n  back: 0.5,\n  leave: 0,\n  scale: 150,\n};\nlet objParams = {\n  frameRate: 0,\n};\n\nconst RESOLUTION = 50;\nconst FREQ_POS = 0.0035;\nconst FREQ_TIME = 0.0015;\nlet rows, cols;\nlet angles = [];\nlet vehicles = [];\nlet scene = 1;\n\nfunction setup() {\n  createCanvas(700, 700);\n\n  //Serial\n  serial = new p5.SerialPort();\n  serial.list();\n  serial.open(\"/dev/tty.usbmodem103\");\n  serial.on(\"connected\", serverConnected);\n  serial.on(\"list\", gotList);\n  serial.on(\"data\", gotData);\n  serial.on(\"error\", gotError);\n  serial.on(\"open\", gotOpen);\n  serial.on(\"close\", gotClose);\n\n  //GUI\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 100, 500);\n  gui.add(ui, \"l\", 20, 120);\n  gui.add(ui, \"i\", 6, 25);\n  gui.add(ui, \"back\", 0.5, 3).step(0.01).listen();\n  gui.add(ui, \"leave\", 0, 1).step(0.01).listen();\n  gui.add(ui, \"scale\", 100, 300);\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n\n  //Pattern\n  cols = ceil(width / RESOLUTION);\n  rows = ceil(height / RESOLUTION);\n}\n\nfunction draw() {\n  background(0);\n\n  fill(255);\n  //text(latestData, 10, 20);\n\n  objParams.frameRate = frameRate().toFixed(2);\n\n  // vehicles\n  // empty the angles array\n  angles = [];\n  // draw and update the flow field;\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      let x = c * RESOLUTION;\n      let y = r * RESOLUTION;\n\n      // angle from center\n      let gridCenter = createVector(x + RESOLUTION / 2, y + RESOLUTION / 2);\n      let center = createVector(width / 2, height / 2);\n      let vectorToCenter = p5.Vector.sub(center, gridCenter);\n      let rotateAngle = map(sin(frameCount * 0.02), -1, 1, 0, 160);\n      vectorToCenter.rotate(radians(rotateAngle)); //frameCount * 0.n决定了范围\n      let angleFromCenter = vectorToCenter.heading();\n\n      // angle from noise\n      let xFrq = x * FREQ_POS + frameCount * FREQ_TIME;\n      let yFrq = y * FREQ_POS + frameCount * FREQ_TIME;\n      let noiseValue = noise(xFrq, yFrq); // 0 to 1\n      let angleFromNoise = map(noiseValue, 0, 1, 0, PI * 4); // ***\n\n      let angleCombined = angleFromCenter * ui.back + angleFromNoise * ui.leave;\n      angles.push(angleCombined);\n\n      if (false) {\n        push();\n        // draw grid\n        translate(x, y);\n        fill(0);\n        stroke(255, 100);\n        rect(0, 0, RESOLUTION, RESOLUTION);\n\n        // diplay line\n        translate(RESOLUTION / 2, RESOLUTION / 2);\n        let vector = p5.Vector.fromAngle(angleCombined);\n        vector.mult(RESOLUTION / 2);\n        stroke(255);\n        line(0, 0, vector.x, vector.y);\n\n        // draw index\n        let index = angles.length;\n        fill(255);\n        noStroke();\n        text(index, -15, -5);\n\n        pop();\n      }\n    }\n  }\n\n  for (let v of vehicles) {\n    // angles\n    let col = floor(v.pos.x / RESOLUTION); // x\n    let row = floor(v.pos.y / RESOLUTION); // y\n    let colNum = width / RESOLUTION; // width\n    let index = col + row * colNum; // x + y * w\n    let angle = angles[index];\n    v.flow(angle);\n\n    // attraction\n    // if (keyIsPressed) {\n    //   v.attractedTo(v0);\n    // }\n\n    v.update();\n    v.reappear();\n    //v.attractedTo();\n    //v.seek(target);\n    //v.display();\n    v.displayPoint();\n  }\n\n  //Heart Beat trigger wave\n  if (latestData > 0) {\n    //ui.a =  1.5 + latestData*10;\n    //ui.i = 0.006 + latestData;\n    ui.l = 1 + latestData * 5;\n    ui.back = (20-latestData) * 0.1;\n    ui.leave = latestData * 0.05;\n    for (let i = 0; i < 5; i++) {\n      let pos = p5.Vector.random2D();\n      pos.mult((ui.scale * ui.l) / 100);\n      vehicles.push(new Vehicle(width / 2 + pos.x, height / 2 + pos.y));\n      //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n      //translate(-width / 2, -height / 3);//initial position\n    }\n        //patterns\n  angle1 = floor(map(ui.a, 0, width, 0, 180));\n  noFill();\n  ui.i = ui.i + 0.006;\n  ui.a = ui.a + 1.5;\n  //ui.l = ui.l + 0.1;\n   if ( latestData >= 20) {\n     ui.i = 6;\n     ui.l = 0;\n     ui.a = 100;\n   }\n\n    \n    //pattern1\n  translate(width / 2, height / 3+height/8);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  //pattern2\n  translate(-width / 8, height / 3-height/8);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  //pattern3\n  translate(width / 4, 0);\n  for (let i = 0; i < ui.i; i++) {\n    drawBranch(0, 0, (360 / ui.i) * i, ui.l);\n  }\n  }\n\n  while (vehicles.length > 3000) {\n    vehicles.splice(0, 1);\n  }\n}\n\nfunction mousePressed() {\n  v0 = new Vehicle(width / 2, height / 2, 1);\n  for (let i = 0; i < 1000; i++) {\n    let pos = p5.Vector.random2D();\n    pos.mult((ui.scale * ui.l) / 100);\n    // vehicles.push(new Vehicle(width / 3 + pos.x, 2* height / 3 + pos.y));\n    //vehicles.push(new Vehicle(2* width / 3 + pos.x, 2* height / 3 + pos.y));\n    //vehicles[i] = new Vehicle(width / 2 + pos.x, height / 2 + pos.y);\n  }\n}\n\nfunction keyPressed() {\n  if (key === \"1\") {\n    scene = scene + 1;\n    if (scene > 4) {\n      scene = 1;\n    }\n  }\n  if (key == \"f\" || key == \"F\") {\n    let fs = fullscreen();\n    fullscreen(!fs);\n  }\n  \n//   if(key == \"a\"|| key == \"A\"){\n//     for (let v of vehicles) {\n//             v.attractedTo(v0);\n//     }\n// }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angle1, len * 0.7);\n    drawBranch(targetX, targetY, deg + angle1, len * 0.7);\n  }\n\n  noStroke();\n  fill(255, 30);\n  if (scene === 1) {\n    circle(targetX, targetY, (200 / len) * noise(frameCount * 0.03));\n  }\n  if (scene === 2) {\n    circle(\n      targetX * sin(angle),\n      targetY,\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 3) {\n    circle(\n      targetX * sin(angle),\n      targetY * cos(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n  if (scene === 4) {\n    circle(\n      targetX * sin(angle),\n      targetY * sin(angle),\n      (200 / len) * noise(frameCount * 0.03)\n    );\n  }\n}\n\nclass Vehicle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector();\n    this.acc = createVector();\n    //\n    this.mass = 1;\n    this.size = 20;\n    //\n    this.angle = 0;\n    //\n    this.maxSpeed = 2;\n    this.maxSteerForce = 0.1;\n  }\n  attractedTo(other) {\n    let vector = p5.Vector.sub(other.pos, this.pos);\n    vector.mult(0.002 );\n    this.applyForce(vector);\n    this.vel.mult(0.8);\n  }\n  flow(angle) {\n    let desiredVel = p5.Vector.fromAngle(angle); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  seek(target) {\n    let desiredVel = p5.Vector.sub(target, this.pos);\n    desiredVel.normalize(); // direction\n    desiredVel.mult(this.maxSpeed); // desire\n\n    let steerForce = p5.Vector.sub(desiredVel, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n    //\n    this.angle = this.vel.heading();\n  }\n  applyForce(f) {\n    if (this.mass <= 0) {\n      //console.log(\"Wrong mass\");\n      return;\n    }\n    let force = f.copy();\n    force.div(this.mass);\n    this.acc.add(force);\n  }\n  reappear() {\n    if (this.pos.x < 0) {\n      this.pos.x = width;\n    } else if (this.pos.x > width) {\n      this.pos.x = 0;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = height;\n    } else if (this.pos.y > height) {\n      this.pos.y = 0;\n    }\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n    rotate(this.angle);\n    noStroke();\n    fill(0);\n    triangle(0, 0, -this.size, -this.size * 0.4, -this.size, this.size * 0.4);\n    pop();\n  }\n  displayPoint() {\n    push();\n    fill(255, 40);\n    circle(this.pos.x, this.pos.y, 3 * cos(this.pos.x - width / 2));\n    //circle(this.pos.x, this.pos.y, 3 * noise(frameCount * 0.01));\n    pop();\n  }\n}\n\nfunction serverConnected() {\n  print(\"Connected to Server\");\n}\n\nfunction gotList(thelist) {\n  print(\"List of Serial Ports:\");\n\n  for (let i = 0; i < thelist.length; i++) {\n    print(i + \" \" + thelist[i]);\n  }\n}\n\nfunction gotOpen() {\n  print(\"Serial Port is Open\");\n}\n\nfunction gotClose() {\n  print(\"Serial Port is Closed\");\n  latestData = \"Serial Port is Closed\";\n}\n\nfunction gotError(theerror) {\n  print(theerror);\n}\n\nfunction gotData() {\n  let currentString = serial.readLine();\n  trim(currentString);\n  if (!currentString) return;\n  //console.log(currentString);\n  latestData = parseInt(currentString);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "670c4a643da0bf72851faf42",
        "createdAt": "2024-10-13T23:06:02.621Z",
        "updatedAt": "2024-10-13T23:06:02.621Z",
        "id": "670c4a643da0bf72851faf42"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/addons/p5.sound.min.js\"></script>\n    <script language=\"javascript\" type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js\"></script>\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n  </head>\n  \n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670c4a643da0bf72851faf41",
        "createdAt": "2024-10-13T23:06:02.621Z",
        "updatedAt": "2024-10-13T23:06:02.621Z",
        "id": "670c4a643da0bf72851faf41"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\n\ncanvas {\n  display: block;\n}\n\nmain {\n  width: 100vw;\n  height: 100vh;\n  \n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670c4a643da0bf72851faf43",
        "createdAt": "2024-10-13T23:06:02.621Z",
        "updatedAt": "2024-10-13T23:06:02.621Z",
        "id": "670c4a643da0bf72851faf43"
      }
    ],
    "createdAt": "2024-10-13T22:32:04.078Z",
    "updatedAt": "2024-10-13T23:06:02.621Z",
    "id": "pcEG4NZYC"
  },
  {
    "_id": "4EpWq3ymG",
    "name": "NOC 01 lerp() copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65b2417bd7054c8d1d9d29a1",
          "65b2417bd7054c8d1d9d29a2",
          "65b2417bd7054c8d1d9d29a3"
        ],
        "fileType": "folder",
        "_id": "65b2417bd7054c8d1d9d29a0",
        "createdAt": "2024-01-29T08:28:46.805Z",
        "updatedAt": "2024-01-29T08:28:46.805Z",
        "id": "65b2417bd7054c8d1d9d29a0"
      },
      {
        "name": "sketch.js",
        "content": "let x = 0;\nlet y = 0;\nfunction setup() {\ncreateCanvas(400, 400);\n background(220);\n}\n\nfunction draw() {\nx = lerp(x, 200, 0.5);\ny = lerp(y, 200, 0.5);\n(x, y, 30);\n\n}",
        "children": [],
        "fileType": "file",
        "_id": "65b2417bd7054c8d1d9d29a2",
        "isSelectedFile": true,
        "createdAt": "2024-01-29T08:28:46.805Z",
        "updatedAt": "2024-01-29T08:28:46.805Z",
        "id": "65b2417bd7054c8d1d9d29a2"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65b2417bd7054c8d1d9d29a1",
        "createdAt": "2024-01-29T08:28:46.805Z",
        "updatedAt": "2024-01-29T08:28:46.805Z",
        "id": "65b2417bd7054c8d1d9d29a1"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65b2417bd7054c8d1d9d29a3",
        "createdAt": "2024-01-29T08:28:46.805Z",
        "updatedAt": "2024-01-29T08:28:46.805Z",
        "id": "65b2417bd7054c8d1d9d29a3"
      }
    ],
    "createdAt": "2024-01-25T11:09:47.874Z",
    "updatedAt": "2024-01-29T08:28:46.805Z",
    "id": "4EpWq3ymG"
  },
  {
    "_id": "zRF8aXfIg",
    "name": "NOC S24 Oscillation - 08 copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65e068b860c14fca181a70cc",
          "65e068b860c14fca181a70cd",
          "65e068b860c14fca181a70ce"
        ],
        "fileType": "folder",
        "_id": "65e068b860c14fca181a70cb",
        "createdAt": "2024-02-29T11:21:33.684Z",
        "updatedAt": "2024-02-29T11:21:33.684Z",
        "id": "65e068b860c14fca181a70cb"
      },
      {
        "name": "sketch.js",
        "content": "let radDist;\nlet angle = 0;\n\nfunction setup() {\n  createCanvas(500, 600);\n  background(100);\n}\n\nfunction draw() {\n  //background(100);\n\n  push();\n  translate(width / 2, height / 2);\n\n  angle += 0.02;\n\n  let sinForRad = sin(angle * 8) * 30;\n  radDist = 150 + sinForRad;\n\n  let x = cos(angle) * radDist;\n  let y = sin(angle) * radDist;\n  \n  radDist = 150;\n  let x1 = cos(angle) * radDist;\n  let y1 = sin(angle) * radDist;\n  \n  \n  stroke(255, 100);\n  line(x1, y1, x, y);\n\n  pop();\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65e068b860c14fca181a70cd",
        "isSelectedFile": true,
        "createdAt": "2024-02-29T11:21:33.684Z",
        "updatedAt": "2024-02-29T11:21:33.684Z",
        "id": "65e068b860c14fca181a70cd"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65e068b860c14fca181a70cc",
        "createdAt": "2024-02-29T11:21:33.684Z",
        "updatedAt": "2024-02-29T11:21:33.684Z",
        "id": "65e068b860c14fca181a70cc"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65e068b860c14fca181a70ce",
        "createdAt": "2024-02-29T11:21:33.684Z",
        "updatedAt": "2024-02-29T11:21:33.684Z",
        "id": "65e068b860c14fca181a70ce"
      }
    ],
    "createdAt": "2024-02-29T11:21:28.851Z",
    "updatedAt": "2024-02-29T11:21:33.684Z",
    "id": "zRF8aXfIg"
  },
  {
    "_id": "6MBoSqYr_",
    "name": "NOC S24 Oscillation - 08 copy copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65e069ceb52e1f37646038f6",
          "65e069ceb52e1f37646038f7",
          "65e069ceb52e1f37646038f8"
        ],
        "fileType": "folder",
        "_id": "65e069ceb52e1f37646038f5",
        "createdAt": "2024-02-29T11:26:13.372Z",
        "updatedAt": "2024-02-29T11:26:13.372Z",
        "id": "65e069ceb52e1f37646038f5"
      },
      {
        "name": "sketch.js",
        "content": "let radDist;\nlet angle = 0;\n\nfunction setup() {\n  createCanvas(500, 600);\n  background(100);\n}\n\nfunction draw() {\n  //background(100);\n\n  push();\n  translate(width / 2, height / 2);\n\n  angle += 0.02;\n\n  let sinForRad = sin(angle * 6) * 30;\n  radDist = 150 + sinForRad;\n\n  let x = cos(angle) * radDist;\n  let y = sin(angle) * radDist;\n\n  radDist = 150;\n  let x1 = cos(angle) * radDist;\n  let y1 = sin(angle) * radDist;\n  \n  let sinForColor = map(sin(angle * 12), -1, 1, 0, 255);\n  \n  stroke(sinForColor);\n  line(0, 0, x, y);\n  //line(x1, y1, x, y);\n\n  pop();\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65e069ceb52e1f37646038f7",
        "isSelectedFile": true,
        "createdAt": "2024-02-29T11:26:13.372Z",
        "updatedAt": "2024-02-29T11:26:13.372Z",
        "id": "65e069ceb52e1f37646038f7"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65e069ceb52e1f37646038f6",
        "createdAt": "2024-02-29T11:26:13.372Z",
        "updatedAt": "2024-02-29T11:26:13.372Z",
        "id": "65e069ceb52e1f37646038f6"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65e069ceb52e1f37646038f8",
        "createdAt": "2024-02-29T11:26:13.372Z",
        "updatedAt": "2024-02-29T11:26:13.372Z",
        "id": "65e069ceb52e1f37646038f8"
      }
    ],
    "createdAt": "2024-02-29T11:26:06.323Z",
    "updatedAt": "2024-02-29T11:26:13.372Z",
    "id": "6MBoSqYr_"
  },
  {
    "_id": "tw_wl-sCz",
    "name": "NOC S24 Oscillation - 10 copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65e06b0f3a0631354b645bb0",
          "65e06b0f3a0631354b645bb1",
          "65e06b0f3a0631354b645bb2"
        ],
        "fileType": "folder",
        "_id": "65e06b0f3a0631354b645baf",
        "createdAt": "2024-02-29T11:31:30.790Z",
        "updatedAt": "2024-02-29T11:31:30.790Z",
        "id": "65e06b0f3a0631354b645baf"
      },
      {
        "name": "sketch.js",
        "content": "let radDist;\nlet angle = 0;\n\nfunction setup() {\n  createCanvas(500, 600);\n  background(100);\n}\n\nfunction draw() {\n  //background(100);\n\n  push();\n  translate(width / 2, height / 2);\n\n  angle += 0.02;\n  \n  let noiseForRad = noise(frameCount*0.3) * 50;\n  let sinForRad = sin(angle * 5) * 100;\n  radDist = 150 + sinForRad + noiseForRad;\n\n  let x = cos(angle) * radDist;\n  let y = sin(angle) * radDist;\n\n  radDist = 150;\n  let x1 = cos(angle) * radDist;\n  let y1 = sin(angle) * radDist;\n  \n  //let sinForColor = map(sin(angle * 12), -1, 1, 0, 255);\n  \n  stroke(255, 150);\n  line(0, 0, x, y);\n\n  pop();\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65e06b0f3a0631354b645bb1",
        "isSelectedFile": true,
        "createdAt": "2024-02-29T11:31:30.790Z",
        "updatedAt": "2024-02-29T11:31:30.790Z",
        "id": "65e06b0f3a0631354b645bb1"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65e06b0f3a0631354b645bb0",
        "createdAt": "2024-02-29T11:31:30.790Z",
        "updatedAt": "2024-02-29T11:31:30.790Z",
        "id": "65e06b0f3a0631354b645bb0"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65e06b0f3a0631354b645bb2",
        "createdAt": "2024-02-29T11:31:30.790Z",
        "updatedAt": "2024-02-29T11:31:30.790Z",
        "id": "65e06b0f3a0631354b645bb2"
      }
    ],
    "createdAt": "2024-02-29T11:31:27.899Z",
    "updatedAt": "2024-02-29T11:31:30.790Z",
    "id": "tw_wl-sCz"
  },
  {
    "_id": "IeX6SNpxQ",
    "name": "NOC W02 Reference",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65bf41832b286864b4680163",
          "65bf41832b286864b4680164",
          "65bf41832b286864b4680165"
        ],
        "fileType": "folder",
        "_id": "65bf41832b286864b4680162",
        "createdAt": "2024-02-05T12:42:08.606Z",
        "updatedAt": "2024-02-05T12:42:08.606Z",
        "isSelectedFile": false,
        "id": "65bf41832b286864b4680162"
      },
      {
        "name": "sketch.js",
        "content": "let balls = [];\n\nfunction setup() {\n  createCanvas(450, 450);\n  background(220);\n  \n}\n\nfunction draw() {\n  background(220);\n\n  // generate\n  if (mouseIsPressed) {\n    balls.push(new Ball(mouseX, mouseY, random(50, 100)));\n  }\n\n  // update and display\n  for (let i = 0; i < balls.length; i++) {\n    let b = balls[i];\n    b.move();\n    //b.fall();\n    //b.reappear();\n    b.checkEdges();\n    b.display();\n  }\n\n  // limit\n  while (balls.length > 1000) {\n    balls.splice(0, 1); // (index, howMany)\n  }\n\n  // control: if the particle is done, let's remove it!\n  // FLIP the FOR LOOP!\n  for (let i = balls.length - 1; i >= 0; i--) {\n    let b = balls[i];\n    if (b.isDone) {\n      balls.splice(i, 1); // (index, howMany)\n    }\n  }\n  \n  // display the number of the particles\n  text(balls.length, 10, 20);\n}\n\nfunction mousePressed() {\n  //balls.push( new Ball(mouseX, mouseY, random(10, 20)) );\n}\n//\n\nclass Ball {\n  constructor(x, y, dia) {\n    this.pos = createVector(x, y);\n    //this.vel = createVector(random(-3, 3), random(-3, 3));\n    this.vel = p5.Vector.fromAngle( radians(frameCount) );\n    //\n    this.dia = dia;\n    //\n    this.r = random(255);\n    this.g = random(255);\n    this.b = random(255);\n    //\n    this.rotSpd = random(0.01, 0.03);\n    //\n    this.isDone = false;\n  }\n  move() {    \n    this.pos.add(this.vel); // pos += vel\n    //this.pos.sub()\n    //this.pos.mult()\n    //this.pos.div()\n  }\n  fall() {\n    let acc = createVector(0, 0.05);\n    this.vel.add(acc);\n  }\n  speedUp() {\n    //\n  }\n  reappear() {\n    if (this.pos.x < 0) {\n      this.pos.x = width;\n    } else if (this.pos.x > width) {\n      this.pos.x = 0;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = height;\n    } else if (this.pos.y > height) {\n      this.pos.y = 0;\n    }\n  }\n  checkEdges() {\n    if (this.pos.x < 0 || this.pos.x > width) {\n      this.isDone = true;\n    }\n    if (this.pos.y < 0 || this.pos.y > height) {\n      this.isDone = true;\n    }\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n    rotate(frameCount * this.rotSpd);\n    noStroke();\n    fill(this.r, this.g, this.b);\n    ellipse(0, 0, this.dia, this.dia * 0.8);\n    pop();\n  }\n}\n\nfunction mouseDragged(){\n  \n}",
        "children": [],
        "fileType": "file",
        "_id": "65bf41832b286864b4680164",
        "isSelectedFile": true,
        "createdAt": "2024-02-05T12:42:08.606Z",
        "updatedAt": "2024-02-05T12:42:08.606Z",
        "id": "65bf41832b286864b4680164"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65bf41832b286864b4680163",
        "createdAt": "2024-02-05T12:42:08.606Z",
        "updatedAt": "2024-02-05T12:42:08.606Z",
        "isSelectedFile": false,
        "id": "65bf41832b286864b4680163"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65bf41832b286864b4680165",
        "createdAt": "2024-02-05T12:42:08.606Z",
        "updatedAt": "2024-02-05T12:42:08.606Z",
        "isSelectedFile": false,
        "id": "65bf41832b286864b4680165"
      }
    ],
    "createdAt": "2024-02-04T07:49:23.810Z",
    "updatedAt": "2024-02-05T12:42:08.606Z",
    "id": "IeX6SNpxQ"
  },
  {
    "_id": "XaTs4zu0A",
    "name": "NOC W02 SDFJ version",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65c0eeddf2059783fc967a67",
          "65c0eeddf2059783fc967a68",
          "65c0eeddf2059783fc967a69"
        ],
        "fileType": "folder",
        "_id": "65c0eeddf2059783fc967a66",
        "createdAt": "2024-02-06T10:56:47.300Z",
        "updatedAt": "2024-02-06T10:56:47.300Z",
        "isSelectedFile": false,
        "id": "65c0eeddf2059783fc967a66"
      },
      {
        "name": "sketch.js",
        "content": "let fire = [];\nlet word = [];\nlet angle1;\nlet angle2;\nlet s;\nlet a;\nlet b;\nlet d;\nlet a0;\nlet b0;\nlet rChange;\n\n\nfunction setup() {\ncreateCanvas(450, 450);\nangle1 = -90;\nrChange = 5;\n}\n\nfunction draw() {\nbackground(0);\na = random(-100, width);\nb = random(height - 300, height);\na0 = random(70, width-70);\nb0 = random(20, height/3);\n\nfire.push(new Fire(a, b));\nif(keyIsPressed && key === \"s\"){\nword.push(new Word(a0, b0));\n}\n\nfor (let j = 0; j < word.length; j++) {\nlet w = word[j];\nw.display();\nw.bounce();\n}\n\nfor (let i = 0; i < fire.length; i++) {\nlet f = fire[i];\nf.rise();\nf.reappear();\nf.checkEdges();\nf.display();\n}\n  \n  \nwhile (word.length > 20) {\nword.splice(0, 1); \n}\n\nfor (let j = word.length - 1; j >= 0; j--) {\nlet w = word[j];\nif (w.isDone) {\nword.splice(j, 1); \n}\n}\nwhile (fire.length > 1000) {\nfire.splice(0, 1); \n}\n\nfor (let i = fire.length - 1; i >= 0; i--) {\nlet f = fire[i];\nif (f.isDone) {\nfire.splice(i, 10); \n}\n}\n}\n\nclass Word{\nconstructor(x, y) {\nthis.pos = createVector(x, y);\nthis.vel = createVector(random(-0.5, 0.5), random(0.5, 0.5));\nthis.r = random(220, 255);\nthis.g = random(220, 255);\nthis.b = random(220, 255);\nthis.t = 90;\n}\n  \nbounce(){\n  this.pos.add(this.vel.x,this.vel.y * this.pos.y/150 * (height -mouseY)/90);\n    if (this.pos.x < 70) {\n      this.vel.mult(-1, 1);\n    } else if (this.pos.x > width-70) {\n      this.vel.mult(-1, 1);\n    } \n    if (this.pos.y < 20) {\n      this.vel.mult(1, -1);\n    } else if (this.pos.y > height/2) {\n      this.vel.mult(1, -1);\n    }\n  }\n  \n  checkEdges() {\n    if (this.pos.x < 0 || this.pos.x > width) {\n      this.isDone = true;\n    }\n    if (this.pos.y < 0 || this.pos.y > height) {\n      this.isDone = true;\n    }\n  }\n\ndisplay(){\npush();\nd = random(28, 30);\ntranslate(this.pos.x, this.pos.y);\nfill(this.r, this.g, this.b, this.t);\nstroke(this.r, this.g, this.b, this.t);\nstrokeWeight(5);\ntextAlign(CENTER);\ntextFont('Courier New', d);\ntext(\"SDFJ\", 0, 0);\npop();\n}\n}\n\n\nclass Fire {\nconstructor(x, y) {\nthis.pos = createVector(x, y);\nthis.vel = createVector(random(-0.001, 0.001), random(0.1, 1));\nthis.r = 225;\nthis.g = random(50, 100);\nthis.b = random(50, 70);\nthis.lifespan = 90;\nthis.rotSpd = random(0.01, 0.03);\nthis.isDone = false;\n}\n\n\nrise() {    \nthis.pos.sub(this.vel);\nlet acc = createVector(0, 0.002);\nthis.vel.add(acc);\nthis.lifespan -= 0.1;\n}\n\nreappear(){\nif (this.pos.y < 0) {\nthis.pos.y = height;\nthis.vel = createVector(random(-0.001, 0.001), random(0.02, 0.05));\nreturn this.lifespan < 0;\n}\n}\n\n\ncheckEdges(){\nif (this.pos.y < 0 || this.pos.y > height) {\nthis.isDone = true;\n}\n}\n\n\ndisplay() {\npush();\nblendMode(ADD);\nangle2 = angle2+random(-0.2, 0.2);\ns = random(this.pos.y*(height-mouseY)/250000);\ntranslate(this.pos.x, this.pos.y);\nscale(s);\nrotate(radians(angle2));\nnoStroke();\nfill(this.r, this.g, this.b, this.lifespan);\nthis.r += rChange;\n//ellipse(this.pos.x, this.pos.y, 150, 100);\n//fireshape\nbeginShape();\nvertex(200,45); \nvertex(155,130); \nvertex(120,190); \nvertex(85,270); \nvertex(140,330); \nvertex(230,355); \nvertex(270,330); \nvertex(320,230); \nvertex(250,160); \nvertex(220,100); \ncurveVertex(205,60); \nendShape(CLOSE);\npop();\n}\n}\n\n\n",
        "children": [],
        "fileType": "file",
        "_id": "65c0eeddf2059783fc967a68",
        "isSelectedFile": true,
        "createdAt": "2024-02-06T10:56:47.300Z",
        "updatedAt": "2024-02-06T10:56:47.300Z",
        "id": "65c0eeddf2059783fc967a68"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65c0eeddf2059783fc967a67",
        "createdAt": "2024-02-06T10:56:47.300Z",
        "updatedAt": "2024-02-06T10:56:47.300Z",
        "isSelectedFile": false,
        "id": "65c0eeddf2059783fc967a67"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65c0eeddf2059783fc967a69",
        "createdAt": "2024-02-06T10:56:47.300Z",
        "updatedAt": "2024-02-06T10:56:47.300Z",
        "isSelectedFile": false,
        "id": "65c0eeddf2059783fc967a69"
      }
    ],
    "createdAt": "2024-02-05T14:21:17.808Z",
    "updatedAt": "2024-02-06T10:56:47.300Z",
    "id": "XaTs4zu0A"
  },
  {
    "_id": "vlBrk1j7S",
    "name": "NOC_#W01_ Flower_Ting",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65b6a443fcf0b7ad7b700e1b",
          "65b6a443fcf0b7ad7b700e1c",
          "65b6a443fcf0b7ad7b700e1d"
        ],
        "fileType": "folder",
        "_id": "65b6a443fcf0b7ad7b700e1a",
        "createdAt": "2024-01-29T14:47:40.566Z",
        "updatedAt": "2024-01-29T14:47:40.566Z",
        "isSelectedFile": false,
        "id": "65b6a443fcf0b7ad7b700e1a"
      },
      {
        "name": "sketch.js",
        "content": "let angle = 0;\nlet a = 0;\n\nfunction setup() {\ncreateCanvas(400, 400);\nbackground(0);\n}\n\nfunction draw() {\ntranslate(width/2, height/2);\nlet x = map(mouseX, 0, width, 0, width/2);\nlet y = map(mouseY, 0, height, 0, height/2);\nlet s1 = map(mouseX, 0, width, 0, 5);\nlet s2 = map(mouseY, 0, height, 0, 5);\nlet r = random(150, 200);\nlet g = random(80, 130);\nlet b = random(200, 250);\nlet t = random(10, 70);\na = lerp(a, width/4, 0.001);\nangle = angle + 60.1;\n\n//flower animation\npush();\nrotate( radians(angle) );\nstroke(200, 170, 200, 80);\nstrokeWeight(5);\nfill(r, g, b, t);\nellipseMode(CENTER);\nellipse(a, a, width/4, height/4);\npop();\n\n\n\npush();\nrotate( radians(angle) );\nstroke(200, 170, 200, 80);\nstrokeWeight(8);\nfill(r, g, b, t);\nellipseMode(CENTER);\nscale(s1, s2);\nellipse(x, y, width/6, height/6);\npop();\n  \n\npush();\nrotate( radians(angle) );\nstroke(200, 170, 200, 80);\nstrokeWeight(8);\nfill(r, g, b);\nellipseMode(CENTER);\nscale(s1, s2);\nellipse(width/2 - x, height/2 - y, width/6, height/6);\npop();\n}",
        "children": [],
        "fileType": "file",
        "_id": "65b6a443fcf0b7ad7b700e1c",
        "isSelectedFile": true,
        "createdAt": "2024-01-29T14:47:40.566Z",
        "updatedAt": "2024-01-29T14:47:40.566Z",
        "id": "65b6a443fcf0b7ad7b700e1c"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65b6a443fcf0b7ad7b700e1b",
        "createdAt": "2024-01-29T14:47:40.566Z",
        "updatedAt": "2024-01-29T14:47:40.566Z",
        "isSelectedFile": false,
        "id": "65b6a443fcf0b7ad7b700e1b"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65b6a443fcf0b7ad7b700e1d",
        "createdAt": "2024-01-29T14:47:40.566Z",
        "updatedAt": "2024-01-29T14:47:40.566Z",
        "isSelectedFile": false,
        "id": "65b6a443fcf0b7ad7b700e1d"
      }
    ],
    "createdAt": "2024-01-28T19:00:19.944Z",
    "updatedAt": "2024-01-29T14:47:40.566Z",
    "id": "vlBrk1j7S"
  },
  {
    "_id": "C682qBTWJ",
    "name": "NOC_#W03_Tornado_Ting",
    "updatedAt": "2024-02-19T06:29:29.735Z",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65d21fe60c6d1950b061a9fb",
          "65d21fe60c6d1950b061a9fa",
          "65d21fe60c6d1950b061a9fc"
        ],
        "fileType": "folder",
        "_id": "65d21fe60c6d1950b061a9fd",
        "createdAt": "2024-02-19T06:29:29.735Z",
        "updatedAt": "2024-02-19T06:29:29.735Z",
        "isSelectedFile": false,
        "id": "65d21fe60c6d1950b061a9fd"
      },
      {
        "name": "sketch.js",
        "content": "let dust = [];\nlet a;\nlet b;\n\nfunction setup() {\n  createCanvas(450, 450);\n}\n\nfunction draw() {\n  background(0);\n  a = width/2;\n  b = height -20;\n  dust.push(new Dust(a, b));\n  \nif (mouseIsPressed === true) {\n    frameRate(10);\n  } else {\n    frameRate(60);\n  }\n  \nfor (let i = 0; i < dust.length; i++) {\nlet d = dust[i];\nd.rise();\nd.checkEdges();\nd.display();\n}\n  \nwhile (dust.length > 200) {\ndust.splice(0, 1); \n}\nfor (let i = dust.length - 1; i >= 0; i--) {\nlet d = dust[i];\nif (d.isDone) {\ndust.splice(i, 10); \n}\n}\n}\n\nclass Dust{\nconstructor(x, y) {\nthis.pos = createVector(x, y);\nthis.vel = createVector(random(-2, 2), 0);\nthis.float = createVector(0, random(-1, 0));\nthis.wind1 = createVector(random(0, 1), random(0, 0.01));\nthis.wind2 = createVector(random(0, 1), random(-0.01, 0));\nthis.r = random(0, 255);\nthis.g = random(0, 255);\nthis.b = random(0, 255);\nthis.t = 90;\n}\n  \n  \nrise(){\nthis.pos.add(this.vel);\nthis.pos.add(this.float);\nif( this.pos.x > width/2 + (height -this.pos.y)/(width/2-mouseX)*10){\n  this.vel.sub(this.wind1);\n}\nif( this.pos.x <= width/2 - (height -this.pos.y)/(mouseX-width/2)*10){\n  this.vel.add(this.wind2);\n}\n}\n  \n  \ncheckEdges(){\nif (this.pos.y < 0) {\nthis.isDone = true;\n}\n}\n\n  \ndisplay(){\n  push();\n  blendMode(ADD);\n  //translate(this.pos.x, this.pos.y);\n  fill(this.r, this.g, this.b, this.t);\n  noStroke();\n  circle(this.pos.x, this.pos.y, 10* (height + 100 - this.pos.y)/this.pos.y);\n  pop();\n} \n}",
        "children": [],
        "fileType": "file",
        "_id": "65d21fe60c6d1950b061a9fa",
        "isSelectedFile": true,
        "createdAt": "2024-02-19T06:29:29.735Z",
        "updatedAt": "2024-02-19T06:29:29.735Z",
        "id": "65d21fe60c6d1950b061a9fa"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65d21fe60c6d1950b061a9fb",
        "createdAt": "2024-02-19T06:29:29.735Z",
        "updatedAt": "2024-02-19T06:29:29.735Z",
        "isSelectedFile": false,
        "id": "65d21fe60c6d1950b061a9fb"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65d21fe60c6d1950b061a9fc",
        "createdAt": "2024-02-19T06:29:29.735Z",
        "updatedAt": "2024-02-19T06:29:29.735Z",
        "isSelectedFile": false,
        "id": "65d21fe60c6d1950b061a9fc"
      }
    ],
    "createdAt": "2024-02-18T15:35:35.096Z",
    "id": "C682qBTWJ"
  },
  {
    "_id": "oPdxmt9Rr",
    "name": "NOC_Project A_Black_Ink",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65f7fbd59844655718313905",
          "65f7fbd59844655718313906",
          "65f7fbd59844655718313907"
        ],
        "fileType": "folder",
        "_id": "65f7fbd59844655718313904",
        "createdAt": "2024-03-19T06:42:52.816Z",
        "updatedAt": "2024-03-19T06:42:52.816Z",
        "isSelectedFile": false,
        "id": "65f7fbd59844655718313904"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet objParams = {\n  density: 0.1,\n  frameRate: 0,\n};\n\nlet particle = [];\nlet x0;\nlet y0;\nlet waterlevel;\n\nfunction setup() {\n  createCanvas(600, 600);\n \n\n  waterlevel = height / 6;\n\n  gui = new dat.GUI();\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n  gui.add(objParams, \"density\").min(0.1).max(0.15).step(0.001).listen();\n}\n\nfunction draw() {\n    background(0,10);// ***\n\n  //framerate\n  objParams.frameRate = frameRate().toFixed(2);\n\n  //water level\n  stroke(255);\n  line(0, waterlevel, width, waterlevel);\n\n  //initial position\n  x0 = width / 2;\n  y0 = 0;\n\n  particle.push(new Particle(x0, y0));\n\n  for (let i = 0; i < particle.length; i++) {\n    let p = particle[i];\n\n    // control\n    p.updateByGui();\n\n    ///// ENV FORCES /////\n    // fall\n    let gravity = createVector(0, 0.01);\n    p.applyForce(gravity);\n\n    // float\n    if (p.pos.y > waterlevel) {\n      let depth = map(p.pos.y, waterlevel, height, 1, 1.5);\n      let buoyancy = createVector(0, -0.1);\n      buoyancy.mult(p.mass * p.density * depth);\n      p.applyForce(buoyancy);\n\n      p.diffuse();\n    }\n\n    // move\n    p.update();\n    \n    //damping\n    \n    \n\n    // check & compare\n    p.bounce();\n    p.checkEdges();\n\n    // display\n    p.display();\n  }\n\n  while (particle.length > 1000) {\n    particle.splice(0, 1);\n  }\n\n  for (let i = particle.length - 1; i >= 0; i--) {\n    let p = particle[i];\n    if (p.isDone) {\n      particle.splice(i, 1);\n    }\n  }\n}\n\nclass Particle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = createVector(0, 0);\n\n    this.mass = 1;\n    this.density = 1;\n    this.dia = this.mass * this.density;\n  }\n  update() {\n    // drip!\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n  }\n  applyForce(f) {\n    if (this.mass > 0) {\n      let force = f.copy();\n      force.div(this.mass);\n      this.acc.add(force);\n    }\n  }\n  diffuse() {\n    //let force = p5.Vector.fromAngle(0);\n    let force = createVector(1, 0);\n\n    let freqX = this.pos.x * 0.01 + frameCount * 0.05;\n    let freqY = this.pos.y * 0.02 + frameCount * 0.05;\n    let angle = map(noise(freqX, freqY), 0, 1, 0, PI * 4);\n\n    // sine\n    let mag = 0.02;\n\n    force.rotate(angle);\n    force.mult(mag);\n    this.applyForce(force);\n  }\n\n  bounce() {\n    if (this.pos.y > height) {\n      this.vel.y *= -1;\n    }\n  }\n  checkEdges() {\n    if (this.pos.y < 0) {\n      this.isDone = true;\n    }\n  }\n\n  updateByGui() {\n    this.density = objParams.density;\n  }\n\n  display() {\n    //drawBlob\n    push();\n    blendMode(ADD);\n    fill(255, 53);\n    noStroke();\n    translate(this.pos.x, this.pos.y);\n\n    let newX, newY, freq;\n    this.dia = (this.pos.y - waterlevel) / 15;\n\n    freq = frameCount * 0.05;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.06;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.07;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f7fbd59844655718313906",
        "isSelectedFile": true,
        "createdAt": "2024-03-19T06:42:52.816Z",
        "updatedAt": "2024-03-19T06:42:52.816Z",
        "id": "65f7fbd59844655718313906"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65f7fbd59844655718313905",
        "createdAt": "2024-03-19T06:42:52.816Z",
        "updatedAt": "2024-03-19T06:42:52.816Z",
        "isSelectedFile": false,
        "id": "65f7fbd59844655718313905"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f7fbd59844655718313907",
        "createdAt": "2024-03-19T06:42:52.816Z",
        "updatedAt": "2024-03-19T06:42:52.816Z",
        "isSelectedFile": false,
        "id": "65f7fbd59844655718313907"
      }
    ],
    "createdAt": "2024-03-18T08:31:18.787Z",
    "updatedAt": "2024-03-19T06:42:52.816Z",
    "id": "oPdxmt9Rr"
  },
  {
    "_id": "msc-Y1FTZ",
    "name": "NOC_Project A_Ink",
    "updatedAt": "2024-03-19T06:43:25.172Z",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65f666c3f503a1c233dc1467",
          "65f666c3f503a1c233dc1466",
          "65f666c3f503a1c233dc1468"
        ],
        "fileType": "folder",
        "_id": "65f666c3f503a1c233dc1469",
        "createdAt": "2024-03-19T06:43:25.172Z",
        "updatedAt": "2024-03-19T06:43:25.172Z",
        "isSelectedFile": false,
        "id": "65f666c3f503a1c233dc1469"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet objParams = {\n  density: 0.1,\n};\n\nlet particle = [];\nlet x0;\nlet y0;\nlet waterlevel;\n\nfunction setup() {\n  createCanvas(600, 600);\n  gui = new dat.GUI();\n  gui.add(objParams, \"density\").min(0).max(1).listen();\n}\n\nfunction draw() {\n  background(0, 70);\n\n  //framerate\n  let fps = frameRate();\n  fill(255);\n  noStroke();\n  text(fps, 0, 600);\n\n  //water level\n  stroke(255);\n  waterlevel = height / 6;\n  line(0, waterlevel, width, waterlevel);\n\n  //initial position\n  x0 = width / 2;\n  y0 = 0;\n\n  particle.push(new Particle(x0, y0));\n  for (let i = 0; i < particle.length; i++) {\n    let p = particle[i];\n    p.drip();\n    p.diffuse();\n    p.float();\n    p.bounce();\n    p.updateByGui();\n    p.checkEdges();\n    p.display();\n  }\n\n  while (particle.length > 1000) {\n    particle.splice(0, 1);\n  }\n  \n  for (let i = particle.length - 1; i >= 0; i--) {\n    let p = particle[i];\n    if (p.isDone) {\n      particle.splice(i, 1);\n    }\n  }\n}\n\nclass Particle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.gravity = createVector(0, 2);\n    this.buoyancy = createVector(0, -0.1);\n    this.diffusion = createVector(random(-0.01, 0.01), random(-0.01, 0.01));\n    this.density = 1;\n    this.dia = 1;\n  }\n\n  drip() {\n    this.pos.add(this.vel);\n    this.pos.add(this.gravity);\n  }\n\n  diffuse() {\n    if (this.pos.y > waterlevel) {\n      this.vel.add(this.diffusion);\n    }\n  }\n\n  float() {\n    this.buoyancy.mult(this.dia * this.density);\n    if (this.pos.y > waterlevel) {\n      this.vel.add(this.buoyancy);\n    }\n  }\n  \n  bounce(){\n    if(this.pos.y > height){\n      this.vel.mult(-1);\n    }\n  }\n\n  updateByGui() {\n    this.density = objParams.density;\n  }\n\n  checkEdges() {\n    if (this.pos.y < 0) {\n      this.isDone = true;\n    }\n  }\n\n  display() {\n    //drawBlob\n    push();\n    blendMode(ADD);\n    fill(255, 3);\n    noStroke();\n    translate(this.pos.x, this.pos.y);\n\n    let newX, newY, freq;\n    this.dia = (this.pos.y - waterlevel) / 15;\n\n    freq = frameCount * 0.05;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.06;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.07;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f666c3f503a1c233dc1466",
        "isSelectedFile": true,
        "createdAt": "2024-03-19T06:43:25.172Z",
        "updatedAt": "2024-03-19T06:43:25.172Z",
        "id": "65f666c3f503a1c233dc1466"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65f666c3f503a1c233dc1467",
        "createdAt": "2024-03-19T06:43:25.172Z",
        "updatedAt": "2024-03-19T06:43:25.172Z",
        "isSelectedFile": false,
        "id": "65f666c3f503a1c233dc1467"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f666c3f503a1c233dc1468",
        "createdAt": "2024-03-19T06:43:25.172Z",
        "updatedAt": "2024-03-19T06:43:25.172Z",
        "isSelectedFile": false,
        "id": "65f666c3f503a1c233dc1468"
      }
    ],
    "createdAt": "2024-03-17T13:14:42.837Z",
    "id": "msc-Y1FTZ"
  },
  {
    "_id": "-m3aHYJ6Y",
    "name": "NOC_Project A_Ink 03",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65f842c5984465571831390d",
          "65f842c5984465571831390e",
          "65f842c5984465571831390f"
        ],
        "fileType": "folder",
        "_id": "65f842c5984465571831390c",
        "createdAt": "2024-03-19T05:46:28.551Z",
        "updatedAt": "2024-03-19T05:46:28.551Z",
        "isSelectedFile": false,
        "id": "65f842c5984465571831390c"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet objParams = {\n  density: 0.1,\n  frameRate: 0,\n};\n\nlet particle = [];\nlet COEFFICIENT_OF_RESISTANCE = 0.003;\nlet bouncing = false;\n\nfunction setup() {\n  createCanvas(600, 600);\n\n  gui = new dat.GUI();\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n  gui.add(objParams, \"density\").min(0.07).max(0.13).step(0.001).listen();\n}\n\nfunction draw() {\n  background(0, 30); // ***\n  //background(255, 40); // ***\n\n  //framerate\n  objParams.frameRate = frameRate().toFixed(2);\n\n  //mousepressed\n  if (mouseIsPressed === true) {\n    particle.push(new Particle(mouseX, 0));\n  }\n\n  for (let i = 0; i < particle.length; i++) {\n    let p = particle[i];\n\n    // control\n    p.updateByGui();\n\n    ///// ENV FORCES /////\n    // fall\n    let gravity = createVector(0, 0.03);\n    p.applyForce(gravity);\n\n    // waterresistance\n    let resistance = p.vel.copy();\n    resistance.normalize();\n    resistance.mult(-1);\n    let speed = p.vel.mag();\n    let magnitude = speed * speed * COEFFICIENT_OF_RESISTANCE;\n    resistance.mult(magnitude);\n    p.applyForce(resistance);\n\n    // float\n    let depth = map(p.pos.y, 0, height, 1, 1.5);\n    let buoyancy = createVector(0, -0.2);\n    buoyancy.mult(p.mass * p.density * depth);\n    p.applyForce(buoyancy);\n    p.diffuse();\n\n    // move\n    p.update();\n\n    // check & compare\n    p.bounce();\n    p.checkEdges();\n\n    // display\n    p.display();\n  }\n\n  while (particle.length > 700) {\n    particle.splice(0, 1);\n  }\n\n  for (let i = particle.length - 1; i >= 0; i--) {\n    let p = particle[i];\n    if (p.isDone) {\n      particle.splice(i, 1);\n    }\n  }\n}\n\nclass Particle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = createVector(0, 0);\n\n    this.mass = 1;\n    this.density = 1;\n    this.dia = this.mass * this.density;\n  }\n  update() {\n    // drip!\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n  }\n\n  applyForce(f) {\n    if (this.mass > 0) {\n      let force = f.copy();\n      force.div(this.mass);\n      this.acc.add(force);\n    }\n  }\n\n  resist(r) {\n    if (this.mass > 0) {\n      let resistance = r.copy();\n      resistance.div(this.mass);\n      this.acc.mult(resistance);\n    }\n  }\n\n  diffuse() {\n    let diffusion = createVector(0.15, 0);\n\n    let freqX = this.pos.x * 0.3 + frameCount * 0.01;\n    let freqY = this.pos.y * 0.3 + frameCount * 0.01;\n    let angle = map(noise(freqX, freqY), 0, 1, 0, PI * 3);\n\n    // sine\n    let mag = sin(-frameCount * 0.02) * 0.05;\n\n    diffusion.rotate(angle);\n    diffusion.mult(mag);\n    this.applyForce(diffusion);\n  }\n\n  bounce() {\n    if (this.pos.y > height) {\n      this.vel.y *= -0.5; //damping\n      bouncing = true;\n    }\n  }\n  checkEdges() {\n    if (this.pos.y < 0) {\n      this.isDone = true;\n    }\n  }\n\n  updateByGui() {\n    this.density = objParams.density;\n  }\n\n  display() {\n    //drawBlob\n    push();\n    blendMode(ADD);\n    fill(255, 1);\n    //fill(100, 10, 0, 5);\n    noStroke();\n    translate(this.pos.x, this.pos.y);\n\n    let newX, newY, freq;\n    this.dia = this.pos.y / 20 + 5;\n\n    freq = frameCount * 0.05;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.1;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.2;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f842c5984465571831390e",
        "isSelectedFile": true,
        "createdAt": "2024-03-19T05:46:28.551Z",
        "updatedAt": "2024-03-19T05:46:28.551Z",
        "id": "65f842c5984465571831390e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65f842c5984465571831390d",
        "createdAt": "2024-03-19T05:46:28.551Z",
        "updatedAt": "2024-03-19T05:46:28.551Z",
        "isSelectedFile": false,
        "id": "65f842c5984465571831390d"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f842c5984465571831390f",
        "createdAt": "2024-03-19T05:46:28.551Z",
        "updatedAt": "2024-03-19T05:46:28.551Z",
        "isSelectedFile": false,
        "id": "65f842c5984465571831390f"
      }
    ],
    "createdAt": "2024-03-18T13:33:58.274Z",
    "updatedAt": "2024-03-19T05:46:28.551Z",
    "id": "-m3aHYJ6Y"
  },
  {
    "_id": "WSAXcKLnB",
    "name": "NOC_Project A_Ink 04_spinning",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65f87a6c99ee311b6d865735",
          "65f87a6c99ee311b6d865736",
          "65f87a6c99ee311b6d865737"
        ],
        "fileType": "folder",
        "_id": "65f87a6c99ee311b6d865734",
        "createdAt": "2024-03-19T04:56:41.648Z",
        "updatedAt": "2024-03-19T04:56:41.648Z",
        "isSelectedFile": false,
        "id": "65f87a6c99ee311b6d865734"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet objParams = {\n  density: 0.1,\n  frameRate: 0,\n};\n\nlet particle = [];\nlet p0; \nlet COEFFICIENT_OF_RESISTANCE = 0.003;\nlet bouncing = false;\n\nfunction setup() {\n  createCanvas(600, 600);\n\n  gui = new dat.GUI();\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n  gui.add(objParams, \"density\").min(0.07).max(0.13).step(0.001).listen();\n}\n\nfunction draw() {\n  background(0, 20); // ***\n  //background(255, 40); // ***\n\n  //framerate\n  objParams.frameRate = frameRate().toFixed(2);\n\n  //mousepressed\n  if (mouseIsPressed === true) {\n    particle.push(new Particle(mouseX, 0));\n  }\n  // p0 = new Particle(mouseX, random(200, 600));\n\n  for (let i = 0; i < particle.length; i++) {\n    let p = particle[i];\n\n    // control\n    p.updateByGui();\n\n    ///// ENV FORCES /////\n    // fall\n    let gravity = createVector(0, 0.03);\n    p.applyForce(gravity);\n\n    // waterresistance\n    let resistance = p.vel.copy();\n    resistance.normalize();\n    resistance.mult(-1);\n    let speed = p.vel.mag();\n    let magnitude = speed * speed * COEFFICIENT_OF_RESISTANCE;\n    resistance.mult(magnitude);\n    p.applyForce(resistance);\n\n    // float\n    let depth = map(p.pos.y, 0, height, 1, 1.5);\n    let buoyancy = createVector(0, -0.2);\n    buoyancy.mult(p.mass * p.density * depth);\n    p.applyForce(buoyancy);\n    p.diffuse();\n    \n    //attraction\n    //p.attractedTo(p0);\n    \n//     //spinning\n//     let centerPos = createVector(width/2, random(height/2, height));\n//   let angle = map(mouseX, 0, width, 0, 10);\n    \n//     let vector = p5.Vector.sub(centerPos, p.pos);\n//     vector.normalize();\n//     vector.mult(0.1);\n//     vector.rotate( radians(angle) );\n//     p.applyForce(vector);\n\n    // move\n    p.update();\n\n    // check & compare\n    p.bounce();\n    p.checkEdges();\n\n    // display\n    p.display();\n  }\n\n  while (particle.length > 1000) {\n    particle.splice(0, 1);\n  }\n\n  for (let i = particle.length - 1; i >= 0; i--) {\n    let p = particle[i];\n    if (p.isDone) {\n      particle.splice(i, 1);\n    }\n  }\n}\n\nclass Particle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = createVector(0, 0);\n\n    this.mass = 1;\n    this.density = 1;\n    this.dia = this.mass * this.density;\n  }\n  update() {\n    // drip!\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n  }\n\n  applyForce(f) {\n    if (this.mass > 0) {\n      let force = f.copy();\n      force.div(this.mass);\n      this.acc.add(force);\n    }\n  }\n\n\n  diffuse() {\n    let diffusion = createVector(0.15, 0);\n\n    let freqX = this.pos.x * 0.5 + frameCount * 0.01;\n    let freqY = this.pos.y * 0.5 + frameCount * 0.01;\n    let angle = map(noise(freqX, freqY), 0, 1, 0, PI * 4);\n\n    // sine\n    let mag = sin(-frameCount * 0.02) * 0.07;\n\n    diffusion.rotate(angle);\n    diffusion.mult(mag);\n    this.applyForce(diffusion);\n  }\n  \n\n  bounce() {\n    if (this.pos.y > height) {\n      this.vel.y *= -0.5; //damping\n      bouncing = true;\n    }\n  }\n  \n  attractedTo(other) {\n    let force = p5.Vector.sub(other.pos, this.pos);\n    force.mult(0.1);\n    this.applyForce(force);\n  }\n  \n  checkEdges() {\n    if (this.pos.y < 0) {\n      this.isDone = true;\n    }\n  }\n\n  updateByGui() {\n    this.density = objParams.density;\n  }\n\n  display() {\n    //drawBlob\n    push();\n    blendMode(ADD);\n    fill(255, 1);\n    //fill(100, 10, 0, 5);\n    noStroke();\n    translate(this.pos.x, this.pos.y);\n\n    let newX, newY, freq;\n    this.dia = this.pos.y / 20 + 5;\n\n    freq = frameCount * 0.05;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.1;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.2;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f87a6c99ee311b6d865736",
        "isSelectedFile": true,
        "createdAt": "2024-03-19T04:56:41.648Z",
        "updatedAt": "2024-03-19T04:56:41.648Z",
        "id": "65f87a6c99ee311b6d865736"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65f87a6c99ee311b6d865735",
        "createdAt": "2024-03-19T04:56:41.648Z",
        "updatedAt": "2024-03-19T04:56:41.648Z",
        "isSelectedFile": false,
        "id": "65f87a6c99ee311b6d865735"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f87a6c99ee311b6d865737",
        "createdAt": "2024-03-19T04:56:41.648Z",
        "updatedAt": "2024-03-19T04:56:41.648Z",
        "isSelectedFile": false,
        "id": "65f87a6c99ee311b6d865737"
      }
    ],
    "createdAt": "2024-03-18T17:31:25.055Z",
    "updatedAt": "2024-03-19T04:56:41.648Z",
    "id": "WSAXcKLnB"
  },
  {
    "_id": "8glu93LRV",
    "name": "NOC_Project A_Ink 05_guicolor",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65f91b1299ee311b6d865739",
          "65f91b1299ee311b6d86573a",
          "65f91b1299ee311b6d86573b"
        ],
        "fileType": "folder",
        "_id": "65f91b1299ee311b6d865738",
        "createdAt": "2024-03-19T05:53:34.019Z",
        "updatedAt": "2024-03-19T05:53:34.019Z",
        "isSelectedFile": false,
        "id": "65f91b1299ee311b6d865738"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet ui = {\n  r: 0,\n  g: 0,\n  b: 0,\n};\nlet objParams = {\n  density: 0.1,\n  frameRate: 0,\n};\n\nlet particle = [];\nlet p0; \nlet COEFFICIENT_OF_RESISTANCE = 0.003;\nlet bouncing = false;\n\nfunction setup() {\n  createCanvas(600, 600);\n\n  gui = new dat.GUI();\n  gui.add(ui, \"r\", 0, 255);\n  gui.add(ui, \"g\", 0, 255);\n  gui.add(ui, \"b\", 0, 255);\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n  gui.add(objParams, \"density\").min(0.07).max(0.13).step(0.001).listen();\n}\n\nfunction draw() {\n  //background(0, 20); // ***\n  background(255, 20); // ***\n\n  //framerate\n  objParams.frameRate = frameRate().toFixed(2);\n\n  //mousepressed\n  if (mouseIsPressed === true) {\n    particle.push(new Particle(mouseX, 0));\n  }\n  // p0 = new Particle(mouseX, random(200, 600));\n\n  for (let i = 0; i < particle.length; i++) {\n    let p = particle[i];\n\n    // control\n    p.updateByGui();\n\n    ///// ENV FORCES /////\n    // fall\n    let gravity = createVector(0, 0.03);\n    p.applyForce(gravity);\n\n    // waterresistance\n    let resistance = p.vel.copy();\n    resistance.normalize();\n    resistance.mult(-1);\n    let speed = p.vel.mag();\n    let magnitude = speed * speed * COEFFICIENT_OF_RESISTANCE;\n    resistance.mult(magnitude);\n    p.applyForce(resistance);\n\n    // float\n    let depth = map(p.pos.y, 0, height, 1, 1.5);\n    let buoyancy = createVector(0, -0.2);\n    buoyancy.mult(p.mass * p.density * depth);\n    p.applyForce(buoyancy);\n    p.diffuse();\n    \n    //attraction\n    //p.attractedTo(p0);\n    \n//     //spinning\n//     let centerPos = createVector(width/2, random(height/2, height));\n//   let angle = map(mouseX, 0, width, 0, 10);\n    \n//     let vector = p5.Vector.sub(centerPos, p.pos);\n//     vector.normalize();\n//     vector.mult(0.1);\n//     vector.rotate( radians(angle) );\n//     p.applyForce(vector);\n\n    // move\n    p.update();\n\n    // check & compare\n    p.bounce();\n    p.checkEdges();\n\n    // display\n    p.display();\n  }\n\n  while (particle.length > 1000) {\n    particle.splice(0, 1);\n  }\n\n  for (let i = particle.length - 1; i >= 0; i--) {\n    let p = particle[i];\n    if (p.isDone) {\n      particle.splice(i, 1);\n    }\n  }\n}\n\nclass Particle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = createVector(0, 0);\n\n    this.mass = 1;\n    this.density = 1;\n    this.dia = this.mass * this.density;\n  }\n  update() {\n    // drip!\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n  }\n\n  applyForce(f) {\n    if (this.mass > 0) {\n      let force = f.copy();\n      force.div(this.mass);\n      this.acc.add(force);\n    }\n  }\n\n\n  diffuse() {\n    let diffusion = createVector(0.15, 0);\n\n    let freqX = this.pos.x * 0.5 + frameCount * 0.01;\n    let freqY = this.pos.y * 0.5 + frameCount * 0.01;\n    let angle = map(noise(freqX, freqY), 0, 1, 0, PI * 4);\n\n    // sine\n    let mag = sin(-frameCount * 0.02) * 0.07;\n\n    diffusion.rotate(angle);\n    diffusion.mult(mag);\n    this.applyForce(diffusion);\n  }\n  \n\n  bounce() {\n    if (this.pos.y > height) {\n      this.vel.y *= -0.5; //damping\n      bouncing = true;\n    }\n  }\n  \n  attractedTo(other) {\n    let force = p5.Vector.sub(other.pos, this.pos);\n    force.mult(0.1);\n    this.applyForce(force);\n  }\n  \n  checkEdges() {\n    if (this.pos.y < 0) {\n      this.isDone = true;\n    }\n  }\n\n  updateByGui() {\n    this.density = objParams.density;\n  }\n\n  display() {\n    //drawBlob\n    push();\n    //blendMode(ADD);\n    blendMode(MULTIPLY);\n    fill(ui.r,ui.g,ui.b, 5);\n    //fill(100, 10, 0, 5);\n    noStroke();\n    translate(this.pos.x, this.pos.y);\n\n    let newX, newY, freq;\n    this.dia = this.pos.y / 20 + 5;\n\n    freq = frameCount * 0.05;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.1;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.2;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f91b1299ee311b6d86573a",
        "isSelectedFile": true,
        "createdAt": "2024-03-19T05:53:34.019Z",
        "updatedAt": "2024-03-19T05:53:34.019Z",
        "id": "65f91b1299ee311b6d86573a"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65f91b1299ee311b6d865739",
        "createdAt": "2024-03-19T05:53:34.019Z",
        "updatedAt": "2024-03-19T05:53:34.019Z",
        "isSelectedFile": false,
        "id": "65f91b1299ee311b6d865739"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f91b1299ee311b6d86573b",
        "createdAt": "2024-03-19T05:53:34.019Z",
        "updatedAt": "2024-03-19T05:53:34.019Z",
        "isSelectedFile": false,
        "id": "65f91b1299ee311b6d86573b"
      }
    ],
    "createdAt": "2024-03-19T04:56:51.342Z",
    "updatedAt": "2024-03-19T05:53:34.019Z",
    "id": "8glu93LRV"
  },
  {
    "_id": "p2mP4i0kx",
    "name": "NOC_Project A_Ink 05_guicolor simple",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65f9277999ee311b6d86573d",
          "65f9277999ee311b6d86573e",
          "65f9277999ee311b6d86573f"
        ],
        "fileType": "folder",
        "_id": "65f9277999ee311b6d86573c",
        "createdAt": "2024-05-08T14:16:18.272Z",
        "updatedAt": "2024-05-08T14:16:18.272Z",
        "isSelectedFile": false,
        "id": "65f9277999ee311b6d86573c"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet ui = {\n  r: 0,\n  g: 0,\n  b: 0,\n};\nlet objParams = {\n  density: 0.1,\n  frameRate: 0,\n};\n\nlet particle = [];\nlet p0; \nlet COEFFICIENT_OF_RESISTANCE = 0.003;\nlet bouncing = false;\n\nfunction setup() {\n  createCanvas(600, 600);\n\n  gui = new dat.GUI();\n  gui.add(ui, \"r\", 0, 255);\n  gui.add(ui, \"g\", 0, 255);\n  gui.add(ui, \"b\", 0, 255);\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n  gui.add(objParams, \"density\").min(0.07).max(0.13).step(0.001).listen();\n}\n\nfunction draw() {\n  //background(0, 20); // ***\n  background(255, 20); // ***\n\n  //framerate\n  objParams.frameRate = frameRate().toFixed(2);\n\n  //mousepressed\n  if (mouseIsPressed === true) {\n    particle.push(new Particle(mouseX, 0));\n  }\n\n\n  for (let i = 0; i < particle.length; i++) {\n    let p = particle[i];\n\n    // control\n    p.updateByGui();\n\n    ///// ENV FORCES /////\n    // fall\n    let gravity = createVector(0, 0.03);\n    p.applyForce(gravity);\n\n    // waterresistance\n    let resistance = p.vel.copy();\n    resistance.normalize();\n    resistance.mult(-1);\n    let speed = p.vel.mag();\n    let magnitude = speed * speed * COEFFICIENT_OF_RESISTANCE;\n    resistance.mult(magnitude);\n    p.applyForce(resistance);\n\n    // float\n    let depth = map(p.pos.y, 0, height, 1, 1.5);\n    let buoyancy = createVector(0, -0.2);\n    buoyancy.mult(p.mass * p.density * depth);\n    p.applyForce(buoyancy);\n    p.diffuse();\n    \n    // move\n    p.update();\n\n    // check & compare\n    p.bounce();\n    p.checkEdges();\n\n    // display\n    p.display();\n  }\n\n  while (particle.length > 1000) {\n    particle.splice(0, 1);\n  }\n\n  for (let i = particle.length - 1; i >= 0; i--) {\n    let p = particle[i];\n    if (p.isDone) {\n      particle.splice(i, 1);\n    }\n  }\n}\n\nclass Particle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = createVector(0, 0);\n\n    this.mass = 1;\n    this.density = 1;\n    this.dia = this.mass * this.density;\n  }\n  update() {\n    // drip!\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n  }\n\n  applyForce(f) {\n    if (this.mass > 0) {\n      let force = f.copy();\n      force.div(this.mass);\n      this.acc.add(force);\n    }\n  }\n\n  diffuse() {\n    let diffusion = createVector(0.15,0);\n\n    let freqX = this.pos.x * 0.5 + frameCount * 0.01;\n    let freqY = this.pos.y * 0.5 + frameCount * 0.01;\n    let angle = map(noise(freqX, freqY), 0, 1, 0, PI * 4);\n\n    let mag = sin(-frameCount * 0.02) * 0.07;\n    diffusion.rotate(angle);\n    diffusion.mult(mag);\n    this.applyForce(diffusion);\n  }\n  \n\n  bounce() {\n    if (this.pos.y > height) {\n      this.vel.y *= -0.5; //damping\n      bouncing = true;\n    }\n  }\n  \n  attractedTo(other) {\n    let force = p5.Vector.sub(other.pos, this.pos);\n    force.mult(0.1);\n    this.applyForce(force);\n  }\n  \n  checkEdges() {\n    if (this.pos.y < 0) {\n      this.isDone = true;\n    }\n  }\n\n  updateByGui() {\n    this.density = objParams.density;\n  }\n\n  display() {\n    //drawBlob\n    push();\n    blendMode(MULTIPLY);\n    fill(ui.r,ui.g,ui.b, 40);\n    noStroke();\n    this.dia = this.pos.y / 20 + 5;\n    circle(this.pos.x, this.pos.y, this.dia);\n\n\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f9277999ee311b6d86573e",
        "isSelectedFile": true,
        "createdAt": "2024-05-08T14:16:18.272Z",
        "updatedAt": "2024-05-08T14:16:18.272Z",
        "id": "65f9277999ee311b6d86573e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65f9277999ee311b6d86573d",
        "createdAt": "2024-05-08T14:16:18.272Z",
        "updatedAt": "2024-05-08T14:16:18.272Z",
        "isSelectedFile": false,
        "id": "65f9277999ee311b6d86573d"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f9277999ee311b6d86573f",
        "createdAt": "2024-05-08T14:16:18.272Z",
        "updatedAt": "2024-05-08T14:16:18.272Z",
        "isSelectedFile": false,
        "id": "65f9277999ee311b6d86573f"
      }
    ],
    "createdAt": "2024-03-19T05:49:45.867Z",
    "updatedAt": "2024-05-08T14:16:18.272Z",
    "id": "p2mP4i0kx"
  },
  {
    "_id": "qAONBSg2n",
    "name": "NOC_Project A_Ink_red",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65f80b079844655718313909",
          "65f80b07984465571831390a",
          "65f80b07984465571831390b"
        ],
        "fileType": "folder",
        "_id": "65f80b079844655718313908",
        "createdAt": "2024-03-19T05:50:45.276Z",
        "updatedAt": "2024-03-19T05:50:45.276Z",
        "isSelectedFile": false,
        "id": "65f80b079844655718313908"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet objParams = {\n  density: 0.1,\n  frameRate: 0,\n};\n\nlet particle = [];\n// let r;\n// let g;\n// let b;\n\n\nfunction setup() {\n  createCanvas(600, 600);\n\n\n  gui = new dat.GUI();\n  gui.add(objParams, \"frameRate\").step(0.01).listen();\n  gui.add(objParams, \"density\").min(0.07).max(0.13).step(0.001).listen();\n}\n\n\n\nfunction draw() {\n  background(255, 40); // ***\n\n\n  //framerate\n  objParams.frameRate = frameRate().toFixed(2);\n\n\n  if(mouseIsPressed === true){\n  particle.push(new Particle(mouseX, 0));\n  }\n\n  for (let i = 0; i < particle.length; i++) {\n    let p = particle[i];\n\n    // control\n    p.updateByGui();\n\n    ///// ENV FORCES /////\n    // fall\n    let gravity = createVector(0, 0.03);\n    p.applyForce(gravity);\n    \n    // waterresistance\n    let resistanceadj = createVector(0.98, 0.98);\n    p.resist(resistanceadj);\n    \n    // float\n      let depth = map(p.pos.y, 0, height, 1, 1.5);\n      let buoyancy = createVector(0, -0.2);\n      buoyancy.mult(p.mass * p.density * depth);\n      p.applyForce(buoyancy);\n      p.diffuse();\n     \n    // move\n    p.update();\n\n    // check & compare\n    p.bounce();\n    p.checkEdges();\n\n    // display\n    p.display();\n    \n    // mixcolors\n    //p.checkCollision();\n  }\n\n  while (particle.length > 600) {\n    particle.splice(0, 1);\n  }\n\n  for (let i = particle.length - 1; i >= 0; i--) {\n    let p = particle[i];\n    if (p.isDone) {\n      particle.splice(i, 1);\n    }\n  }\n}\n\n\nclass Particle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = createVector(0, 0);\n    // this.r = r;\n    // this.g = g;\n    // this.b = b;\n\n    this.mass = 1;\n    this.density = 1;\n    this.dia = this.mass * this.density;\n  }\n  update() {\n    // drip!\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n  }\n  \n  applyForce(f) {\n    if (this.mass > 0) {\n      let force = f.copy();\n      force.div(this.mass);\n      this.acc.add(force);\n    }\n  }\n  \n  resist(r){\n     if (this.mass > 0) {\n      let resistance = r.copy();\n      resistance.div(this.mass);\n      this.acc.mult(resistance);\n    }\n  }\n  \n  diffuse() {\n    let diffusion = createVector(0.15, 0);\n\n    let freqX = this.pos.x * 0.3+ frameCount * 0.01;\n    let freqY = this.pos.y * 0.3 + frameCount * 0.01;\n    let angle = map(noise(freqX, freqY), 0, 1, 0, PI * 3);\n\n    // sine\n    let mag = sin(-frameCount * 0.02) * 0.05;\n\n    diffusion.rotate(angle);\n    diffusion.mult(mag);\n    this.applyForce(diffusion);\n  }\n\n  bounce() {\n    if (this.pos.y > height) {\n      this.vel.y *= -0.5; //damping\n    }\n  }\n  \n   // checkCollision(others) {\n   //  for (let i = 0; i < others.length; i++) {\n   //    let other = others[i];\n   //    if (this != other) {\n   //      let distance = this.pos.dist(other.pos);\n   //      if (distance < this.rad + other.rad) {\n   //        // collided!\n   //        this.r = (this.r + other.r)/2;\n   //        this.g = (this.g + other.g)/2;\n   //        this.b = (this.b + other.b)/2;\n   //      }\n   //    }\n   //  }\n   // }\n  \n  checkEdges() {\n    if (this.pos.y < 0) {\n      this.isDone = true;\n    }\n  }\n\n  updateByGui() {\n    this.density = objParams.density;\n  }\n  \n\n  display() {\n    //drawBlob\n    push();\n    // blendMode(MULTIPLY);\n    // if(mouseIsPressed === true){\n    // this.r = random(0, 200);\n    // this.g = random(0, 200);\n    // this.b = random(0, 200);\n    //    }\n    // fill(this.r, this.g, this.b, 40);\n    fill(225, 100, 100, 40);\n    noStroke();\n    translate(this.pos.x, this.pos.y);\n\n    // let newX, newY, freq;\n    this.dia = this.pos.y / 20 + 5;\n    circle(this.pos.x, this.pos.y, this.dia);\n\n//     freq = frameCount * 0.05;\n//     newX = cos(freq) * this.dia * 0.05;\n//     newY = sin(freq) * this.dia * 0.05;\n//     circle(newX, newY, this.dia);\n//     circle(newX, newY, this.dia * 0.9);\n//     circle(newX, newY, this.dia * 0.75);\n\n//     freq = frameCount * 0.1;\n//     newX = cos(freq) * this.dia * 0.05;\n//     newY = sin(freq) * this.dia * 0.05;\n//     circle(newX, newY, this.dia);\n//     circle(newX, newY, this.dia * 0.9);\n//     circle(newX, newY, this.dia * 0.75);\n\n//     freq = frameCount * 0.2;\n//     newX = cos(freq) * this.dia * 0.05;\n//     newY = sin(freq) * this.dia * 0.05;\n//     circle(newX, newY, this.dia);\n//     circle(newX, newY, this.dia * 0.9);\n//     circle(newX, newY, this.dia * 0.75);\n\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f80b07984465571831390a",
        "isSelectedFile": true,
        "createdAt": "2024-03-19T05:50:45.276Z",
        "updatedAt": "2024-03-19T05:50:45.276Z",
        "id": "65f80b07984465571831390a"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65f80b079844655718313909",
        "createdAt": "2024-03-19T05:50:45.276Z",
        "updatedAt": "2024-03-19T05:50:45.276Z",
        "isSelectedFile": false,
        "id": "65f80b079844655718313909"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f80b07984465571831390b",
        "createdAt": "2024-03-19T05:50:45.276Z",
        "updatedAt": "2024-03-19T05:50:45.276Z",
        "isSelectedFile": false,
        "id": "65f80b07984465571831390b"
      }
    ],
    "createdAt": "2024-03-18T09:36:07.580Z",
    "updatedAt": "2024-03-19T05:50:45.276Z",
    "id": "qAONBSg2n"
  },
  {
    "_id": "3waSumssc",
    "name": "NOC_Project A_Smoke",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65f7f02df503a1c233dc146b",
          "65f7f02df503a1c233dc146c",
          "65f7f02df503a1c233dc146d"
        ],
        "fileType": "folder",
        "_id": "65f7f02df503a1c233dc146a",
        "createdAt": "2024-03-18T09:37:03.037Z",
        "updatedAt": "2024-03-18T09:37:03.037Z",
        "isSelectedFile": false,
        "id": "65f7f02df503a1c233dc146a"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet objParams = {\n  density: 0.001,\n};\n\nlet particle = [];\nlet x0;\nlet y0;\nlet waterlevel;\n\nfunction setup() {\n  createCanvas(600, 600);\n  gui = new dat.GUI();\n  gui.add(objParams, \"density\").min(0).max(0.01).listen();\n}\n\nfunction draw() {\n  background(0, 70);\n\n  //framerate\n  let fps = frameRate();\n  fill(255);\n  noStroke();\n  text(fps, 0, 600);\n\n  //water level\n  stroke(255);\n  waterlevel = height / 6;\n  line(0, waterlevel, width, waterlevel);\n\n  //initial position\n  x0 = width / 2;\n  y0 = 0;\n\n  particle.push(new Particle(x0, y0));\n  for (let i = 0; i < particle.length; i++) {\n    let p = particle[i];\n    p.drip();\n    p.diffuse();\n    p.float();\n    p.updateByGui();\n    p.checkEdges();\n    p.display();\n  }\n\n  while (particle.length > 900) {\n    particle.splice(0, 1);\n  }\n  for (let i = particle.length - 1; i >= 0; i--) {\n    let p = particle[i];\n    if (p.isDone) {\n      particle.splice(i, 1);\n    }\n  }\n}\n\nclass Particle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(random(-0.1, 0.1), 0);\n    this.gravity = createVector(0, 1);\n    this.buoyancy = createVector(0, -0.1);\n    this.diffusion = createVector(random(-0.01, 0.01), random(-0.01, 0.01));\n    this.density = 1;\n    this.dia = 1;\n  }\n\n  drip() {\n    this.pos.add(this.gravity);\n  }\n\n  diffuse() {\n    if (this.pos.y > waterlevel) {\n      this.pos.add(this.vel);\n      this.pos.add(this.diffusion);\n    }\n  }\n\n  float() {\n    this.buoyancy.mult(this.dia * this.density);\n    if (this.pos.y > waterlevel) {\n      this.pos.add(this.buoyancy);\n    }\n  }\n\n  updateByGui() {\n    this.density = objParams.density;\n  }\n\n  checkEdges() {\n    if (this.pos.y < 0) {\n      this.isDone = true;\n    }\n  }\n\n  display() {\n    //drawBlob\n    push();\n    blendMode(ADD);\n    fill(255, 1);\n    noStroke();\n    translate(this.pos.x, this.pos.y);\n\n    let newX, newY, freq;\n    this.dia = (this.pos.y - waterlevel) / 10;\n\n    freq = frameCount * 0.05;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.06;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    freq = frameCount * 0.07;\n    newX = cos(freq) * this.dia * 0.05;\n    newY = sin(freq) * this.dia * 0.05;\n    circle(newX, newY, this.dia);\n    circle(newX, newY, this.dia * 0.9);\n    circle(newX, newY, this.dia * 0.75);\n\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f7f02df503a1c233dc146c",
        "isSelectedFile": true,
        "createdAt": "2024-03-18T09:37:03.037Z",
        "updatedAt": "2024-03-18T09:37:03.037Z",
        "id": "65f7f02df503a1c233dc146c"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65f7f02df503a1c233dc146b",
        "createdAt": "2024-03-18T09:37:03.037Z",
        "updatedAt": "2024-03-18T09:37:03.037Z",
        "isSelectedFile": false,
        "id": "65f7f02df503a1c233dc146b"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65f7f02df503a1c233dc146d",
        "createdAt": "2024-03-18T09:37:03.037Z",
        "updatedAt": "2024-03-18T09:37:03.037Z",
        "isSelectedFile": false,
        "id": "65f7f02df503a1c233dc146d"
      }
    ],
    "createdAt": "2024-03-18T07:41:34.434Z",
    "updatedAt": "2024-03-18T09:37:03.037Z",
    "id": "3waSumssc"
  },
  {
    "_id": "37zxlE15W",
    "name": "NOC_W02_Hot Rumor_Ting",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65bf42a52b286864b4680167",
          "65bf42a52b286864b4680168",
          "65bf42a52b286864b4680169"
        ],
        "fileType": "folder",
        "_id": "65bf42a52b286864b4680166",
        "createdAt": "2024-03-11T11:58:48.983Z",
        "updatedAt": "2024-03-11T11:58:48.983Z",
        "isSelectedFile": false,
        "id": "65bf42a52b286864b4680166"
      },
      {
        "name": "sketch.js",
        "content": "let fire = [];\nlet word = [];\nlet angle1;\nlet s;\nlet a;\nlet b;\nlet d;\nlet a0;\nlet b0;\n\nfunction setup() {\ncreateCanvas(450, 450);\nangle1 = -90;\n}\n\nfunction draw() {\nbackground(0);\na = random(-100, width);\nb = random(height - 300, height);\na0 = random(70, width-70);\nb0 = random(20, height/3);\n\nfire.push(new Fire(a, b));\nif(keyIsPressed && key === \"r\"){\nword.push(new Word(a0, b0));\n}\n\nfor (let j = 0; j < word.length; j++) {\nlet w = word[j];\nw.display();\nw.bounce();\n}\n\nfor (let i = 0; i < fire.length; i++) {\nlet f = fire[i];\nf.rise();\nf.reappear();\nf.checkEdges();\nf.display();\n}\n\nwhile (word.length > 20) {\nword.splice(0, 1); \n}\nfor (let j = word.length - 1; j >= 0; j--) {\nlet w = word[j];\nif (w.isDone) {\nword.splice(j, 1); \n}\n}\n  \nwhile (fire.length > 300) {\nfire.splice(0, 1); \n}\nfor (let i = fire.length - 1; i >= 0; i--) {\nlet f = fire[i];\nif (f.isDone) {\nfire.splice(i, 10); \n}\n}\n}\n\nclass Word{\nconstructor(x, y) {\nthis.pos = createVector(x, y);\nthis.vel = createVector(random(-0.5, 0.5), random(0.5, 0.5));\nthis.r = random(220, 255);\nthis.g = random(220, 255);\nthis.b = random(220, 255);\nthis.t = 90;\n}\n\nbounce(){\nthis.pos.add(this.vel.x,this.vel.y * this.pos.y/150 * (height -mouseY)/90);\n  if (this.pos.x < 70) {\n    this.vel.mult(-1, 1);\n  } else if (this.pos.x > width-70) {\n    this.vel.mult(-1, 1);\n  } \n  if (this.pos.y < 20) {\n    this.vel.mult(1, -1);\n  } else if (this.pos.y > height/2) {\n    this.vel.mult(1, -1);\n  }\n}\n\ncheckEdges() {\n  if (this.pos.x < 0 || this.pos.x > width) {\n    this.isDone = true;\n  }\n  if (this.pos.y < 0 || this.pos.y > height) {\n    this.isDone = true;\n  }\n}\n\ndisplay(){\npush();\nd = random(28, 30);\ntranslate(this.pos.x, this.pos.y);\nfill(this.r, this.g, this.b, this.t);\nstroke(this.r, this.g, this.b, this.t);\nstrokeWeight(5);\ntextAlign(CENTER);\ntextFont('Courier New', d);\ntext(\"RUMOR\", 0, 0);\npop();\n}\n}\n\n\nclass Fire {\nconstructor(x, y) {\nthis.pos = createVector(x, y);\nthis.vel = createVector(random(-0.001, 0.001), random(0.1, 1));\nthis.r = random(200, 255);\nthis.g = random(50, 100);\nthis.b = random(50, 70);\nthis.lifespan = 90;\nthis.rotSpd = this.rotSpd + random(0.01, 0.03);\nthis.isDone = false;\n}\n\nrise() {    \nthis.pos.sub(this.vel);\nlet acc = createVector(0, 0.002);\nthis.vel.add(acc);\nthis.lifespan -= 0.1;\n}\n\nreappear(){\nif (this.pos.y < 0) {\nthis.pos.y = height;\nthis.vel = createVector(random(-0.001, 0.001), random(0.02, 0.05));\nreturn this.lifespan < 0;\n}\n}\n\ncheckEdges(){\nif (this.pos.y < 0 || this.pos.y > height) {\nthis.isDone = true;\n}\n}\n\ndisplay() {\npush();\nblendMode(ADD);\ns = random(this.pos.y*(height-mouseY)/250000);\ntranslate(this.pos.x, this.pos.y);\nscale(s);\nrotate(this.rotSpd);\nnoStroke();\nfill(this.r, this.g, this.b, this.lifespan);\n//fireshape\nbeginShape();\nvertex(200,45); \nvertex(155,130); \nvertex(120,190); \nvertex(85,270); \nvertex(140,330); \nvertex(230,355); \nvertex(270,330); \nvertex(320,230); \nvertex(250,160); \nvertex(220,100); \ncurveVertex(205,60); \nendShape(CLOSE);\npop();\n}\n}\n\n\n",
        "children": [],
        "fileType": "file",
        "_id": "65bf42a52b286864b4680168",
        "isSelectedFile": true,
        "createdAt": "2024-03-11T11:58:48.983Z",
        "updatedAt": "2024-03-11T11:58:48.983Z",
        "id": "65bf42a52b286864b4680168"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65bf42a52b286864b4680167",
        "createdAt": "2024-03-11T11:58:48.983Z",
        "updatedAt": "2024-03-11T11:58:48.983Z",
        "isSelectedFile": false,
        "id": "65bf42a52b286864b4680167"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65bf42a52b286864b4680169",
        "createdAt": "2024-03-11T11:58:48.983Z",
        "updatedAt": "2024-03-11T11:58:48.983Z",
        "isSelectedFile": false,
        "id": "65bf42a52b286864b4680169"
      }
    ],
    "createdAt": "2024-02-04T07:54:14.008Z",
    "updatedAt": "2024-03-11T11:58:48.983Z",
    "id": "37zxlE15W"
  },
  {
    "_id": "OFe7Q_fxL",
    "name": "NOC_W04_Heartbeat",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65db7cf517719cd68f56ed96",
          "65db7cf517719cd68f56ed97",
          "65db7cf517719cd68f56ed98"
        ],
        "fileType": "folder",
        "_id": "65db7cf517719cd68f56ed95",
        "createdAt": "2024-03-18T17:38:26.310Z",
        "updatedAt": "2024-03-18T17:38:26.310Z",
        "isSelectedFile": false,
        "id": "65db7cf517719cd68f56ed95"
      },
      {
        "name": "sketch.js",
        "content": "let COEFFICIENT_OF_RESISTANCE = 0.02;\nlet hearts = [];\nlet h0;\n\nfunction setup() {\n  createCanvas(450, 450);\n  background(0);\n\n  h0 = new Heart(width  / 2, height / 2, 15);\n\n  for (let i = 0; i < 30; i++) {\n    let h = new Heart(random(width), random(height), random(10, 20));\n    hearts.push(h);\n  }\n}\n\nfunction draw() {\n  background(0, 30);\n\n  for (let i = 0; i < hearts.length; i++) {\n    let h = hearts[i];\n\n    // attraction\n    if (mouseIsPressed) {\n      h.attractedTo(h0);\n    }\n\n    // resistance\n    let resistance = h.vel.copy();\n    resistance.normalize();\n    resistance.mult(-1);\n    let speed = h.vel.mag();\n    let magnitude = speed * speed * COEFFICIENT_OF_RESISTANCE;\n    resistance.mult(magnitude);\n    h.applyForce(resistance);\n    h.checkCollision(hearts);\n    h.update();\n    h.bounce();\n    h.display();\n  }\n}\n\nclass Heart {\n  constructor(x, y, rad) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(random(-5, 5), random(-5, 5));\n    this.acc = createVector(0, 0);\n    this.rad = rad;\n    this.mass = rad * 0.5;\n    this.color = color(255);\n    this.elasticity = random(0.5, 1.0);\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n  }\n\n  applyForce(f) {\n    if (this.mass > 0) {\n      let force = p5.Vector.div(f, this.mass);\n      this.acc.add(force);\n    }\n  }\n\n  attractedTo(other) {\n    let force = p5.Vector.sub(other.pos, this.pos);\n    force.mult(0.1);\n    this.applyForce(force);\n  }\n\n  checkCollision(other) {\n    for (let i = 0; i < hearts.length; i++) {\n      let other = hearts[i];\n      if (this != other) {\n        let distance = this.pos.dist(other.pos);\n        if (distance < this.rad + other.rad) {\n          let force;\n          force = p5.Vector.sub(other.pos, this.pos);\n          force.normalize();\n          force.mult(-1);\n          force.mult(other.vel.mag());\n          force.mult(other.elasticity);\n          this.applyForce(force);\n\n          force = p5.Vector.sub(this.pos, other.pos);\n          force.normalize();\n          force.mult(-1);\n          force.mult(this.vel.mag());\n          force.mult(this.elasticity);\n          other.applyForce(force);\n        }\n      }\n    }\n  }\n\n  bounce() {\n    if (this.pos.x < 0) {\n      this.pos.x = 0;\n      this.vel.x = -this.vel.x;\n    } else if (this.pos.x > width) {\n      this.pos.x = width;\n      this.vel.x = -this.vel.x;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = 0;\n      this.vel.y = -this.vel.y;\n    } else if (this.pos.y > height) {\n      this.pos.y = height;\n      this.vel.y = -this.vel.y;\n    }\n  }\n\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n    noStroke();\n    let r = map(this.elasticity, 0.5, 1.0, 100, 255);\n    let g = 0;\n    let b = map(this.elasticity, 0.5, 1.0, 255, 100);\n    let t = map(this.elasticity, 0.5, 1.0, 70, 100);\n    fill(r, g, b, t);\n    // heart shape by Supriyo: https://editor.p5js.org/Supriyo/sketches/N2nRmPYL7\n    beginShape();\n    for (let a = 0; a < TWO_PI; a += 0.1) {\n      const r = this.rad / 10;\n      const x = r * 16 * pow(sin(a), 3);\n      const y =\n        -r * (13 * cos(a) - 5 * cos(2 * a) - 2 * cos(3 * a) - cos(4 * a));\n      vertex(x, y);\n    }\n    endShape();\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65db7cf517719cd68f56ed97",
        "isSelectedFile": true,
        "createdAt": "2024-03-18T17:38:26.310Z",
        "updatedAt": "2024-03-18T17:38:26.310Z",
        "id": "65db7cf517719cd68f56ed97"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65db7cf517719cd68f56ed96",
        "createdAt": "2024-03-18T17:38:26.310Z",
        "updatedAt": "2024-03-18T17:38:26.310Z",
        "isSelectedFile": false,
        "id": "65db7cf517719cd68f56ed96"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65db7cf517719cd68f56ed98",
        "createdAt": "2024-03-18T17:38:26.310Z",
        "updatedAt": "2024-03-18T17:38:26.310Z",
        "isSelectedFile": false,
        "id": "65db7cf517719cd68f56ed98"
      }
    ],
    "createdAt": "2024-02-25T17:46:29.451Z",
    "updatedAt": "2024-03-18T17:38:26.310Z",
    "id": "OFe7Q_fxL"
  },
  {
    "_id": "ECvbGLT-L",
    "name": "NOC_W05_Sea at Sunset_Ting",
    "updatedAt": "2024-03-07T05:47:19.895Z",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65e6bae2e15be304c0d68929",
          "65e6bae2e15be304c0d68928",
          "65e6bae2e15be304c0d6892a"
        ],
        "fileType": "folder",
        "_id": "65e6bae2e15be304c0d6892b",
        "isSelectedFile": false,
        "createdAt": "2024-03-07T05:47:19.895Z",
        "updatedAt": "2024-03-07T05:47:19.895Z",
        "id": "65e6bae2e15be304c0d6892b"
      },
      {
        "name": "sketch.js",
        "content": "let r;\nlet g;\nlet b;\nlet ampadj = 3;\n\nfunction setup() {\n  createCanvas(550, 450);\n}\n\nfunction draw() {\n  background(0, 10);\n  for (let i = 0; i < 40; i++) {\n    drawWave(random(-100, height + 100), random(0.01, 0.3));\n  }\n}\n\nfunction drawWave(y, freqAdj) {\n  for (let x = 0; x < width; x += 1) {\n    let freq, amp;\n\n    freq = frameCount * 0.01;\n    amp = mouseY *0.01;\n    let sinForAmp = sin(freq) * amp;\n\n    freq = frameCount * freqAdj;\n    amp = 1;\n    let sinForFreq = sin(freq) * amp;\n\n    freq = x * 0.01 + frameCount * 0.3 + sinForFreq;\n    ampadj = lerp(ampadj, 8, 0.2);\n    amp = ampadj * sinForAmp;\n    let sinValue = sin(freq) * amp;\n\n    //color\n    r = map(noise(freq), 0, 1, 100, 255);\n    g = map(noise(freq), 0, 1, 100, 150);\n    b = map(noise(freq), 0, 1, 255, 80);\n    noStroke();\n    fill(r, g, b);\n    circle(x, y + sinValue, noise(freq) * 8);\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65e6bae2e15be304c0d68928",
        "isSelectedFile": true,
        "createdAt": "2024-03-07T05:47:19.895Z",
        "updatedAt": "2024-03-07T05:47:19.895Z",
        "id": "65e6bae2e15be304c0d68928"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65e6bae2e15be304c0d68929",
        "isSelectedFile": false,
        "createdAt": "2024-03-07T05:47:19.895Z",
        "updatedAt": "2024-03-07T05:47:19.895Z",
        "id": "65e6bae2e15be304c0d68929"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65e6bae2e15be304c0d6892a",
        "isSelectedFile": false,
        "createdAt": "2024-03-07T05:47:19.895Z",
        "updatedAt": "2024-03-07T05:47:19.895Z",
        "id": "65e6bae2e15be304c0d6892a"
      }
    ],
    "createdAt": "2024-03-05T10:11:31.579Z",
    "id": "ECvbGLT-L"
  },
  {
    "_id": "czXDi3Bny",
    "name": "NOC_W05_Sea at Sunset_Ting copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65e99edc66b978298e30eda1",
          "65e99edc66b978298e30eda2",
          "65e99edc66b978298e30eda3"
        ],
        "fileType": "folder",
        "_id": "65e99edc66b978298e30eda0",
        "isSelectedFile": false,
        "createdAt": "2024-03-18T06:05:40.540Z",
        "updatedAt": "2024-03-18T06:05:40.540Z",
        "id": "65e99edc66b978298e30eda0"
      },
      {
        "name": "sketch.js",
        "content": "let r;\nlet g;\nlet b;\nlet ampadj = 3;\nlet count = 0;\n\nfunction setup() {\n  createCanvas(550, 450);\n}\n\nfunction draw() {\n  background(0, 10);\n  \n  for (let i = 0; i < 40; i++) {\n    drawWave(random(-100, height + 100), random(0.01, 0.3));\n  }\n   let fps = frameRate();\n  fill(255);\n  noStroke();\n  text(fps, 10, 400);\n}\n\nfunction drawWave(y, freqAdj) {\n  count++;\n  for (let x = 0; x < width; x += 1) {\n    let freq, amp;\n\n    freq = count * 0.01;\n    amp = mouseY *0.01;\n    let sinForAmp = sin(freq) * amp;\n\n    freq = count * freqAdj;\n    amp = 1;\n    let sinForFreq = sin(freq) * amp;\n\n    freq = x * 0.01 + count * 0.3 + sinForFreq;\n    ampadj = lerp(ampadj, 8, 0.2);\n    amp = ampadj * sinForAmp;\n    let sinValue = sin(freq) * amp;\n\n    //color\n    r = map(noise(freq), 0, 1, 100, 255);\n    g = map(noise(freq), 0, 1, 100, 150);\n    b = map(noise(freq), 0, 1, 255, 80);\n    noStroke();\n    fill(r, g, b);\n    circle(x, y + sinValue, noise(freq) * 8);\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65e99edc66b978298e30eda2",
        "isSelectedFile": true,
        "createdAt": "2024-03-18T06:05:40.540Z",
        "updatedAt": "2024-03-18T06:05:40.540Z",
        "id": "65e99edc66b978298e30eda2"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65e99edc66b978298e30eda1",
        "isSelectedFile": false,
        "createdAt": "2024-03-18T06:05:40.540Z",
        "updatedAt": "2024-03-18T06:05:40.540Z",
        "id": "65e99edc66b978298e30eda1"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65e99edc66b978298e30eda3",
        "isSelectedFile": false,
        "createdAt": "2024-03-18T06:05:40.540Z",
        "updatedAt": "2024-03-18T06:05:40.540Z",
        "id": "65e99edc66b978298e30eda3"
      }
    ],
    "createdAt": "2024-03-07T11:02:53.185Z",
    "updatedAt": "2024-03-18T06:05:40.540Z",
    "id": "czXDi3Bny"
  },
  {
    "_id": "KyPlbh8Vj",
    "name": "NOC_W06_Pudding",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65ea900612731858a8472b19",
          "65ea900612731858a8472b1a",
          "65ea900612731858a8472b1b"
        ],
        "fileType": "folder",
        "_id": "65ea900612731858a8472b18",
        "createdAt": "2024-03-11T10:28:51.201Z",
        "updatedAt": "2024-03-11T10:28:51.201Z",
        "isSelectedFile": false,
        "id": "65ea900612731858a8472b18"
      },
      {
        "name": "sketch.js",
        "content": "let balls = [];\nlet springs = [];\nlet b1,b2,b3,b4,b5,b6,b7,bb1,bb2,bb3,bb4,bb5,bb6,bb7;\n\nfunction setup() {\n  createCanvas(450, 450);\n\n  b1 = new Ball(100, 175, 10);\n  balls.push(b1);\n  b2 = new Ball(180, 125, 10);\n  balls.push(b2);\n  b3 = new Ball(270, 125, 10);\n  balls.push(b3);\n  b4 = new Ball(350, 175, 10);\n  balls.push(b4);\n  b5 = new Ball(275, 225, 10);\n  balls.push(b5);\n  b6 = new Ball(175, 225, 10);\n  balls.push(b6);\n  b7 = new Ball(225, 175, 20);\n  balls.push(b7);\n  \n  bb1 = new Ball(100, 275, 20);\n  balls.push(bb1);\n  bb2 = new Ball(180, 235, 20);\n  balls.push(bb2);\n  bb3 = new Ball(270, 235, 20);\n  balls.push(bb3);\n  bb4 = new Ball(350, 275, 20);\n  balls.push(bb4);\n  bb5 = new Ball(275, 325, 20);\n  balls.push(bb5);\n  bb6 = new Ball(175, 325, 20);\n  balls.push(bb6);\n  bb7 = new Ball(225, 275, 20);\n  balls.push(bb7);\n  \n  //top\n  springs.push(new Spring(b1, b2, 70, 0.02));\n  springs.push(new Spring(b2, b3, 70, 0.02));\n  springs.push(new Spring(b3, b4, 70, 0.02));\n  springs.push(new Spring(b4, b5, 75, 0.02));\n  springs.push(new Spring(b5, b6, 90, 0.02));\n  springs.push(new Spring(b6, b1, 75, 0.02));\n  springs.push(new Spring(b7, b1, 120, 0.03));\n  springs.push(new Spring(b7, b2, 80, 0.03));\n  springs.push(new Spring(b7, b3, 80, 0.03));\n  springs.push(new Spring(b7, b4, 120, 0.03));\n  springs.push(new Spring(b7, b5, 80, 0.03));\n  springs.push(new Spring(b7, b6, 80, 0.03));\n  \n  //bottom\n  springs.push(new Spring(bb1, bb2, 90, 0.05));\n  springs.push(new Spring(bb2, bb3, 90, 0.05));\n  springs.push(new Spring(bb3, bb4, 90, 0.05));\n  springs.push(new Spring(bb4, bb5, 100, 0.05));\n  springs.push(new Spring(bb5, bb6, 120, 0.05));\n  springs.push(new Spring(bb6, bb1, 100, 0.05));\n  springs.push(new Spring(bb7, bb1, 160, 0.05));\n  springs.push(new Spring(bb7, bb2, 100, 0.05));\n  springs.push(new Spring(bb7, bb3, 100, 0.05));\n  springs.push(new Spring(bb7, bb4, 160, 0.05));\n  springs.push(new Spring(bb7, bb5, 100, 0.05));\n  springs.push(new Spring(bb7, bb6, 100, 0.05));\n  \n  //connection\n  springs.push(new Spring(b1, bb1, 105, 0.1));\n  springs.push(new Spring(b2, bb2, 125, 0.1));\n  springs.push(new Spring(b3, bb3, 125, 0.1));\n  springs.push(new Spring(b4, bb4, 105, 0.1));\n  springs.push(new Spring(b5, bb5, 125, 0.1));\n  springs.push(new Spring(b6, bb6, 125, 0.1));\n  springs.push(new Spring(b7, bb7, 95, 0.01));\n}\n\nfunction draw() {\n  \n  background(255, 200, 150);\n  \n  stroke(153, 70, 0);\n  fill(255, 220, 150);\n  beginShape();\n  vertex(b1.pos.x, b1.pos.y);\n  vertex(bb1.pos.x, bb1.pos.y);\n  vertex(bb2.pos.x, bb2.pos.y);\n  vertex(b2.pos.x, b2.pos.y);\n  endShape(CLOSE);\n  \n  fill(255, 220, 150);\n  beginShape();\n  vertex(b2.pos.x, b2.pos.y);\n  vertex(bb2.pos.x, bb2.pos.y);\n  vertex(bb3.pos.x, bb3.pos.y);\n  vertex(b3.pos.x, b3.pos.y);\n  endShape(CLOSE);\n  \n  fill(255, 220, 150);\n  beginShape();\n  vertex(b3.pos.x, b3.pos.y);\n  vertex(bb3.pos.x, bb3.pos.y);\n  vertex(bb4.pos.x, bb4.pos.y);\n  vertex(b4.pos.x, b4.pos.y);\n  endShape(CLOSE);\n  \n  fill(255, 220, 150);\n  beginShape();\n  vertex(b4.pos.x, b4.pos.y);\n  vertex(bb4.pos.x, bb4.pos.y);\n  vertex(bb5.pos.x, bb5.pos.y);\n  vertex(b5.pos.x, b5.pos.y);\n  endShape(CLOSE);\n  \n  fill(255, 220, 150);\n  beginShape();\n  vertex(b5.pos.x, b5.pos.y);\n  vertex(bb5.pos.x, bb5.pos.y);\n  vertex(bb6.pos.x, bb6.pos.y);\n  vertex(b6.pos.x, b6.pos.y);\n  endShape(CLOSE);\n  \n  fill(255, 220, 150);\n  beginShape();\n  vertex(b6.pos.x, b6.pos.y);\n  vertex(bb6.pos.x, bb6.pos.y);\n  vertex(bb1.pos.x, bb1.pos.y);\n  vertex(b1.pos.x, b1.pos.y);\n  endShape(CLOSE);\n  \n  fill(153, 70, 0);\n  beginShape();\n  vertex(b1.pos.x, b1.pos.y);\n  vertex(b2.pos.x, b2.pos.y);\n  vertex(b3.pos.x, b3.pos.y);\n  vertex(b4.pos.x, b4.pos.y);\n  vertex(b5.pos.x, b5.pos.y);\n  vertex(b6.pos.x, b6.pos.y);\n  vertex(b1.pos.x, b1.pos.y);\n  endShape(CLOSE);\n\n  for (let s of springs) {\n    s.update();\n    s.display();\n  }\n\n  beginShape();\n  for (let b of balls) {\n    b.drag();\n    b.bounce();\n    b.update();\n  }\n  endShape(CLOSE);\n}\n\n\n\nclass Spring {\n  constructor(a, b, restLength, stiffness) {\n    this.bobA = a;\n    this.bobB = b;\n    this.len = restLength;\n    this.k = stiffness; \n  }\n  update() {\n    let vector = p5.Vector.sub(this.bobB.pos, this.bobA.pos);\n    let distance = vector.mag();\n    let stretch = distance - this.len;\n    let strength = -1 * stretch * this.k; \n    \n    let force = vector.copy();\n    force.normalize();\n    force.mult(strength);\n    this.bobB.applyForce(force);\n\n    let force1 = vector.copy();\n    force1.normalize();\n    force1.mult(strength * -1);\n    this.bobA.applyForce(force1);\n  }\n  display() {\n    noStroke();\n    line(this.bobA.pos.x, this.bobA.pos.y, this.bobB.pos.x, this.bobB.pos.y);\n  }\n}\n\nclass Ball {\n  constructor(x, y, rad) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = createVector(0, 0);\n    this.rad = rad;\n    this.mass = rad * 0.5; // MASS!\n    this.damping = 0.94;\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n\n    this.vel.mult(this.damping); \n  }\n  applyForce(f) {\n    if (this.mass > 0) {\n      let force = p5.Vector.div(f, this.mass);\n      this.acc.add(force);\n    }\n  }\n \n  bounce() {\n    // x\n    if (this.pos.x < 0) {\n      this.pos.x = 0;\n      this.vel.x = -this.vel.x;\n    } else if (this.pos.x > width) {\n      this.pos.x = width;\n      this.vel.x = -this.vel.x;\n    }\n    // y\n    if (this.pos.y < 0) {\n      this.pos.y = 0;\n      this.vel.y = -this.vel.y;\n    } else if (this.pos.y > height) {\n      this.pos.y = height;\n      this.vel.y = -this.vel.y;\n    }\n  }\n  drag() {\n    if (mouseIsPressed) {\n      let distance = dist(this.pos.x, this.pos.y, mouseX, mouseY);\n      if (distance < this.rad) {\n        // in\n        this.pos.x = mouseX;\n        this.pos.y = mouseY;\n      }\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65ea900612731858a8472b1a",
        "isSelectedFile": true,
        "createdAt": "2024-03-11T10:28:51.201Z",
        "updatedAt": "2024-03-11T10:28:51.201Z",
        "id": "65ea900612731858a8472b1a"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65ea900612731858a8472b19",
        "createdAt": "2024-03-11T10:28:51.201Z",
        "updatedAt": "2024-03-11T10:28:51.201Z",
        "isSelectedFile": false,
        "id": "65ea900612731858a8472b19"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65ea900612731858a8472b1b",
        "createdAt": "2024-03-11T10:28:51.201Z",
        "updatedAt": "2024-03-11T10:28:51.201Z",
        "isSelectedFile": false,
        "id": "65ea900612731858a8472b1b"
      }
    ],
    "createdAt": "2024-03-08T04:11:50.465Z",
    "updatedAt": "2024-03-11T10:28:51.201Z",
    "id": "KyPlbh8Vj"
  },
  {
    "_id": "l_zaf9Pjo",
    "name": "NOC_W09_5",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6613fc085bfdb140cf4ff602",
          "6613fc085bfdb140cf4ff603",
          "6613fc085bfdb140cf4ff604"
        ],
        "fileType": "folder",
        "_id": "6613fc085bfdb140cf4ff601",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T14:16:38.135Z",
        "updatedAt": "2024-04-08T14:16:38.135Z",
        "id": "6613fc085bfdb140cf4ff601"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet ui = {\n  a: 0,\n  l: 20,\n  r: 50,\n  g: 50,\n  b: 50,\n  t: 5,\n  i: 0,\n};\n\nlet angleFromMouse = 0;\n\nfunction setup() {\n  createCanvas(600, 500);\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 0, 500);\n  gui.add(ui, \"l\", 20, 200);\n  gui.add(ui, \"r\", 50, 255);\n  gui.add(ui, \"g\", 50, 255);\n  gui.add(ui, \"b\", 50, 255);\n  gui.add(ui, \"t\", 5, 15);\n  gui.add(ui, \"i\", 0, 30);\n}\n\nfunction draw() {\n  background(0);\n  angleFromMouse = floor(map(ui.a, 0, width, 0, 180));\n  translate(width/2, height/2);\n\n  noFill();\n  //stroke(255);\n  for (let i = 0; i < ui.i; i++) {\n  drawBranch(0, 0, 360/ui.i * i, ui.l);\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  line(x, y, targetX, targetY);\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angleFromMouse, len * 0.7);\n    drawBranch(targetX, targetY, deg + angleFromMouse, len * 0.7);\n  }\n  \n  //blendMode(ADD);\n  noStroke();\n  fill(ui.r, ui.g, ui.b, ui.t);\n  circle(targetX*sin(angle), targetY*sin(angle), 300/len);\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6613fc085bfdb140cf4ff603",
        "isSelectedFile": true,
        "createdAt": "2024-04-08T14:16:38.135Z",
        "updatedAt": "2024-04-08T14:16:38.135Z",
        "id": "6613fc085bfdb140cf4ff603"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n     <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "6613fc085bfdb140cf4ff602",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T14:16:38.135Z",
        "updatedAt": "2024-04-08T14:16:38.135Z",
        "id": "6613fc085bfdb140cf4ff602"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6613fc085bfdb140cf4ff604",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T14:16:38.135Z",
        "updatedAt": "2024-04-08T14:16:38.135Z",
        "id": "6613fc085bfdb140cf4ff604"
      }
    ],
    "createdAt": "2024-04-08T14:15:37.113Z",
    "updatedAt": "2024-04-08T14:16:38.135Z",
    "id": "l_zaf9Pjo"
  },
  {
    "_id": "5B7qizAQ8",
    "name": "NOC_W09_Infinity 1",
    "updatedAt": "2024-04-08T17:17:05.862Z",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "661398817f3ee11812b0a662",
          "661398817f3ee11812b0a661",
          "661398817f3ee11812b0a663"
        ],
        "fileType": "folder",
        "_id": "661398817f3ee11812b0a664",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:17:05.862Z",
        "updatedAt": "2024-04-08T17:17:05.862Z",
        "id": "661398817f3ee11812b0a664"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet ui = {\n  a: 0,\n  l: 20,\n  r: 50,\n  g: 50,\n  b: 50,\n  t: 5,\n  i: 0,\n};\n\nlet angleFromMouse = 0;\n\nfunction setup() {\n  createCanvas(600, 500);\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 0, 500);\n  gui.add(ui, \"l\", 20, 200);\n  gui.add(ui, \"r\", 50, 255);\n  gui.add(ui, \"g\", 50, 255);\n  gui.add(ui, \"b\", 50, 255);\n  gui.add(ui, \"t\", 5, 15);\n  gui.add(ui, \"i\", 0, 30);\n}\n\nfunction draw() {\n  background(0);\n  angleFromMouse = floor(map(ui.a, 0, width, 0, 180));\n  translate(width/2, height/2);\n\n  noFill();\n  //stroke(255);\n  for (let i = 0; i < ui.i; i++) {\n  drawBranch(0, 0, 360/ui.i * i, ui.l);\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  line(x, y, targetX, targetY);\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angleFromMouse, len * 0.7);\n    drawBranch(targetX, targetY, deg + angleFromMouse, len * 0.7);\n  }\n  \n  //blendMode(ADD);\n  noStroke();\n  fill(ui.r, ui.g, ui.b, ui.t);\n  circle(targetX, targetY, 300/len);\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "661398817f3ee11812b0a661",
        "isSelectedFile": true,
        "createdAt": "2024-04-08T17:17:05.862Z",
        "updatedAt": "2024-04-08T17:17:05.862Z",
        "id": "661398817f3ee11812b0a661"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n     <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "661398817f3ee11812b0a662",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:17:05.862Z",
        "updatedAt": "2024-04-08T17:17:05.862Z",
        "id": "661398817f3ee11812b0a662"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "661398817f3ee11812b0a663",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:17:05.862Z",
        "updatedAt": "2024-04-08T17:17:05.862Z",
        "id": "661398817f3ee11812b0a663"
      }
    ],
    "createdAt": "2024-04-08T07:12:08.320Z",
    "id": "5B7qizAQ8"
  },
  {
    "_id": "61BOzWiYK",
    "name": "NOC_W09_Infinity 2",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6613f92d01b311414f1ee638",
          "6613f92d01b311414f1ee639",
          "6613f92d01b311414f1ee63a"
        ],
        "fileType": "folder",
        "_id": "6613f92d01b311414f1ee637",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:17:02.997Z",
        "updatedAt": "2024-04-08T17:17:02.997Z",
        "id": "6613f92d01b311414f1ee637"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet ui = {\n  a: 0,\n  l: 20,\n  r: 50,\n  g: 50,\n  b: 50,\n  t: 5,\n  i: 0,\n};\n\nlet angleFromMouse = 0;\n\nfunction setup() {\n  createCanvas(600, 500);\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 0, 500);\n  gui.add(ui, \"l\", 20, 200);\n  gui.add(ui, \"r\", 50, 255);\n  gui.add(ui, \"g\", 50, 255);\n  gui.add(ui, \"b\", 50, 255);\n  gui.add(ui, \"t\", 5, 15);\n  gui.add(ui, \"i\", 0, 30);\n}\n\nfunction draw() {\n  background(0);\n  angleFromMouse = floor(map(ui.a, 0, width, 0, 180));\n  translate(width/2, height/2);\n\n  noFill();\n  //stroke(255);\n  for (let i = 0; i < ui.i; i++) {\n  drawBranch(0, 0, 360/ui.i * i, ui.l);\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  line(x, y, targetX, targetY);\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angleFromMouse, len * 0.7);\n    drawBranch(targetX, targetY, deg + angleFromMouse, len * 0.7);\n  }\n  \n  //blendMode(ADD);\n  noStroke();\n  fill(ui.r, ui.g, ui.b, ui.t);\n  circle(targetX*sin(angle), targetY, 300/len);\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6613f92d01b311414f1ee639",
        "isSelectedFile": true,
        "createdAt": "2024-04-08T17:17:02.997Z",
        "updatedAt": "2024-04-08T17:17:02.997Z",
        "id": "6613f92d01b311414f1ee639"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n     <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "6613f92d01b311414f1ee638",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:17:02.997Z",
        "updatedAt": "2024-04-08T17:17:02.997Z",
        "id": "6613f92d01b311414f1ee638"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6613f92d01b311414f1ee63a",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:17:02.997Z",
        "updatedAt": "2024-04-08T17:17:02.997Z",
        "id": "6613f92d01b311414f1ee63a"
      }
    ],
    "createdAt": "2024-04-08T14:03:25.780Z",
    "updatedAt": "2024-04-08T17:17:02.997Z",
    "id": "61BOzWiYK"
  },
  {
    "_id": "5fKGzmXQZ",
    "name": "NOC_W09_Infinity 3",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6613f9a401b311414f1ee63c",
          "6613f9a401b311414f1ee63d",
          "6613f9a401b311414f1ee63e"
        ],
        "fileType": "folder",
        "_id": "6613f9a401b311414f1ee63b",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:16:54.001Z",
        "updatedAt": "2024-04-08T17:16:54.001Z",
        "id": "6613f9a401b311414f1ee63b"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet ui = {\n  a: 0,\n  l: 20,\n  r: 50,\n  g: 50,\n  b: 50,\n  t: 5,\n  i: 0,\n};\n\nlet angleFromMouse = 0;\n\nfunction setup() {\n  createCanvas(600, 500);\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 0, 500);\n  gui.add(ui, \"l\", 20, 200);\n  gui.add(ui, \"r\", 50, 255);\n  gui.add(ui, \"g\", 50, 255);\n  gui.add(ui, \"b\", 50, 255);\n  gui.add(ui, \"t\", 5, 15);\n  gui.add(ui, \"i\", 0, 30);\n}\n\nfunction draw() {\n  background(0);\n  angleFromMouse = floor(map(ui.a, 0, width, 0, 180));\n  translate(width/2, height/2);\n\n  noFill();\n  //stroke(255);\n  for (let i = 0; i < ui.i; i++) {\n  drawBranch(0, 0, 360/ui.i * i, ui.l);\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  line(x, y, targetX, targetY);\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angleFromMouse, len * 0.7);\n    drawBranch(targetX, targetY, deg + angleFromMouse, len * 0.7);\n  }\n  \n  //blendMode(ADD);\n  noStroke();\n  fill(ui.r, ui.g, ui.b, ui.t);\n  circle(targetX*sin(angle), targetY*cos(angle), 300/len);\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6613f9a401b311414f1ee63d",
        "isSelectedFile": true,
        "createdAt": "2024-04-08T17:16:54.001Z",
        "updatedAt": "2024-04-08T17:16:54.001Z",
        "id": "6613f9a401b311414f1ee63d"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n     <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "6613f9a401b311414f1ee63c",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:16:54.001Z",
        "updatedAt": "2024-04-08T17:16:54.001Z",
        "id": "6613f9a401b311414f1ee63c"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6613f9a401b311414f1ee63e",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:16:54.001Z",
        "updatedAt": "2024-04-08T17:16:54.001Z",
        "id": "6613f9a401b311414f1ee63e"
      }
    ],
    "createdAt": "2024-04-08T14:05:24.886Z",
    "updatedAt": "2024-04-08T17:16:54.001Z",
    "id": "5fKGzmXQZ"
  },
  {
    "_id": "v2mKr0bD4",
    "name": "NOC_W09_Infinity 4",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6613fb5d01b311414f1ee640",
          "6613fb5d01b311414f1ee641",
          "6613fb5d01b311414f1ee642"
        ],
        "fileType": "folder",
        "_id": "6613fb5d01b311414f1ee63f",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:16:51.232Z",
        "updatedAt": "2024-04-08T17:16:51.232Z",
        "id": "6613fb5d01b311414f1ee63f"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet ui = {\n  a: 0,\n  l: 20,\n  r: 50,\n  g: 50,\n  b: 50,\n  t: 5,\n  i: 0,\n};\n\nlet angleFromMouse = 0;\n\nfunction setup() {\n  createCanvas(600, 500);\n  gui = new dat.GUI();\n  gui.add(ui, \"a\", 0, 500);\n  gui.add(ui, \"l\", 20, 200);\n  gui.add(ui, \"r\", 50, 255);\n  gui.add(ui, \"g\", 50, 255);\n  gui.add(ui, \"b\", 50, 255);\n  gui.add(ui, \"t\", 5, 15);\n  gui.add(ui, \"i\", 0, 30);\n}\n\nfunction draw() {\n  background(0);\n  angleFromMouse = floor(map(ui.a, 0, width, 0, 180));\n  translate(width/2, height/2);\n\n  noFill();\n  //stroke(255);\n  for (let i = 0; i < ui.i; i++) {\n  drawBranch(0, 0, 360/ui.i * i, ui.l);\n  }\n}\n\nfunction drawBranch(x, y, deg, len) {\n  let angle = radians(deg);\n  let targetX = x + cos(angle) * len;\n  let targetY = y + sin(angle) * len;\n  let targetX1 = x - cos(angle) * len;\n  let targetY1 = y - sin(angle) * len;\n\n  line(x, y, targetX, targetY);\n\n  if (len > 10) {\n    drawBranch(targetX, targetY, deg - angleFromMouse, len * 0.7);\n    drawBranch(targetX, targetY, deg + angleFromMouse, len * 0.7);\n  }\n  \n  //blendMode(ADD);\n  noStroke();\n  fill(ui.r, ui.g, ui.b, ui.t);\n  circle(targetX*sin(angle), targetY*sin(angle), 300/len);\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6613fb5d01b311414f1ee641",
        "isSelectedFile": true,
        "createdAt": "2024-04-08T17:16:51.232Z",
        "updatedAt": "2024-04-08T17:16:51.232Z",
        "id": "6613fb5d01b311414f1ee641"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n     <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "6613fb5d01b311414f1ee640",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:16:51.232Z",
        "updatedAt": "2024-04-08T17:16:51.232Z",
        "id": "6613fb5d01b311414f1ee640"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6613fb5d01b311414f1ee642",
        "isSelectedFile": false,
        "createdAt": "2024-04-08T17:16:51.232Z",
        "updatedAt": "2024-04-08T17:16:51.232Z",
        "id": "6613fb5d01b311414f1ee642"
      }
    ],
    "createdAt": "2024-04-08T14:12:45.789Z",
    "updatedAt": "2024-04-08T17:16:51.232Z",
    "id": "v2mKr0bD4"
  },
  {
    "_id": "r4iXUQ51M",
    "name": "NOC_W10_Penguin Hunt",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "661d18566e135b49ae346d64",
          "661d7f040241d2001cb3380a",
          "661d18566e135b49ae346d65",
          "661d18566e135b49ae346d66"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "661d18566e135b49ae346d63",
        "createdAt": "2024-08-15T09:16:33.768Z",
        "updatedAt": "2024-08-15T09:16:33.768Z",
        "id": "661d18566e135b49ae346d63"
      },
      {
        "name": "sketch.js",
        "content": "let gui;\nlet ui = {\n  i: 2,\n};\nlet DEBUG_MODE = false;\nlet img;\nlet penguins = [];\nlet fishes = [];\n\nfunction setup() {\n  createCanvas(600, 600);\n   gui = new dat.GUI();\n  gui.add(ui, \"i\", 2, 30).step(1).onChange(updatePenguins);\n  updatePenguins();\n}\n\n\nfunction updatePenguins() {\n  penguins = []; \n  for (let i = 0; i < ui.i; i++) {\n    penguins.push(new Penguin(random(width), random(height), random(5, 10)));\n  }\n}\n\nfunction draw() {\n  background(100,150,220);\n\n  for (let i = 0; i < penguins.length; i++) {\n    let p = penguins[i];\n\n    let target = createVector(mouseX, mouseY);\n    p.seek(target);\n\n    p.detect(penguins);\n    p.update();\n    p.reappear();\n    p.display();\n  }\n  \n  \n  for (let i = 0; i < 2; i++) {\n    let f = new Fish(mouseX, mouseY, 10)\n    fishes.push(f);\n  }\n\n  // update and display\n  for (let f of fishes) {\n  f.detect();\n  f.update();\n  f.checkMouse();\n  f.updateLifespan();\n  f.display();\n\n    if (f.isDone) f.removeFrom(fishes);\n  }\n\n\n  while (fishes.length > 100) {\n    let index = 0;\n    fishes.splice(index, 1);\n  }\n}\n\nfunction mousePressed() {\n  DEBUG_MODE = !DEBUG_MODE;\n}\n\n\n\n///// CLASS /////\n\nclass Penguin {\n  constructor(x = 0, y = 0, size = 1) {\n    this.pos = createVector(x, y);\n    this.vel = p5.Vector.random2D().mult(3);\n    this.acc = createVector(0, 0);\n    this.size = size;\n    this.mass = 1;\n    //\n    this.angle = 0;\n    //\n    this.maxSpeed = 5;\n    this.maxSteerForce = 0.1;\n    // for detection\n    this.detectVector = createVector();\n    this.directionVector = createVector();\n    this.predictDistance = 30;\n    this.detectRadius = 50;\n    this.wanderAngle = random(TWO_PI);\n    this.img = loadImage(\"pngwing.com.png\");\n  }\n  detect(others) {\n    for (let other of others) {\n      if (this != other) {\n        this.detectVector = p5.Vector.mult(\n          this.vel.copy().normalize(),\n          this.predictDistance\n        );\n        let centerPos = p5.Vector.add(this.pos, this.detectVector);\n\n        let distance = centerPos.dist(other.pos);\n        if (distance < this.detectRadius) {\n          this.directionVector = p5.Vector.sub(other.pos, centerPos);\n          this.directionVector.setMag(this.detectRadius);\n          this.directionVector.mult(-1); // flip the vector to avoid\n\n          let directionPos = p5.Vector.add(centerPos, this.directionVector);\n          this.seek(directionPos);\n        }\n      }\n    }\n  }\n  seek(targetPos) {\n    let desiredVec = p5.Vector.sub(targetPos, this.pos);\n\n    let distance = desiredVec.mag();\n    desiredVec.normalize();\n    desiredVec.mult(this.maxSpeed);\n\n    let steerForce = p5.Vector.sub(desiredVec, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n  reappear() {\n    if (this.pos.x < 0) {\n      this.pos.x = width;\n    } else if (this.pos.x > width) {\n      this.pos.x = 0;\n    }\n    if (this.pos.y < 0) {\n      this.pos.y = height;\n    } else if (this.pos.y > height) {\n      this.pos.y = 0;\n    }\n  }\n  applyForce(f) {\n    if (this.mass > 0) {\n      let force = p5.Vector.div(f, this.mass);\n      this.acc.add(force);\n    }\n  }\n  \n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n    this.angle = this.vel.heading();\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n\n    push(); // push for rotation\n    rotate(this.angle);\n    // draw the vehicle\n    stroke(255);\n    fill(255, 150);\n    image(this.img, 0, 0, this.size*8, this.size *4);\n    pop(); // pop for rotation\n\n//     if (DEBUG_MODE) {\n//       // draw detecting graphics\n//       noFill();\n//       stroke(255, 0, 0);\n//       line(0, 0, this.detectVector.x, this.detectVector.y);\n\n//       translate(this.detectVector.x, this.detectVector.y);\n//       ellipse(0, 0, this.detectRadius * 2, this.detectRadius * 2);\n\n//       stroke(0, 255, 0);\n//       line(0, 0, this.directionVector.x, this.directionVector.y);\n//     }\n\n    pop();\n  }\n}\n\n\nclass Fish {\n  constructor(x = 0, y = 0, size = 1) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = createVector(0, 0);\n    this.size = size;\n    this.mass = 1;\n    //\n    this.angle = 0;\n    //\n    this.maxSpeed = 5;\n    this.maxSteerForce = 0.1;\n    // for detection\n    this.detectVector = createVector();\n    this.directionVector = createVector();\n    this.predictDistance = 30;\n    this.detectRadius = 50;\n    this.wanderAngle = random(TWO_PI);\n    //lifespan\n    this.lifespan = 1.0; // 100%;\n    this.lifeReduction = random(0.005, 0.012);\n    this.isDone = false;\n\n    return this;\n  }\n  detect() {\n    this.detectVector = p5.Vector.mult(\n      this.vel.copy().normalize(),\n      this.predictDistance\n    );\n    let centerPos = p5.Vector.add(this.pos, this.detectVector);\n\n    this.wanderAngle += random(-0.2, 0.2);\n\n    this.directionVector = p5.Vector.fromAngle(this.wanderAngle);\n    this.directionVector.setMag(this.detectRadius);\n\n    let directionPos = p5.Vector.add(centerPos, this.directionVector);\n    this.seek(directionPos);\n  }\n  seek(targetPos) {\n    let desiredVec = p5.Vector.sub(targetPos, this.pos);\n\n    let distance = desiredVec.mag();\n    desiredVec.normalize();\n    desiredVec.mult(this.maxSpeed);\n\n    let steerForce = p5.Vector.sub(desiredVec, this.vel);\n    steerForce.limit(this.maxSteerForce);\n\n    this.applyForce(steerForce);\n  }\n\n  applyForce(f) {\n    if (this.mass > 0) {\n      let force = p5.Vector.div(f, this.mass);\n      this.acc.add(force);\n    }\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n    //\n    this.angle = this.vel.heading();\n  }\n  checkMouse() {\n    let distance = dist(this.detectVector.x, this.detectVector.y, mouseX, mouseY);\n    if (distance < this.detectRadius) {\n      this.isDone = true;\n    }\n  }\n  updateLifespan() {\n    if (this.lifespan > 0) {\n      this.lifespan -= this.lifeReduction;\n    } else {\n      this.lifespan = 0;\n      this.isDone = true;\n    }\n  }\n  removeFrom(array) {\n    if (this.isDone) {\n      let index = array.indexOf(this);\n      if (index > -1) {\n        array.splice(index, 1);\n      }\n    }\n  }\n  display() {\n    push();\n    translate(this.pos.x, this.pos.y);\n\n    push(); // push for rotation\n    rotate(this.angle);\n    // draw the vehicle\n    stroke(255);\n    fill(255, 150);\n    triangle(0, 0, -this.size, -this.size * 0.4, -this.size, this.size * 0.4);\n    pop(); // pop for rotation\n\n//  if (DEBUG_MODE) {\n//       // draw detecting graphics\n//       noFill();\n//       stroke(255, 0, 0);\n//       line(0, 0, this.detectVector.x, this.detectVector.y);\n\n//       translate(this.detectVector.x, this.detectVector.y);\n//       ellipse(0, 0, this.detectRadius * 2, this.detectRadius * 2);\n\n//       stroke(0, 255, 0);\n//       line(0, 0, this.directionVector.x, this.directionVector.y);\n//     }\n\n    pop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "661d18566e135b49ae346d65",
        "createdAt": "2024-08-15T09:16:33.768Z",
        "updatedAt": "2024-08-15T09:16:33.768Z",
        "id": "661d18566e135b49ae346d65"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n        <script src=\"https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "661d18566e135b49ae346d64",
        "createdAt": "2024-08-15T09:16:33.768Z",
        "updatedAt": "2024-08-15T09:16:33.768Z",
        "id": "661d18566e135b49ae346d64"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "661d18566e135b49ae346d66",
        "createdAt": "2024-08-15T09:16:33.768Z",
        "updatedAt": "2024-08-15T09:16:33.768Z",
        "id": "661d18566e135b49ae346d66"
      },
      {
        "name": "pngwing.com.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/6dfd00d8-8904-4c64-9b3a-9b77e014774f.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "661d7f040241d2001cb3380a",
        "createdAt": "2024-08-15T09:16:33.768Z",
        "updatedAt": "2024-08-15T09:16:33.768Z",
        "id": "661d7f040241d2001cb3380a"
      }
    ],
    "createdAt": "2024-04-15T12:06:46.658Z",
    "updatedAt": "2024-08-15T09:16:33.768Z",
    "id": "r4iXUQ51M"
  },
  {
    "_id": "ISbmE4Odf",
    "name": "Notes and Numbers Random Play copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66fda5effcea0b04ff02ebe2",
          "66fda5effcea0b04ff02ebe3",
          "66fda5effcea0b04ff02ebe4",
          "66fda5effcea0b04ff02ebe5",
          "66fda5effcea0b04ff02ebe6",
          "66fda5effcea0b04ff02ebe7",
          "66fda5effcea0b04ff02ebe8",
          "66fda5effcea0b04ff02ebe9",
          "66fda5effcea0b04ff02ebea",
          "66fda5effcea0b04ff02ebeb",
          "66fda5effcea0b04ff02ebec",
          "66fda5effcea0b04ff02ebed",
          "66fda5effcea0b04ff02ebee",
          "66fda5effcea0b04ff02ebef",
          "66fda5effcea0b04ff02ebf0",
          "66fda5effcea0b04ff02ebf1",
          "66fda5effcea0b04ff02ebf2",
          "66fda5effcea0b04ff02ebf3",
          "66fda5effcea0b04ff02ebf4",
          "66fda5effcea0b04ff02ebf5",
          "66fda5effcea0b04ff02ebf6",
          "66fda5effcea0b04ff02ebf7",
          "66fda5effcea0b04ff02ebf8"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebe1",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebe1"
      },
      {
        "name": "sketch.js",
        "content": "let numbers = [];\nlet notes = [];\nfunction preload() {\n  for (let i = 0; i < 10; i++) {\n    numbers[i] = loadSound(\"voice\" + String(i) + \".mp3\");\n  }\n  console.log(numbers);\n  for (let i = 0; i < 10; i++) {\n    notes[i] = loadSound(\"organ\" + String(i) + \".wav\");\n  }\n  console.log(notes);\n}\nfunction setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n}\nfunction mousePressed() {\n  random(numbers).play();\n}\nfunction keyPressed() {\n  random(notes).play();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66fda5effcea0b04ff02ebed",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebed"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebe2",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebe2"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebee",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebee"
      },
      {
        "name": "organ3.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/ced1e657-8e2a-468e-aeec-decec2e23e1b.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebe6",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebe6"
      },
      {
        "name": "organ0.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/bc1bd05d-8218-4aa1-ab0a-c167e8daf6db.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebe3",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebe3"
      },
      {
        "name": "organ1.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/c571fe5d-27e2-4c5f-b22e-16adca1eef6b.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebe4",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebe4"
      },
      {
        "name": "organ2.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/ef6fc5e3-9acd-4585-a156-0fd8f2663abf.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebe5",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebe5"
      },
      {
        "name": "organ4.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/54504ec8-6ef7-4b20-824b-1de1a9cd7b70.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebe7",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebe7"
      },
      {
        "name": "organ7.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/4ed45c06-6418-4089-9b09-396900c9ac02.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebea",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebea"
      },
      {
        "name": "organ8.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/66b24f71-794a-4264-9767-29e9f21cc008.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebeb",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebeb"
      },
      {
        "name": "organ9.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/37641d77-1631-40f3-8757-973af89e2871.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebec",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebec"
      },
      {
        "name": "organ5.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/12a02ec9-43ed-44bf-a1d2-5cbfbb918385.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda5effcea0b04ff02ebe8",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebe8"
      },
      {
        "name": "voice7.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/60e290fe-a7ee-4c1f-9191-0581b9de7bbb.mp3",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebf6",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebf6"
      },
      {
        "name": "voice2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/32ba74f2-9907-4484-85ab-86b7113c502b.mp3",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebf1",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebf1"
      },
      {
        "name": "voice0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/4c40de9c-bce5-49d3-89e9-ddd788ec7b32.mp3",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebef",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebef"
      },
      {
        "name": "voice3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/dc7e6aeb-536f-4543-b983-38b74c97898f.mp3",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebf2",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebf2"
      },
      {
        "name": "voice1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/bcb05779-c5b7-4cfd-9f59-e39af1b26745.mp3",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebf0",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebf0"
      },
      {
        "name": "voice4.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/af661b42-2f04-4d96-8a8a-7d12c97438ad.mp3",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebf3",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebf3"
      },
      {
        "name": "voice6.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/d59d9aef-eb98-48bd-885d-3c5730686c49.mp3",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebf5",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebf5"
      },
      {
        "name": "voice5.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/f6124c06-fe96-417e-92c6-0181e465ec09.mp3",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebf4",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebf4"
      },
      {
        "name": "voice8.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/7dff6c16-cbb7-4433-8274-cb0d547ab8c1.mp3",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebf7",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebf7"
      },
      {
        "name": "voice9.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/a226533f-50f9-44a3-a463-f0e7a779eb3d.mp3",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebf8",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebf8"
      },
      {
        "name": "organ6.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/65b0cf8a7d8185001a7b9254/5c56ff1d-8b1a-458d-a05f-8656a32583c9.wav",
        "children": [],
        "fileType": "file",
        "_id": "66fda5effcea0b04ff02ebe9",
        "createdAt": "2024-10-02T19:58:44.961Z",
        "updatedAt": "2024-10-02T19:58:44.961Z",
        "id": "66fda5effcea0b04ff02ebe9"
      }
    ],
    "createdAt": "2024-10-02T19:58:40.589Z",
    "updatedAt": "2024-10-02T19:58:44.961Z",
    "id": "ISbmE4Odf"
  },
  {
    "_id": "wfQiT6fmF",
    "name": "Oscillator",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66fda4f1cf5d5320ff671253",
          "66fda4f1cf5d5320ff671252",
          "66fda4f1cf5d5320ff671254"
        ],
        "fileType": "folder",
        "_id": "66fda4f1cf5d5320ff671255",
        "createdAt": "2024-10-02T20:06:21.456Z",
        "updatedAt": "2024-10-02T20:06:21.456Z",
        "id": "66fda4f1cf5d5320ff671255"
      },
      {
        "name": "sketch.js",
        "content": "let sineOsc;\nlet sqOsc;\n\nfunction setup() {\n  createCanvas(400, 400);\n  sineOsc = new p5.Oscillator(\"sine\");\n  sqOsc = new p5.Oscillator(\"sine\");\n}\n\nfunction draw() {\n  background(220);\n}\n\nfunction mousePressed(){\n  sineOsc.start();\n  let freq = map(mouseX, 0, width, 150, 650);\n  sineOsc.freq(freq);\n}\n\nfunction mouseReleased(){\n  sineOsc.stop();\n}\n\nfunction keyPressed(){\n  sqOsc.start();\n  let freq = map(mouseY, 0, height, 650, 100);\n  sqOsc.freq(freq);\n}\n\nfunction keyReleased(){\n  sqOsc.stop();\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66fda4f1cf5d5320ff671252",
        "createdAt": "2024-10-02T20:06:21.456Z",
        "updatedAt": "2024-10-02T20:06:21.456Z",
        "id": "66fda4f1cf5d5320ff671252"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "66fda4f1cf5d5320ff671253",
        "createdAt": "2024-10-02T20:06:21.456Z",
        "updatedAt": "2024-10-02T20:06:21.456Z",
        "id": "66fda4f1cf5d5320ff671253"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "66fda4f1cf5d5320ff671254",
        "createdAt": "2024-10-02T20:06:21.456Z",
        "updatedAt": "2024-10-02T20:06:21.456Z",
        "id": "66fda4f1cf5d5320ff671254"
      }
    ],
    "updatedAt": "2024-10-02T20:06:21.456Z",
    "createdAt": "2024-10-02T20:02:49.133Z",
    "id": "wfQiT6fmF"
  },
  {
    "_id": "LfIkGYulz",
    "name": "PolySynth Piano copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66fda84a226f886d99dcc166",
          "66fda84a226f886d99dcc167",
          "66fda84a226f886d99dcc168"
        ],
        "fileType": "folder",
        "_id": "66fda84a226f886d99dcc165",
        "createdAt": "2024-10-02T20:08:45.541Z",
        "updatedAt": "2024-10-02T20:08:45.541Z",
        "id": "66fda84a226f886d99dcc165"
      },
      {
        "name": "sketch.js",
        "content": "let syn = new p5.PolySynth();\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n}\n\nfunction draw() {\n  background(220);\n  //first note\n  rect(0, 0, width / 4, height);\n  //second note\n  rect(width / 4, 0, width / 4, height);\n  //third note\n  rect(width / 2, 0, width / 4, height);\n  //fourth note\n  rect((width / 4) * 3, 0, width / 4, height);\n}\n\nfunction mousePressed() {\n  //check which rectangle the mouse is on\n  if (mouseX < width / 4) {\n    syn.play(\"C4\", 1, 0, 2); //play C4 at velocity 1, wait 0 second, and sustain for 2 seconds\n  } else if (mouseX < width / 2) {\n    syn.play(\"D4\", 1, 0, 2);\n  } else if (mouseX < (width / 4) * 3) {\n    syn.play(\"E4\", 1, 0, 2);\n  } else {\n    syn.play(\"F4\", 1, 0, 2);\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66fda84a226f886d99dcc167",
        "createdAt": "2024-10-02T20:08:45.541Z",
        "updatedAt": "2024-10-02T20:08:45.541Z",
        "id": "66fda84a226f886d99dcc167"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "66fda84a226f886d99dcc166",
        "createdAt": "2024-10-02T20:08:45.541Z",
        "updatedAt": "2024-10-02T20:08:45.541Z",
        "id": "66fda84a226f886d99dcc166"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "66fda84a226f886d99dcc168",
        "createdAt": "2024-10-02T20:08:45.541Z",
        "updatedAt": "2024-10-02T20:08:45.541Z",
        "id": "66fda84a226f886d99dcc168"
      }
    ],
    "createdAt": "2024-10-02T20:08:42.856Z",
    "updatedAt": "2024-10-02T20:08:45.541Z",
    "id": "LfIkGYulz"
  },
  {
    "_id": "rbFtAs1qK",
    "name": "RTM Midterm Project 1",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6706edeec571d6667d46106f",
          "6706edeec571d6667d46106e",
          "6706edeec571d6667d461070"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6706edeec571d6667d461071",
        "createdAt": "2024-10-09T21:02:59.414Z",
        "updatedAt": "2024-10-09T21:02:59.414Z",
        "id": "6706edeec571d6667d461071"
      },
      {
        "name": "sketch.js",
        "content": "let trebleClef, bassClef;\nlet letters = 'abcdefghijklmnopqrstuvwxyz';\nlet notes = ['C4', 'D4', 'E4', 'F4', 'G4', 'A4', 'B4', 'C5', 'D5', 'E5', 'F5', 'G5', 'A5', 'B5', \n             'C3', 'D3', 'E3', 'F3', 'G3', 'A3', 'B3', 'C2', 'D2', 'E2', 'F2', 'G2'];\nlet synth;\n\nfunction setup() {\n  createCanvas(800, 400);\n  synth = new p5.PolySynth();\n\n  textSize(32);\n  trebleClef = loadImage('https://upload.wikimedia.org/wikipedia/commons/6/6a/Gclef.svg');\n  bassClef = loadImage('https://upload.wikimedia.org/wikipedia/commons/9/9b/Fclef.svg');\n}\n\nfunction draw() {\n  background(255);\n\n  // Draw treble staff (upper 5 lines)\n  drawStaff(100);\n  image(trebleClef, 30, 80, 60, 150);\n\n  // Draw bass staff (lower 5 lines)\n  drawStaff(250);\n  image(bassClef, 30, 230, 60, 150);\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\nfunction keyPressed() {\n  let index = letters.indexOf(key.toLowerCase());\n  if (index !== -1) {\n    let note = notes[index];\n    let yPosition = mapNoteToY(index);\n\n    // Draw the letter on the staff\n    fill(0);\n    text(key.toUpperCase(), 150 + index * 20, yPosition);\n\n    // Play the corresponding note\n    synth.play(note, 0.5, 0, 0.5);\n  }\n}\n\nfunction mapNoteToY(index) {\n  if (index < 14) { // Treble clef notes (C4 - B5)\n    return map(index, 0, 13, 160, 100); // Adjust Y for treble clef range\n  } else { // Bass clef notes (C2 - B3)\n    return map(index, 14, 25, 310, 250); // Adjust Y for bass clef range\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6706edeec571d6667d46106e",
        "createdAt": "2024-10-09T21:02:59.414Z",
        "updatedAt": "2024-10-09T21:02:59.414Z",
        "id": "6706edeec571d6667d46106e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6706edeec571d6667d46106f",
        "createdAt": "2024-10-09T21:02:59.414Z",
        "updatedAt": "2024-10-09T21:02:59.414Z",
        "id": "6706edeec571d6667d46106f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6706edeec571d6667d461070",
        "createdAt": "2024-10-09T21:02:59.414Z",
        "updatedAt": "2024-10-09T21:02:59.414Z",
        "id": "6706edeec571d6667d461070"
      }
    ],
    "updatedAt": "2024-10-09T21:02:59.414Z",
    "createdAt": "2024-10-09T21:02:44.169Z",
    "id": "rbFtAs1qK"
  },
  {
    "_id": "hlqJlgRrN",
    "name": "RTM Midterm Project 10_!Speedup",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6711d230be7f5022304f1c5e",
          "6711d230be7f5022304f1c5f",
          "6711d230be7f5022304f1c60"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6711d230be7f5022304f1c5d",
        "createdAt": "2024-10-25T04:46:34.333Z",
        "updatedAt": "2024-10-25T04:46:34.333Z",
        "id": "6711d230be7f5022304f1c5d"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nlet lowNotes = ['B2', 'A#2', 'E1', 'A2', 'B1', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#1', 'D1', 'G2', 'F#2', \n                'C2', 'G#1', 'F#1', 'C#2', 'D2', 'E2', 'C1', 'G#2', 'A#0', 'D#1', 'A1', 'B0'];\nlet highNotes = ['D4', 'D#3', 'B3', 'A#3', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'A4', 'G#3', 'G4', 'C#3', 'A3', \n                 'D3', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'C#5', 'B4', 'C5', 'A#4', 'D#4', 'C3'];\n\nlet specialCharacters = { '!': 'D4', '?': 'E4', '/': 'C4' , '.':'F4'};\nlet synth = new p5.PolySynth();\nlet displayedLetters = [];\nlet currentX = 100;  // 当前字母的X位置\nlet currentStaffGroup = 0;  // 当前五线谱组索引\n\nlet midiAccess;  // MIDI 访问对象\nlet output;      // MIDI 输出对象\n\nlet currentNoteIndex = 0; // 添加一个索引来跟踪当前音符\n\nfunction setup() {\n  createCanvas(800, 1400);  // 修改画布大小为800x1400，保持9:16比例\n  textSize(32);\n  textAlign(CENTER, CENTER);\n\n  // 请求 MIDI 访问\n  if (navigator.requestMIDIAccess) {\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n  } else {\n    console.log(\"Web MIDI API not supported.\");\n  }\n}\n\nfunction onMIDISuccess(midi) {\n  midiAccess = midi;\n  const outputs = midiAccess.outputs;\n  output = outputs.values().next().value;  // 获取第一个输出设备\n  console.log(\"MIDI output device:\", output);\n}\n\nfunction onMIDIFailure() {\n  console.log(\"Failed to access MIDI devices.\");\n}\n\nfunction draw() {\n  background(255);\n  \n  // 绘制所有五线谱组\n  for (let i = 0; i < 4; i++) {  // 修改为绘制4组五线谱，每组4行\n    let yBase = 100 + i * 320;  // 每组之间的间距\n    drawStaffGroup(yBase);\n  }\n  \n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x, letterData.y);  // 保留大小写字母\n  }\n}\n\nfunction drawStaffGroup(yBase) {\n  // 高音谱表\n  drawStaff(yBase);\n  textSize(130);\n  text('𝄞', 50, yBase + 35);\n\n  // 低音谱表\n  drawStaff(yBase + 140);\n  textSize(90);\n  text('𝄢', 55, yBase + 185);\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\nfunction mapNoteToY(note, staffGroup) {\n  let noteToY = {\n    'A#0': 375, 'B0': 370, 'C1': 360, 'C#1': 355, 'D1': 350, 'D#1': 345, 'E1': 340,\n    'F1': 330, 'F#1': 325, 'G1': 320, 'G#1': 315, 'A1': 310, 'A#1': 305, 'B2': 300,\n    'C2': 290, 'C#2': 285, 'D2': 280, 'D#2': 275, 'E2': 270, 'F2': 260, 'F#2': 255, 'G2': 250,\n    'G#2': 245, 'A2': 240, 'A#2': 235, 'B2': 230,\n\n    // 高音谱表映射\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180, 'F3': 170, 'F#3': 165, 'G3': 160, \n    'G#3': 155, 'A3': 150, 'A#3': 145, 'B3': 140, 'C4': 130, 'C#4': 125, 'D4': 120, 'D#4': 115, \n    'E4': 110, 'F4': 100, 'F#4': 95, 'G4': 90, 'G#4': 85, 'A4': 80, 'A#4': 75, 'B4': 70, 'C5': 60, \n    'C#5': 55\n  };\n  \n  // 基于当前五线谱组的位置进行偏移\n  return (noteToY[note] || 220) + staffGroup * 320;  // 每组的偏移调整为320\n}\n\nfunction keyPressed() {\n  // 检测是否按下空格键\n  if (keyCode === 32) {  // 空格键\n    currentNoteIndex = 0;  // 重置索引以便从头播放\n    playNotesInOrder();\n    return;  // 不继续处理其他按键\n  }\n\n  // 检测是否按下 Delete 或 Backspace 键\n  if (keyCode === DELETE || keyCode === BACKSPACE) {\n    if (displayedLetters.length > 0) {\n      // 移除最后一个输入的字母\n      displayedLetters.pop();\n      \n      currentX -= 20;\n      if (currentX < 100) {\n        currentX = 700;  // 返回上一行的末尾\n        currentStaffGroup--;  // 切换回上一组五线谱\n        if (currentStaffGroup < 0) currentStaffGroup = 3;  // 如果超出范围则回到最后一组\n      }\n    }\n    return;  // 不继续处理其他按键\n  }\n\n  let index = letters.indexOf(key);\n\n  // 处理特殊符号 \"/\"\n  if (key === '/') {\n    handleSpecialCharacter('/', 'C4', 2);\n    return; // 不继续处理其他按键\n  }\n\n  // 处理特殊符号 \"!\"\n  if (key === '!') {\n    handleSpecialCharacter('!', 'D4', 3);\n    return;\n  }\n\n  // 处理特殊符号 \"?\"\n  if (key === '?') {\n    handleSpecialCharacter('?', 'E4', 4);\n    return;\n  }\n  \n  // 处理特殊符号 \".\"\n  if (key === '.') {\n    handleSpecialCharacter('.', 'F4', 5);  // F4 对应 channel 5\n    return; // 不继续处理其他按键\n  }\n\n  // 处理普通字母\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n      sendMidiNote(noteOut, 127, 0);  // 小写字母发送到通道1\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n      sendMidiNote(noteOut, 127, 1);  // 大写字母发送到通道2\n    }\n\n    // 计算当前字母的 Y 位置和五线谱组\n    let yPosition = mapNoteToY(noteOut, currentStaffGroup);\n\n    // 将字母推入数组，记录字母的 X 和 Y 位置\n    displayedLetters.push({\n      letter: key,\n      x: currentX,\n      y: yPosition\n    });\n\n    // 播放音符\n    synth.play(noteOut, 0.5, 0, 0.5);\n\n    // 更新 X 位置\n    currentX += 20;\n\n    // 如果 X 位置超过画布宽度，换到下一行\n    if (currentX > 700) {\n      currentX = 100;\n      currentStaffGroup++;  // 切换到下一组五线谱\n      if (currentStaffGroup > 3) currentStaffGroup = 0;  // 如果超出范围则回到第一组\n    }\n  }\n}\n\nfunction handleSpecialCharacter(char, noteOut, channel) {\n  let yPosition;\n\n  // 获取前一个字符的 y 位置\n  if (displayedLetters.length > 0) {\n    yPosition = displayedLetters[displayedLetters.length - 1].y;  // 使用前一个字符的 y 位置\n  } else {\n    yPosition = mapNoteToY(noteOut, currentStaffGroup);  // 如果没有前一个字符，使用默认的映射\n  }\n\n  // 将符号推入数组，记录符号的 X 和 Y 位置\n  displayedLetters.push({\n    letter: char,\n    x: currentX,\n    y: yPosition\n  });\n\n  // 根据符号设置 MIDI 通道\n  if (char === '/') {\n    channel = 2;  // 对应 channel 2\n  } else if (char === '!') {\n    channel = 3;  // 对应 channel 3\n  } else if (char === '?') {\n    channel = 4;  // 对应 channel 4\n  } else if (char === '.') {\n    channel = 5;  // 对应 channel 5\n  }\n\n  // 播放音符\n  synth.play(noteOut, 0.5, 0, 0.5);\n  sendMidiNote(noteOut, 127, channel);  // 发送 MIDI 信号到指定通道\n\n  // 更新 X 位置\n  currentX += 20;\n\n  // 如果 X 位置超过画布宽度，换到下一行\n  if (currentX > 700) {\n    currentX = 100;\n    currentStaffGroup++;  // 切换到下一组五线谱\n    if (currentStaffGroup > 3) currentStaffGroup = 0;  // 如果超出范围则回到第一组\n  }\n}\n\n\n\nfunction sendMidiNote(note, velocity, channel) {\n  if (output) {\n    let noteNumber = midiNoteNumber(note);\n    let message = [0x90 + channel, noteNumber, velocity];\n    output.send(message);  // 发送 MIDI 消息\n    console.log(`Sent MIDI note: ${note}, Velocity: ${velocity}, Channel: ${channel}`);\n  }\n}\n\nfunction midiNoteNumber(note) {\n  const noteMap = {\n   'A#0':22,'B0':23, 'C1': 24, 'C#1': 25, 'D1': 26, 'D#1': 27, 'E1': 28, 'F1': 29, 'F#1': 30, 'G1': 31, 'G#1': 32, 'A1': 33,\n    'A#1': 34, 'B1': 35, 'C2': 36, 'C#2': 37, 'D2': 38, 'D#2': 39, 'E2': 40, 'F2': 41, 'F#2': 42, 'G2': 43,\n    'G#2': 44, 'A2': 45, 'A#2': 46, 'B2': 47, 'C3': 48, 'C#3': 49, 'D3': 50, 'D#3': 51, 'E3': 52, 'F3': 53,\n    'F#3': 54, 'G3': 55, 'G#3': 56, 'A3': 57, 'A#3': 58, 'B3': 59, 'C4': 60, 'C#4': 61, 'D4': 62, 'D#4': 63,\n    'E4': 64, 'F4': 65, 'F#4': 66, 'G4': 67, 'G#4': 68, 'A4': 69, 'A#4': 70, 'B4': 71, 'C5': 72, 'C#5': 73\n  };\n  return noteMap[note] || 60;  // 如果找不到音符，返回 C4 (MIDI 60)\n}\n\nfunction playNotesInOrder() {\n  if (currentNoteIndex < displayedLetters.length) {\n    let letterData = displayedLetters[currentNoteIndex];\n    let noteOut;\n    let channel = 0; // 默认通道为 0\n\n    // 根据字母或符号找到对应的音符和通道\n    if (letters.includes(letterData.letter)) {\n      let index = letters.indexOf(letterData.letter);\n      if (letterData.letter === letterData.letter.toLowerCase()) {\n        noteOut = highNotes[index % highNotes.length];\n        channel = 0;  // 小写字母通道 0\n      } else {\n        noteOut = lowNotes[index % lowNotes.length];\n        channel = 1;  // 大写字母通道 1\n      }\n    } else if (specialCharacters[letterData.letter]) {\n      noteOut = specialCharacters[letterData.letter];\n\n      // 根据符号类型设定对应的通道\n      if (letterData.letter === '/') {\n        channel = 2;  // / 对应 channel 2\n      } else if (letterData.letter === '!') {\n        channel = 3;  // ! 对应 channel 3\n      } else if (letterData.letter === '?') {\n        channel = 4;  // ? 对应 channel 4\n      } else if (letterData.letter === '.') {\n        channel = 5;  // . 对应 channel 5\n      }\n    }\n\n    // 播放对应的音符\n    synth.play(noteOut, 0.5, 0, 0.5);\n    sendMidiNote(noteOut, 127, channel);  // 发送 MIDI 信号\n\n    currentNoteIndex++; // 增加索引\n    setTimeout(playNotesInOrder, 300);  // 设置定时器，等待 300ms 后播放下一个音符\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6711d230be7f5022304f1c5f",
        "createdAt": "2024-10-25T04:46:34.333Z",
        "updatedAt": "2024-10-25T04:46:34.333Z",
        "id": "6711d230be7f5022304f1c5f"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6711d230be7f5022304f1c5e",
        "createdAt": "2024-10-25T04:46:34.333Z",
        "updatedAt": "2024-10-25T04:46:34.333Z",
        "id": "6711d230be7f5022304f1c5e"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6711d230be7f5022304f1c60",
        "createdAt": "2024-10-25T04:46:34.333Z",
        "updatedAt": "2024-10-25T04:46:34.333Z",
        "id": "6711d230be7f5022304f1c60"
      }
    ],
    "createdAt": "2024-10-18T03:12:48.950Z",
    "updatedAt": "2024-10-25T04:46:34.333Z",
    "id": "hlqJlgRrN"
  },
  {
    "_id": "4NsUAWxUN",
    "name": "RTM Midterm Project 11_pages",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6713bb74c447389c6d402dcc",
          "6713bb74c447389c6d402dcd",
          "6713bb74c447389c6d402dce"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6713bb74c447389c6d402dcb",
        "createdAt": "2024-10-19T14:29:21.128Z",
        "updatedAt": "2024-10-19T14:29:21.128Z",
        "id": "6713bb74c447389c6d402dcb"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nlet lowNotes = ['B2', 'A#2', 'E1', 'A2', 'B1', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#1', 'D1', 'G2', 'F#2', \n                'C2', 'G#1', 'F#1', 'C#2', 'D2', 'E2', 'C1', 'G#2', 'A#0', 'D#1', 'A1', 'B0'];\nlet highNotes = ['D4', 'D#3', 'B3', 'A#3', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'A4', 'G#3', 'G4', 'C#3', 'A3', \n                 'D3', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'C#5', 'B4', 'C5', 'A#4', 'D#4', 'C3'];\n\nlet specialCharacters = { '!': 'D4', '?': 'E4', '/': 'C4' , '.':'F4'};\nlet synth = new p5.PolySynth();\nlet displayedLetters = [];\nlet currentX = 100;  // 当前字母的X位置\nlet currentStaffGroup = 0;  // 当前五线谱组索引\nlet currentPage = 0;  // 当前页数\n\nlet midiAccess;  // MIDI 访问对象\nlet output;      // MIDI 输出对象\n\nlet currentNoteIndex = 0; // 添加一个索引来跟踪当前音符\n\nfunction setup() {\n  createCanvas(1600, 1400);  // 修改画布大小为1600x1400，适应左右两页\n  textSize(32);\n  textAlign(CENTER, CENTER);\n\n  // 请求 MIDI 访问\n  if (navigator.requestMIDIAccess) {\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n  } else {\n    console.log(\"Web MIDI API not supported.\");\n  }\n}\n\nfunction onMIDISuccess(midi) {\n  midiAccess = midi;\n  const outputs = midiAccess.outputs;\n  output = outputs.values().next().value;  // 获取第一个输出设备\n  console.log(\"MIDI output device:\", output);\n}\n\nfunction onMIDIFailure() {\n  console.log(\"Failed to access MIDI devices.\");\n}\n\nfunction draw() {\n  background(255);\n  \n  // 绘制左侧页面的五线谱\n  drawPage(0, 0);\n  \n  // 绘制右侧页面的五线谱\n  drawPage(800, 1);\n  \n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x + (letterData.page * 800), letterData.y);  // 处理每页的X位置偏移\n  }\n}\n\nfunction drawPage(xOffset, page) {\n  for (let i = 0; i < 4; i++) {  // 每页绘制4组五线谱\n    let yBase = 100 + i * 320;  // 每组之间的间距\n    drawStaffGroup(yBase, xOffset, page);\n  }\n}\n\nfunction drawStaffGroup(yBase, xOffset, page) {\n  // 高音谱表\n  drawStaff(yBase, xOffset);\n  textSize(130);\n  text('𝄞', xOffset + 50, yBase + 35);\n\n  // 低音谱表\n  drawStaff(yBase + 140, xOffset);\n  textSize(90);\n  text('𝄢', xOffset + 55, yBase + 185);\n}\n\nfunction drawStaff(y, xOffset) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(xOffset + 100, y + i * 20, xOffset + 700, y + i * 20);\n  }\n}\n\nfunction mapNoteToY(note, staffGroup) {\n  let noteToY = {\n    'A#0': 375, 'B0': 370, 'C1': 360, 'C#1': 355, 'D1': 350, 'D#1': 345, 'E1': 340,\n    'F1': 330, 'F#1': 325, 'G1': 320, 'G#1': 315, 'A1': 310, 'A#1': 305, 'B2': 300,\n    'C2': 290, 'C#2': 285, 'D2': 280, 'D#2': 275, 'E2': 270, 'F2': 260, 'F#2': 255, 'G2': 250,\n    'G#2': 245, 'A2': 240, 'A#2': 235, 'B2': 230,\n\n    // 高音谱表映射\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180, 'F3': 170, 'F#3': 165, 'G3': 160, \n    'G#3': 155, 'A3': 150, 'A#3': 145, 'B3': 140, 'C4': 130, 'C#4': 125, 'D4': 120, 'D#4': 115, \n    'E4': 110, 'F4': 100, 'F#4': 95, 'G4': 90, 'G#4': 85, 'A4': 80, 'A#4': 75, 'B4': 70, 'C5': 60, \n    'C#5': 55\n  };\n  \n  // 基于当前五线谱组的位置进行偏移\n  return (noteToY[note] || 220) + staffGroup * 320;  // 每组的偏移调整为320\n}\n\nfunction keyPressed() {\n  // 检测是否按下空格键\n  if (keyCode === 32) {  // 空格键\n    currentNoteIndex = 0;  // 重置索引以便从头播放\n    playNotesInOrder();\n    return;  // 不继续处理其他按键\n  }\n\n  // 检测是否按下 Delete 或 Backspace 键\n  if (keyCode === DELETE || keyCode === BACKSPACE) {\n    if (displayedLetters.length > 0) {\n      // 移除最后一个输入的字母\n      displayedLetters.pop();\n      \n      currentX -= 20;\n      if (currentX < 100) {\n        currentX = 700;  // 返回上一行的末尾\n        currentStaffGroup--;  // 切换回上一组五线谱\n        if (currentStaffGroup < 0) currentStaffGroup = 3;  // 如果超出范围则回到最后一组\n      }\n    }\n    return;  // 不继续处理其他按键\n  }\n\n  let index = letters.indexOf(key);\n\n  // 处理特殊符号 \"/\"\n  if (key === '/') {\n    handleSpecialCharacter('/', 'C4', 2);\n    return; // 不继续处理其他按键\n  }\n\n  // 处理特殊符号 \"!\"\n  if (key === '!') {\n    handleSpecialCharacter('!', 'D4', 3);\n    return;\n  }\n\n  // 处理特殊符号 \"?\"\n  if (key === '?') {\n    handleSpecialCharacter('?', 'E4', 4);\n    return;\n  }\n  \n  // 处理特殊符号 \".\"\n  if (key === '.') {\n    handleSpecialCharacter('.', 'F4', 5);  // F4 对应 channel 5\n    return; // 不继续处理其他按键\n  }\n\n  // 处理普通字母\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n      sendMidiNote(noteOut, 3); // channel 3 对应高音区\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n      sendMidiNote(noteOut, 2); // channel 2 对应低音区\n    }\n\n    displayedLetters.push({ letter: key, x: currentX, y: mapNoteToY(noteOut, currentStaffGroup), page: currentPage });  // 记录当前页数\n    \n    currentX += 20;\n    if (currentX > 700) {  // 当到达右侧边界时\n      currentX = 100;  // 回到左侧\n      currentStaffGroup++;  // 切换到下一组五线谱\n      if (currentStaffGroup >= 4) {  // 当所有五线谱组都填满时\n        currentStaffGroup = 0;  // 重置五线谱组索引\n        currentPage++;  // 跳到下一页\n      }\n    }\n  }\n}\n\nfunction handleSpecialCharacter(symbol, note, channel) {\n  let previousY = displayedLetters.length > 0 ? displayedLetters[displayedLetters.length - 1].y : mapNoteToY(note, currentStaffGroup);  // 获取前一个字母的 y 位置，如果没有前一个字母则使用当前五线谱组的默认 y 位置\n  \n  displayedLetters.push({ letter: symbol, x: currentX, y: previousY, page: currentPage });  // 使用前一个字母的 y 位置\n  sendMidiNote(note, channel);  // 发送 MIDI 信号\n  currentX += 20;\n  if (currentX > 700) {  // 检查是否超出右侧边界\n    currentX = 100;  // 回到左侧\n    currentStaffGroup++;  // 切换到下一组五线谱\n    if (currentStaffGroup >= 4) {  // 当所有五线谱组都填满时\n      currentStaffGroup = 0;  // 重置五线谱组索引\n      currentPage++;  // 跳到下一页\n    }\n  }\n}\n\n\nfunction sendMidiNote(note, channel) {\n  if (output) {\n    let noteNumber = midiNoteNumber(note);\n    output.send([0x90 + channel, noteNumber, 100]);  // 发送 note on\n    setTimeout(() => {\n      output.send([0x80 + channel, noteNumber, 0]);  // 发送 note off\n    }, 500);\n  }\n}\n\nfunction playNotesInOrder() {\n  if (currentNoteIndex >= displayedLetters.length) return;  // 如果所有字母都播放完了则结束\n  let letterData = displayedLetters[currentNoteIndex];\n  let letter = letterData.letter;\n  \n  let noteOut;\n  if (letter === '/') {\n    noteOut = specialCharacters['/'];\n    sendMidiNote(noteOut, 2);  // 使用特殊 channel 发送\n  } else if (letter === '!') {\n    noteOut = specialCharacters['!'];\n    sendMidiNote(noteOut, 3);\n  } else if (letter === '?') {\n    noteOut = specialCharacters['?'];\n    sendMidiNote(noteOut, 4);\n  } else if (letter === '.') {\n    noteOut = specialCharacters['.'];\n    sendMidiNote(noteOut, 5);\n  } else {\n    let index = letters.indexOf(letter);\n    if (letter === letter.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n      sendMidiNote(noteOut, 3); // channel 3\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n      sendMidiNote(noteOut, 2); // channel 2\n    }\n  }\n  \n  currentNoteIndex++;  // 增加索引以播放下一个音符\n  \n  setTimeout(playNotesInOrder, 1000);  // 设置延时以播放下一个音符\n}\n\nfunction midiNoteNumber(note) {\n  let octave = parseInt(note.slice(-1));\n  let key = note.slice(0, -1);\n  let notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\n  return notes.indexOf(key) + (octave + 1) * 12;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6713bb74c447389c6d402dcd",
        "createdAt": "2024-10-19T14:29:21.128Z",
        "updatedAt": "2024-10-19T14:29:21.128Z",
        "id": "6713bb74c447389c6d402dcd"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6713bb74c447389c6d402dcc",
        "createdAt": "2024-10-19T14:29:21.128Z",
        "updatedAt": "2024-10-19T14:29:21.128Z",
        "id": "6713bb74c447389c6d402dcc"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6713bb74c447389c6d402dce",
        "createdAt": "2024-10-19T14:29:21.128Z",
        "updatedAt": "2024-10-19T14:29:21.128Z",
        "id": "6713bb74c447389c6d402dce"
      }
    ],
    "createdAt": "2024-10-19T14:00:20.828Z",
    "updatedAt": "2024-10-19T14:29:21.128Z",
    "id": "4NsUAWxUN"
  },
  {
    "_id": "CIOZ4cVxh",
    "name": "RTM Midterm Project 12_!Tone change",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6713c278aa7253aed2703bac",
          "6713c278aa7253aed2703bad",
          "6713c278aa7253aed2703bae"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6713c278aa7253aed2703bab",
        "createdAt": "2024-10-21T18:19:40.750Z",
        "updatedAt": "2024-10-21T18:19:40.750Z",
        "id": "6713c278aa7253aed2703bab"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nlet lowNotes = ['B2', 'A#2', 'E1', 'A2', 'B1', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#1', 'D1', 'G2', 'F#2', \n                'C2', 'G#1', 'F#1', 'C#2', 'D2', 'E2', 'C1', 'G#2', 'A#0', 'D#1', 'A1', 'B0'];\nlet highNotes = ['D4', 'D#3', 'B3', 'A#3', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'D3', 'G#3', 'G4', 'C#3', 'A3', \n                 'A4', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'C#5', 'B4', 'C5', 'A#4', 'D#4', 'C3'];\n\nlet specialCharacters = { '!': 'D4', '?': 'E4', '/': 'C4' , '.':'F4'};\nlet synth = new p5.PolySynth();\nlet displayedLetters = [];\nlet currentX = 100;  // 当前字母的X位置\nlet currentStaffGroup = 0;  // 当前五线谱组索引\nlet currentPage = 0;  // 当前页数\n\nlet midiAccess;  // MIDI 访问对象\nlet output;      // MIDI 输出对象\n\nlet currentNoteIndex = 0; // 添加一个索引来跟踪当前音符\n\nfunction setup() {\n  let fs = fullscreen();  // 检查当前是否是全屏\n  createCanvas(6400, 5600);\n  textSize(32);\n  textAlign(CENTER, CENTER);\n  \n    // 添加一个按钮用于全屏切换\n  let fsButton = createButton('Fullscreen');\n  fsButton.position(20, 20);\n  fsButton.mousePressed(toggleFullscreen);\n\n  // 请求 MIDI 访问\n  if (navigator.requestMIDIAccess) {\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n  } else {\n    console.log(\"Web MIDI API not supported.\");\n  }\n}\n\nfunction onMIDISuccess(midi) {\n  midiAccess = midi;\n  const outputs = midiAccess.outputs;\n  output = outputs.values().next().value;  // 获取第一个输出设备\n  console.log(\"MIDI output device:\", output);\n}\n\nfunction onMIDIFailure() {\n  console.log(\"Failed to access MIDI devices.\");\n}\n\nfunction draw() {\n  background(255);\n  \n  // Draw first row of pages (4 pages horizontally)\n  drawPage(0, 0);  \n  drawPage(800, 1);\n  drawPage(1600, 2);\n  drawPage(2400, 3);\n  drawPage(3200, 4);\n  drawPage(4000, 5);\n  drawPage(4800, 6);\n  drawPage(5600, 7);\n  \n// Draw second row of pages (4 pages)\n  drawPage(0, 1, 1);  \n  drawPage(800, 1, 1);\n  drawPage(1600, 2, 1);\n  drawPage(2400, 3, 1);\n  drawPage(3200, 4, 1);\n  drawPage(4000, 5, 1);\n  drawPage(4800, 6, 1);\n  drawPage(5600, 7, 1);\n  \n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x + (letterData.page * 800), letterData.y);  // 处理每页的X位置偏移\n  }\n}\n\nfunction drawPage(xOffset, page) {\n  for (let i = 0; i < 4; i++) {  // 每页绘制4组五线谱\n    let yBase = 100 + i * 320;  // 每组之间的间距\n    drawStaffGroup(yBase, xOffset, page);\n  }\n}\n\nfunction drawStaffGroup(yBase, xOffset, page) {\n  // 高音谱表\n  drawStaff(yBase, xOffset);\n  textSize(130);\n  text('𝄞', xOffset + 50, yBase + 35);\n\n  // 低音谱表\n  drawStaff(yBase + 140, xOffset);\n  textSize(90);\n  text('𝄢', xOffset + 55, yBase + 185);\n}\n\nfunction drawStaff(y, xOffset) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(xOffset + 100, y + i * 20, xOffset + 700, y + i * 20);\n  }\n}\n\nfunction mapNoteToY(note, staffGroup) {\n  let noteToY = {\n    'A#0': 375, 'B0': 370, 'C1': 360, 'C#1': 355, 'D1': 350, 'D#1': 345, 'E1': 340,\n    'F1': 330, 'F#1': 325, 'G1': 320, 'G#1': 315, 'A1': 310, 'A#1': 305, 'B2': 300,\n    'C2': 290, 'C#2': 285, 'D2': 280, 'D#2': 275, 'E2': 270, 'F2': 260, 'F#2': 255, 'G2': 250,\n    'G#2': 245, 'A2': 240, 'A#2': 235, 'B2': 230,\n\n    // 高音谱表映射\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180, 'F3': 170, 'F#3': 165, 'G3': 160, \n    'G#3': 155, 'A3': 150, 'A#3': 145, 'B3': 140, 'C4': 130, 'C#4': 125, 'D4': 120, 'D#4': 115, \n    'E4': 110, 'F4': 100, 'F#4': 95, 'G4': 90, 'G#4': 85, 'A4': 80, 'A#4': 75, 'B4': 70, 'C5': 60, \n    'C#5': 55\n  };\n  \n  // 基于当前五线谱组的位置进行偏移\n  return (noteToY[note] || 220) + staffGroup * 320;  // 每组的偏移调整为320\n}\n\nfunction keyPressed() {\n  // 检测是否按下空格键\n  if (keyCode === ENTER) {  // 空格键\n    currentNoteIndex = 0;  // 重置索引以便从头播放\n    playNotesInOrder();\n    return;  // 不继续处理其他按键\n  }\n\n  // 检测是否按下 Delete 或 Backspace 键\n  if (keyCode === DELETE || keyCode === BACKSPACE) {\n    if (displayedLetters.length > 0) {\n      // 移除最后一个输入的字母\n      displayedLetters.pop();\n      \n      currentX -= 20;\n      if (currentX < 100) {\n        currentX = 700;  // 返回上一行的末尾\n        currentStaffGroup--;  // 切换回上一组五线谱\n        if (currentStaffGroup < 0) currentStaffGroup = 3;  // 如果超出范围则回到最后一组\n      }\n    }\n    return;  // 不继续处理其他按键\n  }\n\n  let index = letters.indexOf(key);\n\n  // 处理特殊符号 \"/\"\n  if (key === '/') {\n    handleSpecialCharacter('/', 'C4', 6);\n    return; // 不继续处理其他按键\n  }\n\n  // 处理特殊符号 \"!\"\n  if (key === '!') {\n    handleSpecialCharacter('!', 'D4', 3);\n    return;\n  }\n\n  // 处理特殊符号 \"?\"\n  if (key === '?') {\n    handleSpecialCharacter('?', 'E4', 4);\n    return;\n  }\n  \n  // 处理特殊符号 \".\"\n  if (key === '.') {\n    handleSpecialCharacter('.', 'F4', 5);  // F4 对应 channel 5\n    return; // 不继续处理其他按键\n  }\n\n  // 处理普通字母\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n      sendMidiNote(noteOut, 3); // channel 3 对应高音区\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n      sendMidiNote(noteOut, 2);  // channel 2 对应低音区\n    }\n\n    displayedLetters.push({ letter: key, x: currentX, y: mapNoteToY(noteOut, currentStaffGroup), page: currentPage });\n    currentX += 20;\n\n    // 每行超过一定字母数后换到下一行\n    if (currentX > 700) {\n      currentX = 100;\n      currentStaffGroup++;\n      if (currentStaffGroup > 3) {\n        currentStaffGroup = 0;  // 每页4组五线谱，循环使用\n        currentPage++;  // 换页\n      }\n    }\n  }\n}\n\nfunction handleSpecialCharacter(char, noteOut, channel) {\n  // 获取前一个字母的位置\n  let yPosition = displayedLetters.length > 0 ? displayedLetters[displayedLetters.length - 1].y : mapNoteToY(noteOut, currentStaffGroup);\n\n  // 将 special character 添加到 displayedLetters 中\n  displayedLetters.push({ letter: char, x: currentX, y: yPosition, page: currentPage });\n  sendMidiSpecialCharacter(noteOut, channel);\n  currentX += 20;\n  if (currentX > 700) {\n    currentX = 100;\n    currentStaffGroup++;\n    if (currentStaffGroup > 3) {\n      currentStaffGroup = 0;\n      currentPage++;\n    }\n  }\n}\n\nfunction sendMidiSpecialCharacter(note, channel) {\n  if (output) {\n    let noteNumber = midiNoteNumber(note);\n    let velocity = 127; // 音符力度\n    output.send([0x90 + channel - 1, noteNumber, velocity]); // 开启音符\n    output.send([0x80 + channel - 1, noteNumber, 0], window.performance.now() + 1000); // 1秒后关闭音符\n  }\n}\n\n// 播放字母对应的音符\nfunction playNotesInOrder() {\n  if (currentNoteIndex >= displayedLetters.length) return;  // 如果所有字母都播放完了则结束\n  let letterData = displayedLetters[currentNoteIndex];\n  let letter = letterData.letter;\n  \n  let noteOut;\n  let delay = 250;  // 默认延时\n  if (letter === '/') {\n    noteOut = specialCharacters['/'];\n    sendMidiNote(noteOut, 2);  // 使用特殊 channel 发送\n  } else if (letter === '!') {\n    noteOut = specialCharacters['!'];\n    sendMidiNote(noteOut, 3);\n    // 如果当前字母是 '!'，且该句以 '!' 结尾，设置更快的延时\n    if (isLastLetterInSentence(currentNoteIndex)) {\n      delay = 50;  // 增加播放速度，减少延时\n    }\n  } else if (letter === '?') {\n    noteOut = specialCharacters['?'];\n    sendMidiNote(noteOut, 4);\n  } else if (letter === '.') {\n    noteOut = specialCharacters['.'];\n    sendMidiNote(noteOut, 5);\n  } else {\n    let index = letters.indexOf(letter);\n    let nextSpecialCharIndex = findNextSpecialCharacterIndex(currentNoteIndex);\n    \n    if (letter === letter.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n    }\n    \n    // 检查下一个字符是否是 \"?\"，并且当前字母是特殊符号之间的最后一个字母\n    if (nextSpecialCharIndex !== -1 && displayedLetters[nextSpecialCharIndex].letter === '?' && isLastLetterBeforeSpecialChar(currentNoteIndex, nextSpecialCharIndex)) {\n      noteOut = increasePitchByHalfOctave(noteOut);  // 升高半个八度\n    }\n\n    sendMidiNote(noteOut, letter === letter.toLowerCase() ? 3 : 2);  // channel 3 对应高音区, channel 2 对应低音区\n  }\n  \n  currentNoteIndex++;  // 增加索引以播放下一个音符\n  \n  setTimeout(playNotesInOrder, delay);  // 设置延时以播放下一个音符\n}\n\n// 辅助函数：寻找下一个特殊符号的索引\nfunction findNextSpecialCharacterIndex(startIndex) {\n  for (let i = startIndex + 1; i < displayedLetters.length; i++) {\n    if (specialCharacters[displayedLetters[i].letter]) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n// 辅助函数：检查当前字母是否是特殊符号之间的最后一个字母\nfunction isLastLetterBeforeSpecialChar(currentIndex, nextSpecialCharIndex) {\n  for (let i = currentIndex + 1; i < nextSpecialCharIndex; i++) {\n    if (letters.includes(displayedLetters[i].letter)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// 辅助函数：检查当前字母是否是句子的最后一个字母\nfunction isLastLetterInSentence(currentIndex) {\n  // 判断当前字母后面是否还有字母\n  for (let i = currentIndex + 1; i < displayedLetters.length; i++) {\n    if (letters.includes(displayedLetters[i].letter)) {\n      return false;  // 还有其他字母\n    }\n  }\n  return true;  // 当前字母是最后一个\n}\n\n\n// 辅助函数：将音高升高半个八度\nfunction increasePitchByHalfOctave(note) {\n  let noteNumber = midiNoteNumber(note);\n  return midiNoteToName(noteNumber + 1);  // 增加 1 表示升高半个八度\n}\n\n\n// 将 MIDI 数字转换回音符名称\nfunction midiNoteToName(noteNumber) {\n  let octave = Math.floor(noteNumber / 12) - 1;\n  let notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\n  let note = notes[noteNumber % 12];\n  return note + octave;\n}\n\nfunction midiNoteNumber(note) {\n  let noteMap = {\n    'C0': 12, 'C#0': 13, 'D0': 14, 'D#0': 15, 'E0': 16, 'F0': 17, 'F#0': 18, 'G0': 19, 'G#0': 20, 'A0': 21, 'A#0': 22, 'B0': 23,\n    'C1': 24, 'C#1': 25, 'D1': 26, 'D#1': 27, 'E1': 28, 'F1': 29, 'F#1': 30, 'G1': 31, 'G#1': 32, 'A1': 33, 'A#1': 34, 'B1': 35,\n    'C2': 36, 'C#2': 37, 'D2': 38, 'D#2': 39, 'E2': 40, 'F2': 41, 'F#2': 42, 'G2': 43, 'G#2': 44, 'A2': 45, 'A#2': 46, 'B2': 47,\n    'C3': 48, 'C#3': 49, 'D3': 50, 'D#3': 51, 'E3': 52, 'F3': 53, 'F#3': 54, 'G3': 55, 'G#3': 56, 'A3': 57, 'A#3': 58, 'B3': 59,\n    'C4': 60, 'C#4': 61, 'D4': 62, 'D#4': 63, 'E4': 64, 'F4': 65, 'F#4': 66, 'G4': 67, 'G#4': 68, 'A4': 69, 'A#4': 70, 'B4': 71,\n    'C5': 72, 'C#5': 73\n  };\n  return noteMap[note];\n}\n\nfunction sendMidiNote(note, channel) {\n  if (output) {\n    let noteNumber = midiNoteNumber(note);\n    let velocity = 127; // 音符力度\n    output.send([0x90 + channel - 1, noteNumber, velocity]); // 开启音符\n    output.send([0x80 + channel - 1, noteNumber, 0], window.performance.now() + 1000); // 1秒后关闭音符\n  }\n}\n\nfunction toggleFullscreen() {\n  let fs = fullscreen();\n  fullscreen(!fs);  // 切换全屏状态\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6713c278aa7253aed2703bad",
        "createdAt": "2024-10-21T18:19:40.750Z",
        "updatedAt": "2024-10-21T18:19:40.750Z",
        "id": "6713c278aa7253aed2703bad"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6713c278aa7253aed2703bac",
        "createdAt": "2024-10-21T18:19:40.750Z",
        "updatedAt": "2024-10-21T18:19:40.750Z",
        "id": "6713c278aa7253aed2703bac"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6713c278aa7253aed2703bae",
        "createdAt": "2024-10-21T18:19:40.750Z",
        "updatedAt": "2024-10-21T18:19:40.750Z",
        "id": "6713c278aa7253aed2703bae"
      }
    ],
    "createdAt": "2024-10-19T14:30:16.736Z",
    "updatedAt": "2024-10-21T18:19:40.750Z",
    "id": "CIOZ4cVxh"
  },
  {
    "_id": "4_zHqzVei",
    "name": "RTM Midterm Project 2",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6706ef86c571d6667d461073",
          "6706ef86c571d6667d461074",
          "6706ef86c571d6667d461075"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6706ef86c571d6667d461072",
        "createdAt": "2024-10-13T05:00:52.884Z",
        "updatedAt": "2024-10-13T05:00:52.884Z",
        "id": "6706ef86c571d6667d461072"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyz';\nlet notes = ['A3', 'D#3', '', 'F4', 'G4', 'A4', 'B4', 'C5', 'D5', 'E5', 'F5', 'G5', 'A5', 'B5', \n             'C3', 'D3', 'E3', 'F3', 'G3', 'A3', 'B3', 'C2', 'D2', 'E2', 'F2', 'G2'];\nlet synth;\nlet displayedLetters = []; // 用于存储已输入的字母\n\nfunction setup() {\n  createCanvas(800, 400);\n  synth = new p5.PolySynth();\n\n  textSize(32);\n  textAlign(CENTER, CENTER);\n}\n\nfunction draw() {\n  background(255);\n\n  // 画高音谱表\n  drawStaff(100);\n  text('𝄞', 50, 150);\n\n  // 画低音谱表\n  drawStaff(250);\n  text('𝄢', 50, 300);\n\n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    text(letterData.letter.toUpperCase(), letterData.x, letterData.y);\n  }\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\nfunction keyPressed() {\n  let index = letters.indexOf(key.toLowerCase());\n  if (index !== -1) {\n    let note = notes[index];\n    let yPosition = mapNoteToY(index);\n    let xPosition = random(150, 700); // 随机生成字母的X位置\n\n    // 把字母及其位置存入数组\n    displayedLetters.push({\n      letter: key,\n      x: xPosition,\n      y: yPosition\n    });\n\n    // 播放对应音符\n    synth.play(note, 0.5, 0, 0.5);\n  }\n}\n\nfunction mapNoteToY(index) {\n  if (index < 14) { // 高音谱表 (C4 - B5)\n    return map(index, 0, 13, 160, 100);\n  } else { // 低音谱表 (C2 - B3)\n    return map(index, 14, 25, 310, 250);\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6706ef86c571d6667d461074",
        "createdAt": "2024-10-13T05:00:52.884Z",
        "updatedAt": "2024-10-13T05:00:52.884Z",
        "id": "6706ef86c571d6667d461074"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6706ef86c571d6667d461073",
        "createdAt": "2024-10-13T05:00:52.884Z",
        "updatedAt": "2024-10-13T05:00:52.884Z",
        "id": "6706ef86c571d6667d461073"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6706ef86c571d6667d461075",
        "createdAt": "2024-10-13T05:00:52.884Z",
        "updatedAt": "2024-10-13T05:00:52.884Z",
        "id": "6706ef86c571d6667d461075"
      }
    ],
    "createdAt": "2024-10-09T21:03:02.996Z",
    "updatedAt": "2024-10-13T05:00:52.884Z",
    "id": "4_zHqzVei"
  },
  {
    "_id": "SrzPeeEZ9",
    "name": "RTM Midterm Project 3_Ableton",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "670b584085b92e1b9e1702ba",
          "670b584085b92e1b9e1702bb",
          "670b584085b92e1b9e1702bc"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "670b584085b92e1b9e1702b9",
        "createdAt": "2024-10-14T04:16:26.976Z",
        "updatedAt": "2024-10-14T04:16:26.976Z",
        "id": "670b584085b92e1b9e1702b9"
      },
      {
        "name": "sketch.js",
        "content": "let synth = new p5.PolySynth();\nlet midiIn, midiOut;\n\n// 更新 notes 数组，分为低音区（大写字母）和高音区（小写字母）\nlet lowNotes = [ 'B2', 'A#2', 'E1', 'A2', 'B1', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#1', 'D1', 'G2', 'F#2', \n             'C2', 'G#1', 'F#1', 'C#2', 'B#1', 'E2', 'C1', 'G#2', 'A#0', 'D#1', 'A1', 'B0'];\nlet highNotes = ['A3', 'D#3', 'B3', 'A#3', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'A4', 'G#3', 'G4', 'C#3', 'D4', \n             'C3', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'D3', 'B4', 'C5', 'A#4', 'D#4', 'C#5'];\n\nlet letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';  // 保留大小写字母\nlet displayedLetters = [];\nlet noteIn = \"\";\nlet prg = \"\";\n\n// 初始化 WebMidi.js\nWebMidi.enable()\n  .then(onEnabled)\n  .catch((err) => alert(err));\n\nfunction onEnabled() {\n  if (WebMidi.inputs.length < 1) {\n    document.body.innerHTML += \"没有检测到MIDI设备。\";\n  } else {\n    WebMidi.inputs.forEach((device, index) => console.log(device.name));\n    WebMidi.outputs.forEach((device, index) => console.log(device.name));\n\n    midiIn = WebMidi.inputs[0];\n    midiOut = WebMidi.outputs[0];\n  }\n}\n\nfunction setup() {\n  createCanvas(800, 800);\n  textSize(32);\n  textAlign(CENTER, CENTER);\n}\n\nfunction draw() {\n  background(255);\n  textSize(100);\n  // 高音谱表\n  text('𝄞', 50, 150);\n   drawStaff(102);  \n  // 低音谱表\n  text('𝄢', 50, 300);\n  drawStaff(250);  \n\n  displayedLetters.forEach((letterData) => {\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x, letterData.y);  // 保留大小写字母\n  });\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\n// 根据音符映射到五线谱的 Y 坐标\nfunction mapNoteToY(note) {\n  let noteToY = {\n    // 低音谱表映射 (C1到B2的范围)\n    'A#0': 385, 'B0': 380, 'C1': 370, 'C#1': 365, 'D1': 360, 'D#1': 355, 'E1': 350,\n    'F1': 340, 'F#1': 335, 'G1': 330, 'G#1': 325, 'A1': 320,\n    'A#1': 315, 'B1': 310, 'C2': 300, 'C#2': 295, 'D2': 290,\n    'D#2': 285, 'E2': 280, 'F2': 270,  'F#2': 265,  'G2': 260,\n    'G#2': 255,  'A2': 250,  'A#2': 245,  'B2': 240,  \n\n    // 高音谱表映射 (A3到C5的范围)\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180,\n    'F3': 170, 'F#3': 165, 'G3': 160, 'G#3': 155, 'A3': 150,\n    'A#3': 145, 'B3': 140, 'C4': 130, 'C#4': 125, 'D4': 120,\n    'D#4': 115, 'E4': 110, 'F4': 100,  'F#4': 95,  'G4': 90,\n    'G#4': 85,  'A4': 80,  'A#4': 75,  'B4': 70,  'C5': 60,\n    'C#5': 55, \n  };\n  return noteToY[note] || 200;  // 默认将音符映射到低音谱表\n}\n\nfunction keyPressed() {\n  let index = letters.indexOf(key);\n  if (index !== -1) {\n    let noteOut, attack = 0.5;\n\n    // 区分大写字母和小写字母并映射到不同的音符数组\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n    }\n\n    displayedLetters.push({\n      letter: key,\n      x: random(150, 700),\n      y: mapNoteToY(noteOut)\n    });\n\n    synth.play(noteOut, 0.5, 0, 0.5);\n\n    midiOut.channels[1].playNote(noteOut, { attack });\n    console.log(`发送 MIDI 音符 ${noteOut} 到 Ableton`);\n  }\n}\n\nfunction keyReleased() {\n  let index = letters.indexOf(key);\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 停止小写字母的音符\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 停止大写字母的音符\n    }\n\n    midiOut.channels[1].stopNote(noteOut);\n    console.log(`停止 MIDI 音符 ${noteOut}`);\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "670b584085b92e1b9e1702bb",
        "createdAt": "2024-10-14T04:16:26.976Z",
        "updatedAt": "2024-10-14T04:16:26.976Z",
        "id": "670b584085b92e1b9e1702bb"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670b584085b92e1b9e1702ba",
        "createdAt": "2024-10-14T04:16:26.976Z",
        "updatedAt": "2024-10-14T04:16:26.976Z",
        "id": "670b584085b92e1b9e1702ba"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670b584085b92e1b9e1702bc",
        "createdAt": "2024-10-14T04:16:26.976Z",
        "updatedAt": "2024-10-14T04:16:26.976Z",
        "id": "670b584085b92e1b9e1702bc"
      }
    ],
    "createdAt": "2024-10-13T05:18:56.228Z",
    "updatedAt": "2024-10-14T04:16:26.976Z",
    "id": "SrzPeeEZ9"
  },
  {
    "_id": "APUaVi_5D",
    "name": "RTM Midterm Project 4_multiple",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "670c9b223da0bf72851faf45",
          "670c9b223da0bf72851faf46",
          "670c9b223da0bf72851faf47"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "670c9b223da0bf72851faf44",
        "createdAt": "2024-10-14T05:24:44.566Z",
        "updatedAt": "2024-10-14T05:24:44.566Z",
        "id": "670c9b223da0bf72851faf44"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nlet lowNotes = ['B3', 'A#3', 'E1', 'A3', 'B2', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#2', 'D1', 'G2', 'F#2', \n                'C2', 'G#1', 'F#1', 'C#2', 'D2', 'E2', 'C1', 'G#2', 'A#1', 'D#1', 'A2', 'B1'];\nlet highNotes = ['A4', 'D#3', 'B4', 'A#4', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'A5', 'G#3', 'G4', 'C#3', 'D4', \n                 'C3', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'D3', 'B5', 'C5', 'A#5', 'D#4', 'C#5'];\n\nlet synth = new p5.PolySynth();\nlet displayedLetters = [];\nlet currentX = 100;  // 当前字母的X位置\nlet currentStaffGroup = 0;  // 当前五线谱组索引\n\nlet midiAccess;  // MIDI 访问对象\nlet output;      // MIDI 输出对象\n\nfunction setup() {\n  createCanvas(800, 1400);  // 修改画布大小为800x1400，保持9:16比例\n  textSize(32);\n  textAlign(CENTER, CENTER);\n\n  // 请求 MIDI 访问\n  if (navigator.requestMIDIAccess) {\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n  } else {\n    console.log(\"Web MIDI API not supported.\");\n  }\n}\n\nfunction onMIDISuccess(midi) {\n  midiAccess = midi;\n  const outputs = midiAccess.outputs;\n  output = outputs.values().next().value;  // 获取第一个输出设备\n  console.log(\"MIDI output device:\", output);\n}\n\nfunction onMIDIFailure() {\n  console.log(\"Failed to access MIDI devices.\");\n}\n\nfunction draw() {\n  background(255);\n  \n  // 绘制所有五线谱组\n  for (let i = 0; i < 4; i++) {  // 修改为绘制4组五线谱，每组4行\n    let yBase = 100 + i * 320;  // 每组之间的间距\n    drawStaffGroup(yBase);\n  }\n  \n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x, letterData.y);  // 保留大小写字母\n  }\n}\n\nfunction drawStaffGroup(yBase) {\n  // 高音谱表\n  drawStaff(yBase);\n  textSize(130);\n  text('𝄞', 50, yBase + 35);\n\n  // 低音谱表\n  drawStaff(yBase + 140);\n  textSize(90);\n  text('𝄢', 55, yBase + 185);\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\nfunction mapNoteToY(note, staffGroup) {\n  let noteToY = {\n    'A#1': 375, 'B1': 370, 'C1': 360, 'C#1': 355, 'D1': 350, 'D#1': 345, 'E1': 340,\n    'F1': 330, 'F#1': 325, 'G1': 320, 'G#1': 315, 'A2': 310, 'A#2': 305, 'B2': 300,\n    'C2': 290, 'C#2': 285, 'D2': 280, 'D#2': 275, 'E2': 270, 'F2': 260, 'F#2': 255, 'G2': 250,\n    'G#2': 245, 'A3': 240, 'A#3': 235, 'B3': 230,\n\n    // 高音谱表映射\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180, 'F3': 170, 'F#3': 165, 'G3': 160, \n    'G#3': 155, 'A4': 150, 'A#4': 145, 'B4': 140, 'C4': 130, 'C#4': 125, 'D4': 120, 'D#4': 115, \n    'E4': 110, 'F4': 100, 'F#4': 95, 'G4': 90, 'G#4': 85, 'A5': 80, 'A#5': 75, 'B5': 70, 'C5': 60, \n    'C#5': 55\n  };\n  \n  // 基于当前五线谱组的位置进行偏移\n  return (noteToY[note] || 220) + staffGroup * 320;  // 每组的偏移调整为320\n}\n\nfunction keyPressed() {\n  let index = letters.indexOf(key);\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n    }\n\n    // 计算当前字母的 Y 位置和五线谱组\n    let yPosition = mapNoteToY(noteOut, currentStaffGroup);\n\n    // 将字母推入数组，记录字母的 X 和 Y 位置\n    displayedLetters.push({\n      letter: key,\n      x: currentX,\n      y: yPosition\n    });\n\n    // 播放音符\n    synth.play(noteOut, 0.5, 0, 0.5);\n    sendMidiNote(noteOut, 1);  // 发送 MIDI 音符\n\n    // 更新 X 位置\n    currentX += 20;\n\n    // 如果 X 位置超过画布宽度，换到下一行\n    if (currentX > 700) {\n      currentX = 100;  // 重置 X 位置\n      currentStaffGroup++;  // 切换到下一组五线谱\n      if (currentStaffGroup > 3) currentStaffGroup = 0;  // 循环回第一组\n    }\n  }\n}\n\nfunction sendMidiNote(note, velocity) {\n  // 将音符名称转换为 MIDI 音符编号\n  const noteToMidi = {\n    'B0': 35, 'C1': 36, 'C#1': 37, 'D1': 38, 'D#1': 39, 'E1': 40, 'F1': 41, 'F#1': 42, 'G1': 43,\n    'G#1': 44, 'A1': 45, 'A#1': 46, 'B1': 47, 'C2': 48, 'C#2': 49, 'D2': 50, 'D#2': 51, 'E2': 52,\n    'F2': 53, 'F#2': 54, 'G2': 55, 'G#2': 56, 'A2': 57, 'A#2': 58, 'B2': 59,\n    'C3': 60, 'C#3': 61, 'D3': 62, 'D#3': 63, 'E3': 64, 'F3': 65, 'F#3': 66, 'G3': 67,\n    'G#3': 68, 'A3': 69, 'A#3': 70, 'B3': 71, 'C4': 72, 'C#4': 73, 'D4': 74, 'D#4': 75,\n    'E4': 76, 'F4': 77, 'F#4': 78, 'G4': 79, 'G#4': 80, 'A4': 81, 'A#4': 82, 'B4': 83,\n    'C5': 84, 'C#5': 85\n  };\n\n  let midiNote = noteToMidi[note];\n  \n  if (output && midiNote !== undefined) {\n    output.send([0x90, midiNote, velocity]); // 发送 Note On 消息\n    setTimeout(() => {\n      output.send([0x80, midiNote, velocity]); // 发送 Note Off 消息\n    }, 500); // 500毫秒后发送 Note Off 消息\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "670c9b223da0bf72851faf46",
        "createdAt": "2024-10-14T05:24:44.566Z",
        "updatedAt": "2024-10-14T05:24:44.566Z",
        "id": "670c9b223da0bf72851faf46"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670c9b223da0bf72851faf45",
        "createdAt": "2024-10-14T05:24:44.566Z",
        "updatedAt": "2024-10-14T05:24:44.566Z",
        "id": "670c9b223da0bf72851faf45"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670c9b223da0bf72851faf47",
        "createdAt": "2024-10-14T05:24:44.566Z",
        "updatedAt": "2024-10-14T05:24:44.566Z",
        "id": "670c9b223da0bf72851faf47"
      }
    ],
    "createdAt": "2024-10-14T04:16:35.047Z",
    "updatedAt": "2024-10-14T05:24:44.566Z",
    "id": "APUaVi_5D"
  },
  {
    "_id": "avs78Chya",
    "name": "RTM Midterm Project 5_Delete",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "670cac9e3da0bf72851faf49",
          "670cac9e3da0bf72851faf4a",
          "670cac9e3da0bf72851faf4b"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "670cac9e3da0bf72851faf48",
        "createdAt": "2024-10-14T05:31:51.983Z",
        "updatedAt": "2024-10-14T05:31:51.983Z",
        "id": "670cac9e3da0bf72851faf48"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nlet lowNotes = ['B3', 'A#3', 'E1', 'A3', 'B2', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#2', 'D1', 'G2', 'F#2', \n                'C2', 'G#1', 'F#1', 'C#2', 'B#2', 'E2', 'C1', 'G#2', 'A#1', 'D#1', 'A2', 'B1'];\nlet highNotes = ['A4', 'D#3', 'B4', 'A#4', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'A5', 'G#3', 'G4', 'C#3', 'D4', \n                 'C3', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'D3', 'B5', 'C5', 'A#5', 'D#4', 'C#5'];\n\nlet synth = new p5.PolySynth();\nlet displayedLetters = [];\nlet currentX = 100;  // 当前字母的X位置\nlet currentStaffGroup = 0;  // 当前五线谱组索引\n\nlet midiAccess;  // MIDI 访问对象\nlet output;      // MIDI 输出对象\n\nfunction setup() {\n  createCanvas(800, 1400);  // 修改画布大小为800x1400，保持9:16比例\n  textSize(32);\n  textAlign(CENTER, CENTER);\n\n  // 请求 MIDI 访问\n  if (navigator.requestMIDIAccess) {\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n  } else {\n    console.log(\"Web MIDI API not supported.\");\n  }\n}\n\nfunction onMIDISuccess(midi) {\n  midiAccess = midi;\n  const outputs = midiAccess.outputs;\n  output = outputs.values().next().value;  // 获取第一个输出设备\n  console.log(\"MIDI output device:\", output);\n}\n\nfunction onMIDIFailure() {\n  console.log(\"Failed to access MIDI devices.\");\n}\n\nfunction draw() {\n  background(255);\n  \n  // 绘制所有五线谱组\n  for (let i = 0; i < 4; i++) {  // 修改为绘制4组五线谱，每组4行\n    let yBase = 100 + i * 320;  // 每组之间的间距\n    drawStaffGroup(yBase);\n  }\n  \n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x, letterData.y);  // 保留大小写字母\n  }\n}\n\nfunction drawStaffGroup(yBase) {\n  // 高音谱表\n  drawStaff(yBase);\n  textSize(130);\n  text('𝄞', 50, yBase + 35);\n\n  // 低音谱表\n  drawStaff(yBase + 140);\n  textSize(90);\n  text('𝄢', 55, yBase + 185);\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\nfunction mapNoteToY(note, staffGroup) {\n  let noteToY = {\n    'A#1': 375, 'B1': 370, 'C1': 360, 'C#1': 355, 'D1': 350, 'D#1': 345, 'E1': 340,\n    'F1': 330, 'F#1': 325, 'G1': 320, 'G#1': 315, 'A2': 310, 'A#2': 305, 'B2': 300,\n    'C2': 290, 'C#2': 285, 'D2': 280, 'D#2': 275, 'E2': 270, 'F2': 260, 'F#2': 255, 'G2': 250,\n    'G#2': 245, 'A3': 240, 'A#3': 235, 'B3': 230,\n\n    // 高音谱表映射\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180, 'F3': 170, 'F#3': 165, 'G3': 160, \n    'G#3': 155, 'A4': 150, 'A#4': 145, 'B4': 140, 'C4': 130, 'C#4': 125, 'D4': 120, 'D#4': 115, \n    'E4': 110, 'F4': 100, 'F#4': 95, 'G4': 90, 'G#4': 85, 'A5': 80, 'A#4': 75, 'B4': 70, 'C5': 60, \n    'C#5': 55\n  };\n  \n  // 基于当前五线谱组的位置进行偏移\n  return (noteToY[note] || 220) + staffGroup * 320;  // 每组的偏移调整为320\n}\n\nfunction keyPressed() {\n  // 检测是否按下 Delete 或 Backspace 键\n  if (keyCode === DELETE || keyCode === BACKSPACE) {\n    // 如果有字母被输入\n    if (displayedLetters.length > 0) {\n      // 移除最后一个输入的字母\n      displayedLetters.pop();\n      \n      // 更新当前 X 位置和五线谱组\n      currentX -= 20;\n      if (currentX < 100) {\n        currentX = 700;  // 返回上一行的末尾\n        currentStaffGroup--;  // 切换回上一组五线谱\n        if (currentStaffGroup < 0) currentStaffGroup = 3;  // 如果超出范围则回到最后一组\n      }\n    }\n    return;  // 不继续处理其他按键\n  }\n\n  let index = letters.indexOf(key);\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n    }\n\n    // 计算当前字母的 Y 位置和五线谱组\n    let yPosition = mapNoteToY(noteOut, currentStaffGroup);\n\n    // 将字母推入数组，记录字母的 X 和 Y 位置\n    displayedLetters.push({\n      letter: key,\n      x: currentX,\n      y: yPosition\n    });\n\n    // 播放音符\n    synth.play(noteOut, 0.5, 0, 0.5);\n    sendMidiNote(noteOut, 1);  // 发送 MIDI 音符\n\n    // 更新 X 位置\n    currentX += 20;\n\n    // 如果 X 位置超过画布宽度，换到下一行\n    if (currentX > 700) {\n      currentX = 100;  // 重置 X 位置\n      currentStaffGroup++;  // 切换到下一组五线谱\n      if (currentStaffGroup > 3) currentStaffGroup = 0;  // 循环回第一组\n    }\n  }\n}\n\nfunction sendMidiNote(note, velocity) {\n  // 将音符名称转换为 MIDI 音符编号\n  const noteToMidi = {\n    'B0': 35, 'C1': 36, 'C#1': 37, 'D1': 38, 'D#1': 39, 'E1': 40, 'F1': 41, 'F#1': 42, 'G1': 43,\n    'G#1': 44, 'A1': 45, 'A#1': 46, 'B1': 47, 'C2': 48, 'C#2': 49, 'D2': 50, 'D#2': 51, 'E2': 52,\n    'F2': 53, 'F#2': 54, 'G2': 55, 'G#2': 56, 'A2': 57, 'A#2': 58, 'B2': 59,\n    'C3': 60, 'C#3': 61, 'D3': 62, 'D#3': 63, 'E3': 64, 'F3': 65, 'F#3': 66, 'G3': 67, 'G#3': 68,\n    'A3': 69, 'A#3': 70, 'B3': 71, 'C4': 72, 'C#4': 73, 'D4': 74, 'D#4': 75, 'E4': 76, 'F4': 77,\n    'F#4': 78, 'G4': 79, 'G#4': 80, 'A4': 81, 'A#4': 82, 'B4': 83\n  };\n  let midiNote = noteToMidi[note];\n\n  if (output && midiNote) {\n    let noteOnMessage = [0x90, midiNote, velocity];  // 0x90 表示 Note On，后面是音符和力度\n    let noteOffMessage = [0x80, midiNote, velocity]; // 0x80 表示 Note Off\n    output.send(noteOnMessage);  // 发送 Note On 消息\n    setTimeout(() => output.send(noteOffMessage), 500);  // 延时 500ms 后发送 Note Off\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "670cac9e3da0bf72851faf4a",
        "createdAt": "2024-10-14T05:31:51.983Z",
        "updatedAt": "2024-10-14T05:31:51.983Z",
        "id": "670cac9e3da0bf72851faf4a"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670cac9e3da0bf72851faf49",
        "createdAt": "2024-10-14T05:31:51.983Z",
        "updatedAt": "2024-10-14T05:31:51.983Z",
        "id": "670cac9e3da0bf72851faf49"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670cac9e3da0bf72851faf4b",
        "createdAt": "2024-10-14T05:31:51.983Z",
        "updatedAt": "2024-10-14T05:31:51.983Z",
        "id": "670cac9e3da0bf72851faf4b"
      }
    ],
    "createdAt": "2024-10-14T05:31:10.498Z",
    "updatedAt": "2024-10-14T05:31:51.983Z",
    "id": "avs78Chya"
  },
  {
    "_id": "1njsbbUrk",
    "name": "RTM Midterm Project 6_Button Play",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "670cacd23da0bf72851faf4d",
          "670cacd23da0bf72851faf4e",
          "670cacd23da0bf72851faf4f"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "670cacd23da0bf72851faf4c",
        "createdAt": "2024-10-15T21:46:37.541Z",
        "updatedAt": "2024-10-15T21:46:37.541Z",
        "id": "670cacd23da0bf72851faf4c"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nlet lowNotes = ['B3', 'A#3', 'E1', 'A3', 'B2', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#2', 'D1', 'G2', 'F#2', \n                'C2', 'G#1', 'F#1', 'C#2', 'D2', 'E2', 'C1', 'G#2', 'A#1', 'D#1', 'A2', 'B1'];\nlet highNotes = ['A4', 'D#3', 'B4', 'A#4', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'A5', 'G#3', 'G4', 'C#3', 'D4', \n                 'C3', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'D3', 'B5', 'C5', 'A#5', 'D#4', 'C#5'];\n\nlet synth = new p5.PolySynth();\nlet displayedLetters = [];\nlet currentX = 100;  // 当前字母的X位置\nlet currentStaffGroup = 0;  // 当前五线谱组索引\n\nlet midiAccess;  // MIDI 访问对象\nlet output;      // MIDI 输出对象\n\nlet currentNoteIndex = 0; // 添加一个索引来跟踪当前音符\n\nfunction setup() {\n  createCanvas(800, 1400);  // 修改画布大小为800x1400，保持9:16比例\n  textSize(32);\n  textAlign(CENTER, CENTER);\n\n  // 请求 MIDI 访问\n  if (navigator.requestMIDIAccess) {\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n  } else {\n    console.log(\"Web MIDI API not supported.\");\n  }\n}\n\nfunction onMIDISuccess(midi) {\n  midiAccess = midi;\n  const outputs = midiAccess.outputs;\n  output = outputs.values().next().value;  // 获取第一个输出设备\n  console.log(\"MIDI output device:\", output);\n}\n\nfunction onMIDIFailure() {\n  console.log(\"Failed to access MIDI devices.\");\n}\n\nfunction draw() {\n  background(255);\n  \n  // 绘制所有五线谱组\n  for (let i = 0; i < 4; i++) {  // 修改为绘制4组五线谱，每组4行\n    let yBase = 100 + i * 320;  // 每组之间的间距\n    drawStaffGroup(yBase);\n  }\n  \n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x, letterData.y);  // 保留大小写字母\n  }\n}\n\nfunction drawStaffGroup(yBase) {\n  // 高音谱表\n  drawStaff(yBase);\n  textSize(130);\n  text('𝄞', 50, yBase + 35);\n\n  // 低音谱表\n  drawStaff(yBase + 140);\n  textSize(90);\n  text('𝄢', 55, yBase + 185);\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\nfunction mapNoteToY(note, staffGroup) {\n  let noteToY = {\n    'A#1': 375, 'B1': 370, 'C1': 360, 'C#1': 355, 'D1': 350, 'D#1': 345, 'E1': 340,\n    'F1': 330, 'F#1': 325, 'G1': 320, 'G#1': 315, 'A2': 310, 'A#2': 305, 'B2': 300,\n    'C2': 290, 'C#2': 285, 'D2': 280, 'D#2': 275, 'E2': 270, 'F2': 260, 'F#2': 255, 'G2': 250,\n    'G#2': 245, 'A3': 240, 'A#3': 235, 'B3': 230,\n\n    // 高音谱表映射\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180, 'F3': 170, 'F#3': 165, 'G3': 160, \n    'G#3': 155, 'A4': 150, 'A#4': 145, 'B4': 140, 'C4': 130, 'C#4': 125, 'D4': 120, 'D#4': 115, \n    'E4': 110, 'F4': 100, 'F#4': 95, 'G4': 90, 'G#4': 85, 'A5': 80, 'A#5': 75, 'B5': 70, 'C5': 60, \n    'C#5': 55\n  };\n  \n  // 基于当前五线谱组的位置进行偏移\n  return (noteToY[note] || 220) + staffGroup * 320;  // 每组的偏移调整为320\n}\n\nfunction keyPressed() {\n  // 检测是否按下空格键\n  if (keyCode === 32) {  // 空格键\n    currentNoteIndex = 0;  // 重置索引以便从头播放\n    playNotesInOrder();\n    return;  // 不继续处理其他按键\n  }\n\n  // 检测是否按下 Delete 或 Backspace 键\n  if (keyCode === DELETE || keyCode === BACKSPACE) {\n    // 如果有字母被输入\n    if (displayedLetters.length > 0) {\n      // 移除最后一个输入的字母\n      displayedLetters.pop();\n      \n      // 更新当前 X 位置和五线谱组\n      currentX -= 20;\n      if (currentX < 100) {\n        currentX = 700;  // 返回上一行的末尾\n        currentStaffGroup--;  // 切换回上一组五线谱\n        if (currentStaffGroup < 0) currentStaffGroup = 3;  // 如果超出范围则回到最后一组\n      }\n    }\n    return;  // 不继续处理其他按键\n  }\n\n  let index = letters.indexOf(key);\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n    }\n\n    // 计算当前字母的 Y 位置和五线谱组\n    let yPosition = mapNoteToY(noteOut, currentStaffGroup);\n\n    // 将字母推入数组，记录字母的 X 和 Y 位置\n    displayedLetters.push({\n      letter: key,\n      x: currentX,\n      y: yPosition\n    });\n\n    // 播放音符\n    synth.play(noteOut, 0.5, 0, 0.5);\n    sendMidiNote(noteOut, 1);  // 发送 MIDI 音符\n\n    // 更新 X 位置\n    currentX += 20;\n\n    // 如果 X 位置超过画布宽度，换到下一行\n    if (currentX > 700) {\n      currentX = 100;  // 重置 X 位置\n      currentStaffGroup++;  // 切换到下一组五线谱\n      if (currentStaffGroup > 3) currentStaffGroup = 0;  // 循环回第一组\n    }\n  }\n}\n\nfunction playNotesInOrder() {\n  if (currentNoteIndex < displayedLetters.length) {\n    let noteOut;\n\n    // 根据字母确定音符\n    let index = letters.indexOf(displayedLetters[currentNoteIndex].letter);\n    if (index !== -1) {\n      if (displayedLetters[currentNoteIndex].letter === displayedLetters[currentNoteIndex].letter.toLowerCase()) {\n        noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n      } else {\n        noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n      }\n\n      // 播放音符\n      synth.play(noteOut, 0.5, 0, 0.5);\n      sendMidiNote(noteOut, 1);  // 发送 MIDI 音符\n\n      // 增加延迟后播放下一个音符\n      setTimeout(() => {\n        currentNoteIndex++; // 移动到下一个音符\n        playNotesInOrder(); // 递归调用播放下一个音符\n      }, 350);  // 延迟350毫秒\n    }\n  } else {\n    // 如果已播放所有音符，重置索引以便再次播放\n    currentNoteIndex = 0;\n  }\n}\n\nfunction sendMidiNote(note, velocity) {\n  // MIDI 音符映射\n  const noteMapping = {\n    'C1': 36, 'C#1': 37, 'D1': 38, 'D#1': 39, 'E1': 40, 'F1': 41, 'F#1': 42, 'G1': 43,\n    'G#1': 44, 'A1': 45, 'A#1': 46, 'B1': 47, 'C2': 48, 'C#2': 49, 'D2': 50, 'D#2': 51,\n    'E2': 52, 'F2': 53, 'F#2': 54, 'G2': 55, 'G#2': 56, 'A2': 57, 'A#2': 58, 'B2': 59,\n    'C3': 60, 'C#3': 61, 'D3': 62, 'D#3': 63, 'E3': 64, 'F3': 65, 'F#3': 66, 'G3': 67,\n    'G#3': 68, 'A3': 69, 'A#3': 70, 'B3': 71, 'C4': 72, 'C#4': 73, 'D4': 74, 'D#4': 75,\n    'E4': 76, 'F4': 77, 'F#4': 78, 'G4': 79, 'G#4': 80, 'A4': 81, 'A#4': 82, 'B4': 83,\n    'C5': 84, 'C#5': 85, 'D5': 86, 'D#5': 87, 'E5': 88, 'F5': 89, 'F#5': 90, 'G5': 91,\n    'G#5': 92, 'A5': 93, 'A#5': 94, 'B5': 95\n  };\n\n  let midiNote = noteMapping[note];\n\n  if (midiNote && output) {\n    output.send([0x90, midiNote, velocity]); // MIDI Note On\n    output.send([0x80, midiNote, 0]);       // MIDI Note Off\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "670cacd23da0bf72851faf4e",
        "createdAt": "2024-10-15T21:46:37.541Z",
        "updatedAt": "2024-10-15T21:46:37.541Z",
        "id": "670cacd23da0bf72851faf4e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670cacd23da0bf72851faf4d",
        "createdAt": "2024-10-15T21:46:37.541Z",
        "updatedAt": "2024-10-15T21:46:37.541Z",
        "id": "670cacd23da0bf72851faf4d"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670cacd23da0bf72851faf4f",
        "createdAt": "2024-10-15T21:46:37.541Z",
        "updatedAt": "2024-10-15T21:46:37.541Z",
        "id": "670cacd23da0bf72851faf4f"
      }
    ],
    "createdAt": "2024-10-14T05:32:02.127Z",
    "updatedAt": "2024-10-15T21:46:37.541Z",
    "id": "1njsbbUrk"
  },
  {
    "_id": "_Kh7S_xYp",
    "name": "RTM Midterm Project 7_Instrument Switch",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "670ea6f585be4d51c23b348b",
          "670ea6f585be4d51c23b348c",
          "670ea6f585be4d51c23b348d"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "670ea6f585be4d51c23b348a",
        "createdAt": "2024-10-15T17:36:23.282Z",
        "updatedAt": "2024-10-15T17:36:23.282Z",
        "id": "670ea6f585be4d51c23b348a"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nlet lowNotes = ['B3', 'A#3', 'E1', 'A3', 'B2', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#2', 'D1', 'G2', 'F#2', \n                'C2', 'G#1', 'F#1', 'C#2', 'D2', 'E2', 'C1', 'G#2', 'A#1', 'D#1', 'A2', 'B1'];\nlet highNotes = ['A4', 'D#3', 'B4', 'A#4', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'A5', 'G#3', 'G4', 'C#3', 'D4', \n                 'C3', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'D3', 'B5', 'C5', 'A#5', 'D#4', 'C#5'];\n\nlet synth = new p5.PolySynth();\nlet displayedLetters = [];\nlet currentX = 100;  // 当前字母的X位置\nlet currentStaffGroup = 0;  // 当前五线谱组索引\n\nlet midiAccess;  // MIDI 访问对象\nlet output;      // MIDI 输出对象\n\nlet currentNoteIndex = 0; // 添加一个索引来跟踪当前音符\n\nfunction setup() {\n  createCanvas(800, 1400);  // 修改画布大小为800x1400，保持9:16比例\n  textSize(32);\n  textAlign(CENTER, CENTER);\n\n  // 请求 MIDI 访问\n  if (navigator.requestMIDIAccess) {\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n  } else {\n    console.log(\"Web MIDI API not supported.\");\n  }\n}\n\nfunction onMIDISuccess(midi) {\n  midiAccess = midi;\n  const outputs = midiAccess.outputs;\n  output = outputs.values().next().value;  // 获取第一个输出设备\n  console.log(\"MIDI output device:\", output);\n}\n\nfunction onMIDIFailure() {\n  console.log(\"Failed to access MIDI devices.\");\n}\n\nfunction draw() {\n  background(255);\n  \n  // 绘制所有五线谱组\n  for (let i = 0; i < 4; i++) {  // 修改为绘制4组五线谱，每组4行\n    let yBase = 100 + i * 320;  // 每组之间的间距\n    drawStaffGroup(yBase);\n  }\n  \n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x, letterData.y);  // 保留大小写字母\n  }\n}\n\nfunction drawStaffGroup(yBase) {\n  // 高音谱表\n  drawStaff(yBase);\n  textSize(130);\n  text('𝄞', 50, yBase + 35);\n\n  // 低音谱表\n  drawStaff(yBase + 140);\n  textSize(90);\n  text('𝄢', 55, yBase + 185);\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\nfunction mapNoteToY(note, staffGroup) {\n  let noteToY = {\n    'A#1': 375, 'B1': 370, 'C1': 360, 'C#1': 355, 'D1': 350, 'D#1': 345, 'E1': 340,\n    'F1': 330, 'F#1': 325, 'G1': 320, 'G#1': 315, 'A2': 310, 'A#2': 305, 'B2': 300,\n    'C2': 290, 'C#2': 285, 'D2': 280, 'D#2': 275, 'E2': 270, 'F2': 260, 'F#2': 255, 'G2': 250,\n    'G#2': 245, 'A3': 240, 'A#3': 235, 'B3': 230,\n\n    // 高音谱表映射\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180, 'F3': 170, 'F#3': 165, 'G3': 160, \n    'G#3': 155, 'A4': 150, 'A#4': 145, 'B4': 140, 'C4': 130, 'C#4': 125, 'D4': 120, 'D#4': 115, \n    'E4': 110, 'F4': 100, 'F#4': 95, 'G4': 90, 'G#4': 85, 'A5': 80, 'A#5': 75, 'B5': 70, 'C5': 60, \n    'C#5': 55\n  };\n  \n  // 基于当前五线谱组的位置进行偏移\n  return (noteToY[note] || 220) + staffGroup * 320;  // 每组的偏移调整为320\n}\n\nfunction keyPressed() {\n  // 检测是否按下空格键\n  if (keyCode === 32) {  // 空格键\n    currentNoteIndex = 0;  // 重置索引以便从头播放\n    playNotesInOrder();\n    return;  // 不继续处理其他按键\n  }\n\n  // 检测是否按下 Delete 或 Backspace 键\n  if (keyCode === DELETE || keyCode === BACKSPACE) {\n    // 如果有字母被输入\n    if (displayedLetters.length > 0) {\n      // 移除最后一个输入的字母\n      displayedLetters.pop();\n      \n      // 更新当前 X 位置和五线谱组\n      currentX -= 20;\n      if (currentX < 100) {\n        currentX = 700;  // 返回上一行的末尾\n        currentStaffGroup--;  // 切换回上一组五线谱\n        if (currentStaffGroup < 0) currentStaffGroup = 3;  // 如果超出范围则回到最后一组\n      }\n    }\n    return;  // 不继续处理其他按键\n  }\n\n  let index = letters.indexOf(key);\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n      sendMidiNote(noteOut, 127, 1);  // 小写字母发送到通道1\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n      sendMidiNote(noteOut, 127, 2);  // 大写字母发送到通道2\n    }\n\n    // 计算当前字母的 Y 位置和五线谱组\n    let yPosition = mapNoteToY(noteOut, currentStaffGroup);\n\n    // 将字母推入数组，记录字母的 X 和 Y 位置\n    displayedLetters.push({\n      letter: key,\n      x: currentX,\n      y: yPosition\n    });\n\n    // 播放音符\n    synth.play(noteOut, 0.5, 0, 0.5);\n\n    // 更新 X 位置\n    currentX += 20;\n\n    // 如果 X 位置超过画布宽度，换到下一行\n    if (currentX > 700) {\n      currentX = 100;  // 重置 X 位置\n      currentStaffGroup++;  // 切换到下一组五线谱\n      if (currentStaffGroup > 3) currentStaffGroup = 0;  // 循环回第一组\n    }\n  }\n}\n\nfunction playNotesInOrder() {\n  if (currentNoteIndex < displayedLetters.length) {\n    let noteOut;\n\n    // 根据字母确定音符\n    let index = letters.indexOf(displayedLetters[currentNoteIndex].letter);\n    if (index !== -1) {\n      if (displayedLetters[currentNoteIndex].letter === displayedLetters[currentNoteIndex].letter.toLowerCase()) {\n        noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n        sendMidiNote(noteOut, 127, 1);  // 发送到通道1\n      } else {\n        noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n        sendMidiNote(noteOut, 127, 2);  // 发送到通道2\n      }\n\n      // 播放音符\n      synth.play(noteOut, 0.5, 0, 0.5);\n\n      // 递增索引并延迟播放下一个音符\n      currentNoteIndex++;\n      setTimeout(playNotesInOrder, 300);\n    }\n  }\n}\n\nfunction sendMidiNote(note, velocity, channel) {\n  // MIDI 音符映射\n  const noteMapping = {\n    'C1': 36, 'C#1': 37, 'D1': 38, 'D#1': 39, 'E1': 40, 'F1': 41, 'F#1': 42, 'G1': 43,\n    'G#1': 44, 'A1': 45, 'A#1': 46, 'B1': 47, 'C2': 48, 'C#2': 49, 'D2': 50, 'D#2': 51,\n    'E2': 52, 'F2': 53, 'F#2': 54, 'G2': 55, 'G#2': 56, 'A2': 57, 'A#2': 58, 'B2': 59,\n    'C3': 60, 'C#3': 61, 'D3': 62, 'D#3': 63, 'E3': 64, 'F3': 65, 'F#3': 66, 'G3': 67,\n    'G#3': 68, 'A3': 69, 'A#3': 70, 'B3': 71, 'C4': 72, 'C#4': 73, 'D4': 74, 'D#4': 75,\n    'E4': 76, 'F4': 77, 'F#4': 78, 'G4': 79, 'G#4': 80, 'A4': 81, 'A#4': 82, 'B4': 83,\n    'C5': 84, 'C#5': 85, 'D5': 86, 'D#5': 87, 'E5': 88, 'F5': 89, 'F#5': 90, 'G5': 91,\n    'G#5': 92, 'A5': 93, 'A#5': 94, 'B5': 95\n  };\n\n  let midiNote = noteMapping[note];\n  \n  if (midiNote && output) {\n    let statusByte = 0x90 | (channel - 1);  // 根据通道设置状态字节\n    output.send([statusByte, midiNote, velocity]); // Note On with channel\n    output.send([statusByte & 0xF0, midiNote, 0]); // Note Off\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "670ea6f585be4d51c23b348c",
        "createdAt": "2024-10-15T17:36:23.282Z",
        "updatedAt": "2024-10-15T17:36:23.282Z",
        "id": "670ea6f585be4d51c23b348c"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670ea6f585be4d51c23b348b",
        "createdAt": "2024-10-15T17:36:23.282Z",
        "updatedAt": "2024-10-15T17:36:23.282Z",
        "id": "670ea6f585be4d51c23b348b"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670ea6f585be4d51c23b348d",
        "createdAt": "2024-10-15T17:36:23.282Z",
        "updatedAt": "2024-10-15T17:36:23.282Z",
        "id": "670ea6f585be4d51c23b348d"
      }
    ],
    "createdAt": "2024-10-15T17:31:33.606Z",
    "updatedAt": "2024-10-15T17:36:23.282Z",
    "id": "_Kh7S_xYp"
  },
  {
    "_id": "YccXNX30h",
    "name": "RTM Midterm Project 8_Symbol",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "670eafc085be4d51c23b348f",
          "670eafc085be4d51c23b3490",
          "670eafc085be4d51c23b3491"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "670eafc085be4d51c23b348e",
        "createdAt": "2024-10-15T19:20:45.730Z",
        "updatedAt": "2024-10-15T19:20:45.730Z",
        "id": "670eafc085be4d51c23b348e"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nlet lowNotes = ['B3', 'A#3', 'E1', 'A3', 'B2', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#2', 'D1', 'G2', 'F#2', \n                'C2', 'G#1', 'F#1', 'C#2', 'D2', 'E2', 'C1', 'G#2', 'A#1', 'D#1', 'A2', 'B1'];\nlet highNotes = ['A4', 'D#3', 'B4', 'A#4', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'A5', 'G#3', 'G4', 'C#3', 'D4', \n                 'C3', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'D3', 'B5', 'C5', 'A#5', 'D#4', 'C#5'];\n\nlet synth = new p5.PolySynth();\nlet displayedLetters = [];\nlet currentX = 100;  // 当前字母的X位置\nlet currentStaffGroup = 0;  // 当前五线谱组索引\n\nlet midiAccess;  // MIDI 访问对象\nlet output;      // MIDI 输出对象\n\nlet currentNoteIndex = 0; // 添加一个索引来跟踪当前音符\n\nfunction setup() {\n  createCanvas(800, 1400);  // 修改画布大小为800x1400，保持9:16比例\n  textSize(32);\n  textAlign(CENTER, CENTER);\n\n  // 请求 MIDI 访问\n  if (navigator.requestMIDIAccess) {\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n  } else {\n    console.log(\"Web MIDI API not supported.\");\n  }\n}\n\nfunction onMIDISuccess(midi) {\n  midiAccess = midi;\n  const outputs = midiAccess.outputs;\n  output = outputs.values().next().value;  // 获取第一个输出设备\n  console.log(\"MIDI output device:\", output);\n}\n\nfunction onMIDIFailure() {\n  console.log(\"Failed to access MIDI devices.\");\n}\n\nfunction draw() {\n  background(255);\n  \n  // 绘制所有五线谱组\n  for (let i = 0; i < 4; i++) {  // 修改为绘制4组五线谱，每组4行\n    let yBase = 100 + i * 320;  // 每组之间的间距\n    drawStaffGroup(yBase);\n  }\n  \n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x, letterData.y);  // 保留大小写字母\n  }\n}\n\nfunction drawStaffGroup(yBase) {\n  // 高音谱表\n  drawStaff(yBase);\n  textSize(130);\n  text('𝄞', 50, yBase + 35);\n\n  // 低音谱表\n  drawStaff(yBase + 140);\n  textSize(90);\n  text('𝄢', 55, yBase + 185);\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\nfunction mapNoteToY(note, staffGroup) {\n  let noteToY = {\n    'A#1': 375, 'B1': 370, 'C1': 360, 'C#1': 355, 'D1': 350, 'D#1': 345, 'E1': 340,\n    'F1': 330, 'F#1': 325, 'G1': 320, 'G#1': 315, 'A2': 310, 'A#2': 305, 'B2': 300,\n    'C2': 290, 'C#2': 285, 'D2': 280, 'D#2': 275, 'E2': 270, 'F2': 260, 'F#2': 255, 'G2': 250,\n    'G#2': 245, 'A3': 240, 'A#3': 235, 'B3': 230,\n\n    // 高音谱表映射\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180, 'F3': 170, 'F#3': 165, 'G3': 160, \n    'G#3': 155, 'A4': 150, 'A#4': 145, 'B4': 140, 'C4': 130, 'C#4': 125, 'D4': 120, 'D#4': 115, \n    'E4': 110, 'F4': 100, 'F#4': 95, 'G4': 90, 'G#4': 85, 'A5': 80, 'A#5': 75, 'B5': 70, 'C5': 60, \n    'C#5': 55\n  };\n  \n  // 基于当前五线谱组的位置进行偏移\n  return (noteToY[note] || 220) + staffGroup * 320;  // 每组的偏移调整为320\n}\n\nfunction keyPressed() {\n  // 检测是否按下空格键\n  if (keyCode === 32) {  // 空格键\n    currentNoteIndex = 0;  // 重置索引以便从头播放\n    playNotesInOrder();\n    return;  // 不继续处理其他按键\n  }\n\n  // 检测是否按下 Delete 或 Backspace 键\n  if (keyCode === DELETE || keyCode === BACKSPACE) {\n    if (displayedLetters.length > 0) {\n      // 移除最后一个输入的字母\n      displayedLetters.pop();\n      \n      currentX -= 20;\n      if (currentX < 100) {\n        currentX = 700;  // 返回上一行的末尾\n        currentStaffGroup--;  // 切换回上一组五线谱\n        if (currentStaffGroup < 0) currentStaffGroup = 3;  // 如果超出范围则回到最后一组\n      }\n    }\n    return;  // 不继续处理其他按键\n  }\n\n  let index = letters.indexOf(key);\n\n  // 处理特殊符号 \"/\"\n  if (key === '/') {\n    handleSpecialCharacter('/', 'C4', 2);\n    return; // 不继续处理其他按键\n  }\n\n  // 处理特殊符号 \"!\"\n  if (key === '!') {\n    handleSpecialCharacter('!', 'D4', 3);\n    return;\n  }\n\n  // 处理特殊符号 \"?\"\n  if (key === '?') {\n    handleSpecialCharacter('?', 'E4', 4);\n    return;\n  }\n\n  // 处理普通字母\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n      sendMidiNote(noteOut, 127, 0);  // 小写字母发送到通道1\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n      sendMidiNote(noteOut, 127, 1);  // 大写字母发送到通道2\n    }\n\n    // 计算当前字母的 Y 位置和五线谱组\n    let yPosition = mapNoteToY(noteOut, currentStaffGroup);\n\n    // 将字母推入数组，记录字母的 X 和 Y 位置\n    displayedLetters.push({\n      letter: key,\n      x: currentX,\n      y: yPosition\n    });\n\n    // 播放音符\n    synth.play(noteOut, 0.5, 0, 0.5);\n\n    // 更新 X 位置\n    currentX += 20;\n\n    // 如果 X 位置超过画布宽度，换到下一行\n    if (currentX > 700) {\n      currentX = 100;  // 重置 X 位置\n      currentStaffGroup++;  // 切换到下一组五线谱\n      if (currentStaffGroup > 3) currentStaffGroup = 0;  // 循环回第一组\n    }\n  }\n}\n\n// 处理特殊字符的函数\nfunction handleSpecialCharacter(character, note, channel) {\n  sendMidiNote(note, 127, channel); // 发送 MIDI 信号\n\n  // 获取上一个字母的 Y 位置\n  let lastLetterY = displayedLetters.length > 0 ? displayedLetters[displayedLetters.length - 1].y : mapNoteToY(note, currentStaffGroup);\n\n    if (currentX == 100 && currentStaffGroup > 0) {\n    lastLetterY += 320; // Move down if at the end of the line\n  }\n  \n  // 将特殊字符推入数组\n  displayedLetters.push({\n    letter: character,\n    x: currentX, // 当前X位置\n    y: lastLetterY  // Y位置与前一个字母保持一致\n  });\n\n  // 更新 X 位置\n  currentX += 20; // 增加X位置\n\n  // 检查当前字符是否在行末，如果是，则换行\n  if (currentX > 700) {\n    currentX = 100;  // 重置 X 位置\n    currentStaffGroup++;  // 切换到下一组五线谱\n    if (currentStaffGroup > 3) currentStaffGroup = 0;  // 循环回第一组\n  }\n}\n\n// 发送 MIDI 音符的函数\nfunction sendMidiNote(note, velocity, channel) {\n  if (output) {\n    const noteNumber = getNoteNumber(note);\n    output.send([0x90 + channel, noteNumber, velocity]);  // Note On\n  }\n}\n\n// 获取 MIDI 音符编号的函数\nfunction getNoteNumber(note) {\n  const noteMap = {\n    'C0': 12, 'C#0': 13, 'D0': 14, 'D#0': 15, 'E0': 16, 'F0': 17, 'F#0': 18, 'G0': 19, \n    'G#0': 20, 'A0': 21, 'A#0': 22, 'B0': 23, 'C1': 24, 'C#1': 25, 'D1': 26, 'D#1': 27, \n    'E1': 28, 'F1': 29, 'F#1': 30, 'G1': 31, 'G#1': 32, 'A1': 33, 'A#1': 34, 'B1': 35, \n    'C2': 48, 'C#2': 49, 'D2': 50, 'D#2': 51, 'E2': 52, 'F2': 53, 'F#2': 54, 'G2': 55, \n    'G#2': 56, 'A2': 57, 'A#2': 58, 'B2': 59, 'C3': 60, 'C#3': 61, 'D3': 62, 'D#3': 63, \n    'E3': 64, 'F3': 65, 'F#3': 66, 'G3': 67, 'G#3': 68, 'A3': 69, 'A#3': 70, 'B3': 71, \n    'C4': 72, 'C#4': 73, 'D4': 74, 'D#4': 75, 'E4': 76, 'F4': 77, 'F#4': 78, 'G4': 79, \n    'G#4': 80, 'A4': 81, 'A#4': 82, 'B4': 83, 'C5': 84, 'C#5': 85, 'D5': 86, 'D#5': 87, \n    'E5': 88, 'F5': 89, 'F#5': 90, 'G5': 91, 'G#5': 92, 'A5': 93, 'A#5': 94, 'B5': 95,\n  };\n  return noteMap[note] || 0;  // 返回音符编号或默认值\n}\n\n// 播放音符的顺序\nfunction playNotesInOrder() {\n  if (currentNoteIndex < displayedLetters.length) {\n    let letterData = displayedLetters[currentNoteIndex];\n    let note = letterData.letter.toUpperCase(); // 使用大写字母来映射音符\n    let noteOut;\n\n    if (lowNotes.includes(note)) {\n      noteOut = lowNotes[lowNotes.indexOf(note)];\n      sendMidiNote(noteOut, 127, 1);  // 小写字母发送到通道1\n    } else if (highNotes.includes(note)) {\n      noteOut = highNotes[highNotes.indexOf(note)];\n      sendMidiNote(noteOut, 127, 2);  // 大写字母发送到通道2\n    }\n\n    synth.play(noteOut, 0.5, 0, 0.5);\n    currentNoteIndex++;\n    setTimeout(playNotesInOrder, 600);  // 调整音符之间的延迟\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "670eafc085be4d51c23b3490",
        "createdAt": "2024-10-15T19:20:45.730Z",
        "updatedAt": "2024-10-15T19:20:45.730Z",
        "id": "670eafc085be4d51c23b3490"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670eafc085be4d51c23b348f",
        "createdAt": "2024-10-15T19:20:45.730Z",
        "updatedAt": "2024-10-15T19:20:45.730Z",
        "id": "670eafc085be4d51c23b348f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670eafc085be4d51c23b3491",
        "createdAt": "2024-10-15T19:20:45.730Z",
        "updatedAt": "2024-10-15T19:20:45.730Z",
        "id": "670eafc085be4d51c23b3491"
      }
    ],
    "createdAt": "2024-10-15T18:09:04.725Z",
    "updatedAt": "2024-10-15T19:20:45.730Z",
    "id": "YccXNX30h"
  },
  {
    "_id": "SHCoYeoep",
    "name": "RTM Midterm Project 9_Tone",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "670ec0a185be4d51c23b349b",
          "670ec0a185be4d51c23b349c",
          "670ec0a185be4d51c23b349d"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "670ec0a185be4d51c23b349a",
        "createdAt": "2024-10-18T02:35:50.836Z",
        "updatedAt": "2024-10-18T02:35:50.836Z",
        "id": "670ec0a185be4d51c23b349a"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nlet lowNotes = ['B3', 'A#3', 'E1', 'A3', 'B2', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#2', 'D1', 'G2', 'F#2', \n                'C2', 'G#1', 'F#1', 'C#2', 'D2', 'E2', 'C1', 'G#2', 'A#1', 'D#1', 'A2', 'B1'];\nlet highNotes = ['A4', 'D#3', 'B4', 'A#4', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'A5', 'G#3', 'G4', 'C#3', 'D4', \n                 'C3', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'D3', 'B5', 'C5', 'A#5', 'D#4', 'C#5'];\n\nlet synth = new p5.PolySynth();\nlet displayedLetters = [];\nlet currentX = 100;  // 当前字母的X位置\nlet currentStaffGroup = 0;  // 当前五线谱组索引\n\nlet midiAccess;  // MIDI 访问对象\nlet output;      // MIDI 输出对象\n\nlet currentNoteIndex = 0; // 添加一个索引来跟踪当前音符\n\nfunction setup() {\n  createCanvas(800, 1400);  // 修改画布大小为800x1400，保持9:16比例\n  textSize(32);\n  textAlign(CENTER, CENTER);\n\n  // 请求 MIDI 访问\n  if (navigator.requestMIDIAccess) {\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n  } else {\n    console.log(\"Web MIDI API not supported.\");\n  }\n}\n\nfunction onMIDISuccess(midi) {\n  midiAccess = midi;\n  const outputs = midiAccess.outputs;\n  output = outputs.values().next().value;  // 获取第一个输出设备\n  console.log(\"MIDI output device:\", output);\n}\n\nfunction onMIDIFailure() {\n  console.log(\"Failed to access MIDI devices.\");\n}\n\nfunction draw() {\n  background(255);\n  \n  // 绘制所有五线谱组\n  for (let i = 0; i < 4; i++) {  // 修改为绘制4组五线谱，每组4行\n    let yBase = 100 + i * 320;  // 每组之间的间距\n    drawStaffGroup(yBase);\n  }\n  \n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x, letterData.y);  // 保留大小写字母\n  }\n}\n\nfunction drawStaffGroup(yBase) {\n  // 高音谱表\n  drawStaff(yBase);\n  textSize(130);\n  text('𝄞', 50, yBase + 35);\n\n  // 低音谱表\n  drawStaff(yBase + 140);\n  textSize(90);\n  text('𝄢', 55, yBase + 185);\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\nfunction mapNoteToY(note, staffGroup) {\n  let noteToY = {\n    'A#1': 375, 'B1': 370, 'C1': 360, 'C#1': 355, 'D1': 350, 'D#1': 345, 'E1': 340,\n    'F1': 330, 'F#1': 325, 'G1': 320, 'G#1': 315, 'A2': 310, 'A#2': 305, 'B2': 300,\n    'C2': 290, 'C#2': 285, 'D2': 280, 'D#2': 275, 'E2': 270, 'F2': 260, 'F#2': 255, 'G2': 250,\n    'G#2': 245, 'A3': 240, 'A#3': 235, 'B3': 230,\n\n    // 高音谱表映射\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180, 'F3': 170, 'F#3': 165, 'G3': 160, \n    'G#3': 155, 'A4': 150, 'A#4': 145, 'B4': 140, 'C4': 130, 'C#4': 125, 'D4': 120, 'D#4': 115, \n    'E4': 110, 'F4': 100, 'F#4': 95, 'G4': 90, 'G#4': 85, 'A5': 80, 'A#5': 75, 'B5': 70, 'C5': 60, \n    'C#5': 55\n  };\n  \n  // 基于当前五线谱组的位置进行偏移\n  return (noteToY[note] || 220) + staffGroup * 320;  // 每组的偏移调整为320\n}\n\nfunction keyPressed() {\n  // 检测是否按下空格键\n  if (keyCode === 32) {  // 空格键\n    currentNoteIndex = 0;  // 重置索引以便从头播放\n    playNotesInOrder();\n    return;  // 不继续处理其他按键\n  }\n\n  // 检测是否按下 Delete 或 Backspace 键\n  if (keyCode === DELETE || keyCode === BACKSPACE) {\n    if (displayedLetters.length > 0) {\n      // 移除最后一个输入的字母\n      displayedLetters.pop();\n      \n      currentX -= 20;\n      if (currentX < 100) {\n        currentX = 700;  // 返回上一行的末尾\n        currentStaffGroup--;  // 切换回上一组五线谱\n        if (currentStaffGroup < 0) currentStaffGroup = 3;  // 如果超出范围则回到最后一组\n      }\n    }\n    return;  // 不继续处理其他按键\n  }\n\n  let index = letters.indexOf(key);\n\n  // 处理特殊符号 \"/\"\n  if (key === '/') {\n    handleSpecialCharacter('/', 'C4', 2);\n    return; // 不继续处理其他按键\n  }\n\n  // 处理特殊符号 \"!\"\n  if (key === '!') {\n    handleSpecialCharacter('!', 'D4', 3);\n    return;\n  }\n\n  // 处理特殊符号 \"?\"\n  if (key === '?') {\n    handleSpecialCharacter('?', 'E4', 4);\n    return;\n  }\n\n  // 处理普通字母\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n      sendMidiNote(noteOut, 127, 0);  // 小写字母发送到通道1\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n      sendMidiNote(noteOut, 127, 1);  // 大写字母发送到通道2\n    }\n\n    // 计算当前字母的 Y 位置和五线谱组\n    let yPosition = mapNoteToY(noteOut, currentStaffGroup);\n\n    // 将字母推入数组，记录字母的 X 和 Y 位置\n    displayedLetters.push({\n      letter: key,\n      x: currentX,\n      y: yPosition\n    });\n\n    // 播放音符\n    synth.play(noteOut, 0.5, 0, 0.5);\n\n    // 更新 X 位置\n    currentX += 20;\n\n    // 如果 X 位置超过画布宽度，换到下一行\n    if (currentX > 700) {\n      currentX = 100;  // 重置 X 位置\n      currentStaffGroup++;  // 切换到下一组五线谱\n      if (currentStaffGroup > 3) currentStaffGroup = 0;  // 循环回第一组\n    }\n  }\n}\n\n// 处理特殊字符的函数\nfunction handleSpecialCharacter(character, note, channel) {\n  sendMidiNote(note, 127, channel); // 发送 MIDI 信号\n\n  // 获取上一个字母的 Y 位置\n  let lastLetterY = displayedLetters.length > 0 ? displayedLetters[displayedLetters.length - 1].y : mapNoteToY(note, currentStaffGroup);\n\n    if (currentX == 100 && currentStaffGroup > 0) {\n    lastLetterY += 320; // Move down if at the end of the line\n  }\n  \n  // 将特殊字符推入数组\n  displayedLetters.push({\n    letter: character,\n    x: currentX, // 当前X位置\n    y: lastLetterY  // Y位置与前一个字母保持一致\n  });\n\n  // 更新 X 位置\n  currentX += 20; // 增加X位置\n\n  // 检查当前字符是否在行末，如果是，则换行\n  if (currentX > 700) {\n    currentX = 100;  // 重置 X 位置\n    currentStaffGroup++;  // 切换到下一组五线谱\n    if (currentStaffGroup > 3) currentStaffGroup = 0;  // 循环回第一组\n  }\n}\n\n// 发送 MIDI 音符的函数\nfunction sendMidiNote(note, velocity, channel) {\n  if (output) {\n    const noteNumber = getNoteNumber(note);\n    output.send([0x90 + channel, noteNumber, velocity]);  // Note On\n  }\n}\n\n// 获取 MIDI 音符编号的函数\nfunction getNoteNumber(note) {\n  const noteMap = {\n    'C0': 12, 'C#0': 13, 'D0': 14, 'D#0': 15, 'E0': 16, 'F0': 17, 'F#0': 18, 'G0': 19, \n    'G#0': 20, 'A0': 21, 'A#0': 22, 'B0': 23, 'C1': 24, 'C#1': 25, 'D1': 26, 'D#1': 27, \n    'E1': 28, 'F1': 29, 'F#1': 30, 'G1': 31, 'G#1': 32, 'A1': 33, 'A#1': 34, 'B1': 35, \n    'C2': 48, 'C#2': 49, 'D2': 50, 'D#2': 51, 'E2': 52, 'F2': 53, 'F#2': 54, 'G2': 55, \n    'G#2': 56, 'A2': 57, 'A#2': 58, 'B2': 59, 'C3': 60, 'C#3': 61, 'D3': 62, 'D#3': 63, \n    'E3': 64, 'F3': 65, 'F#3': 66, 'G3': 67, 'G#3': 68, 'A3': 69, 'A#3': 70, 'B3': 71, \n    'C4': 72, 'C#4': 73, 'D4': 74, 'D#4': 75, 'E4': 76, 'F4': 77, 'F#4': 78, 'G4': 79, \n    'G#4': 80, 'A4': 81, 'A#4': 82, 'B4': 83, 'C5': 84, 'C#5': 85, 'D5': 86, 'D#5': 87, \n    'E5': 88, 'F5': 89, 'F#5': 90, 'G5': 91, 'G#5': 92, 'A5': 93, 'A#5': 94, 'B5': 95,\n  };\n  return noteMap[note] || 0;  // 返回音符编号或默认值\n}\n\n// 播放音符的顺序\nfunction playNotesInOrder() {\n  if (currentNoteIndex < displayedLetters.length) {\n    let letterData = displayedLetters[currentNoteIndex];\n    let noteOut;\n\n    // Check if the letter is uppercase or lowercase\n    if (letterData.letter === letterData.letter.toLowerCase()) {\n      // Lowercase letter: map to highNotes and channel 0\n      let noteIndex = letters.indexOf(letterData.letter);\n      noteOut = highNotes[noteIndex % highNotes.length];\n      sendMidiNote(noteOut, 127, 0);  // Channel 0 for high notes\n    } else {\n      // Uppercase letter: map to lowNotes and channel 1\n      let noteIndex = letters.indexOf(letterData.letter);\n      noteOut = lowNotes[noteIndex % lowNotes.length];\n      sendMidiNote(noteOut, 127, 1);  // Channel 1 for low notes\n    }\n\n    // Play the note on the synth\n    synth.play(noteOut, 0.5, 0, 0.5);\n\n    // Move to the next note after a short delay\n    currentNoteIndex++;\n    setTimeout(playNotesInOrder, 500);  // Adjust the delay between notes as needed\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "670ec0a185be4d51c23b349c",
        "createdAt": "2024-10-18T02:35:50.836Z",
        "updatedAt": "2024-10-18T02:35:50.836Z",
        "id": "670ec0a185be4d51c23b349c"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670ec0a185be4d51c23b349b",
        "createdAt": "2024-10-18T02:35:50.836Z",
        "updatedAt": "2024-10-18T02:35:50.836Z",
        "id": "670ec0a185be4d51c23b349b"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "670ec0a185be4d51c23b349d",
        "createdAt": "2024-10-18T02:35:50.836Z",
        "updatedAt": "2024-10-18T02:35:50.836Z",
        "id": "670ec0a185be4d51c23b349d"
      }
    ],
    "createdAt": "2024-10-15T19:21:05.748Z",
    "updatedAt": "2024-10-18T02:35:50.836Z",
    "id": "SHCoYeoep"
  },
  {
    "_id": "Ko_TuAKmn",
    "name": "RTM Midterm Project 9_Tone symbol",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6711ca87be7f5022304f1c5a",
          "6711ca87be7f5022304f1c5b",
          "6711ca87be7f5022304f1c5c"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6711ca87be7f5022304f1c59",
        "createdAt": "2024-10-18T03:03:03.781Z",
        "updatedAt": "2024-10-18T03:03:03.781Z",
        "id": "6711ca87be7f5022304f1c59"
      },
      {
        "name": "sketch.js",
        "content": "let letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nlet lowNotes = ['B3', 'A#3', 'E1', 'A3', 'B2', 'F2', 'G1', 'F1', 'D#2', 'C#1', 'A#2', 'D1', 'G2', 'F#2', \n                'C2', 'G#1', 'F#1', 'C#2', 'D2', 'E2', 'C1', 'G#2', 'A#1', 'D#1', 'A2', 'B1'];\nlet highNotes = ['A4', 'D#3', 'B4', 'A#4', 'C4', 'F#3', 'G3', 'F3', 'C#4', 'A5', 'G#3', 'G4', 'C#3', 'D4', \n                 'C3', 'E3', 'F4', 'G#4', 'F#4', 'E4', 'D3', 'B5', 'C5', 'A#5', 'D#4', 'C#5'];\n\nlet specialCharacters = { '!': 'D4', '?': 'E4', '/': 'C4' };\nlet synth = new p5.PolySynth();\nlet displayedLetters = [];\nlet currentX = 100;  // 当前字母的X位置\nlet currentStaffGroup = 0;  // 当前五线谱组索引\n\nlet midiAccess;  // MIDI 访问对象\nlet output;      // MIDI 输出对象\n\nlet currentNoteIndex = 0; // 添加一个索引来跟踪当前音符\n\nfunction setup() {\n  createCanvas(800, 1400);  // 修改画布大小为800x1400，保持9:16比例\n  textSize(32);\n  textAlign(CENTER, CENTER);\n\n  // 请求 MIDI 访问\n  if (navigator.requestMIDIAccess) {\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n  } else {\n    console.log(\"Web MIDI API not supported.\");\n  }\n}\n\nfunction onMIDISuccess(midi) {\n  midiAccess = midi;\n  const outputs = midiAccess.outputs;\n  output = outputs.values().next().value;  // 获取第一个输出设备\n  console.log(\"MIDI output device:\", output);\n}\n\nfunction onMIDIFailure() {\n  console.log(\"Failed to access MIDI devices.\");\n}\n\nfunction draw() {\n  background(255);\n  \n  // 绘制所有五线谱组\n  for (let i = 0; i < 4; i++) {  // 修改为绘制4组五线谱，每组4行\n    let yBase = 100 + i * 320;  // 每组之间的间距\n    drawStaffGroup(yBase);\n  }\n  \n  // 显示所有已输入的字母\n  for (let i = 0; i < displayedLetters.length; i++) {\n    let letterData = displayedLetters[i];\n    fill(0);\n    textSize(30);\n    text(letterData.letter, letterData.x, letterData.y);  // 保留大小写字母\n  }\n}\n\nfunction drawStaffGroup(yBase) {\n  // 高音谱表\n  drawStaff(yBase);\n  textSize(130);\n  text('𝄞', 50, yBase + 35);\n\n  // 低音谱表\n  drawStaff(yBase + 140);\n  textSize(90);\n  text('𝄢', 55, yBase + 185);\n}\n\nfunction drawStaff(y) {\n  stroke(0);\n  strokeWeight(2);\n  for (let i = 0; i < 5; i++) {\n    line(100, y + i * 20, 700, y + i * 20);\n  }\n}\n\nfunction mapNoteToY(note, staffGroup) {\n  let noteToY = {\n    'A#1': 375, 'B1': 370, 'C1': 360, 'C#1': 355, 'D1': 350, 'D#1': 345, 'E1': 340,\n    'F1': 330, 'F#1': 325, 'G1': 320, 'G#1': 315, 'A2': 310, 'A#2': 305, 'B2': 300,\n    'C2': 290, 'C#2': 285, 'D2': 280, 'D#2': 275, 'E2': 270, 'F2': 260, 'F#2': 255, 'G2': 250,\n    'G#2': 245, 'A3': 240, 'A#3': 235, 'B3': 230,\n\n    // 高音谱表映射\n    'C3': 200, 'C#3': 195, 'D3': 190, 'D#3': 185, 'E3': 180, 'F3': 170, 'F#3': 165, 'G3': 160, \n    'G#3': 155, 'A4': 150, 'A#4': 145, 'B4': 140, 'C4': 130, 'C#4': 125, 'D4': 120, 'D#4': 115, \n    'E4': 110, 'F4': 100, 'F#4': 95, 'G4': 90, 'G#4': 85, 'A5': 80, 'A#5': 75, 'B5': 70, 'C5': 60, \n    'C#5': 55\n  };\n  \n  // 基于当前五线谱组的位置进行偏移\n  return (noteToY[note] || 220) + staffGroup * 320;  // 每组的偏移调整为320\n}\n\nfunction keyPressed() {\n  // 检测是否按下空格键\n  if (keyCode === 32) {  // 空格键\n    currentNoteIndex = 0;  // 重置索引以便从头播放\n    playNotesInOrder();\n    return;  // 不继续处理其他按键\n  }\n\n  // 检测是否按下 Delete 或 Backspace 键\n  if (keyCode === DELETE || keyCode === BACKSPACE) {\n    if (displayedLetters.length > 0) {\n      // 移除最后一个输入的字母\n      displayedLetters.pop();\n      \n      currentX -= 20;\n      if (currentX < 100) {\n        currentX = 700;  // 返回上一行的末尾\n        currentStaffGroup--;  // 切换回上一组五线谱\n        if (currentStaffGroup < 0) currentStaffGroup = 3;  // 如果超出范围则回到最后一组\n      }\n    }\n    return;  // 不继续处理其他按键\n  }\n\n  let index = letters.indexOf(key);\n\n  // 处理特殊符号 \"/\"\n  if (key === '/') {\n    handleSpecialCharacter('/', 'C4', 2);\n    return; // 不继续处理其他按键\n  }\n\n  // 处理特殊符号 \"!\"\n  if (key === '!') {\n    handleSpecialCharacter('!', 'D4', 3);\n    return;\n  }\n\n  // 处理特殊符号 \"?\"\n  if (key === '?') {\n    handleSpecialCharacter('?', 'E4', 4);\n    return;\n  }\n\n  // 处理普通字母\n  if (index !== -1) {\n    let noteOut;\n\n    if (key === key.toLowerCase()) {\n      noteOut = highNotes[index % highNotes.length];  // 小写字母映射到高音区\n      sendMidiNote(noteOut, 127, 0);  // 小写字母发送到通道1\n    } else {\n      noteOut = lowNotes[index % lowNotes.length];  // 大写字母映射到低音区\n      sendMidiNote(noteOut, 127, 1);  // 大写字母发送到通道2\n    }\n\n    // 计算当前字母的 Y 位置和五线谱组\n    let yPosition = mapNoteToY(noteOut, currentStaffGroup);\n\n    // 将字母推入数组，记录字母的 X 和 Y 位置\n    displayedLetters.push({\n      letter: key,\n      x: currentX,\n      y: yPosition\n    });\n\n    // 播放音符\n    synth.play(noteOut, 0.5, 0, 0.5);\n\n    // 更新 X 位置\n    currentX += 20;\n\n    // 如果 X 位置超过画布宽度，换到下一行\n    if (currentX > 700) {\n      currentX = 100;\n      currentStaffGroup++;  // 切换到下一组五线谱\n      if (currentStaffGroup > 3) currentStaffGroup = 0;  // 如果超出范围则回到第一组\n    }\n  }\n}\n\nfunction handleSpecialCharacter(char, noteOut, channel) {\n  // 计算当前符号的 Y 位置\n  let yPosition = mapNoteToY(noteOut, currentStaffGroup);\n\n  // 将符号推入数组，记录符号的 X 和 Y 位置\n  displayedLetters.push({\n    letter: char,\n    x: currentX,\n    y: yPosition\n  });\n\n  // 根据不同的符号设置不同的 MIDI 通道\n  if (char === '/') {\n    channel = 2;  // 重新播放\n  } else if (char === '!') {\n    channel = 3;  // 对应channel 3\n  } else if (char === '?') {\n    channel = 4;  // 对应channel 4\n  }\n  \n  // 播放音符\n  synth.play(noteOut, 0.5, 0, 0.5);\n  sendMidiNote(noteOut, 127, channel);  // 发送 MIDI 信号到指定通道\n\n  // 更新 X 位置\n  currentX += 20;\n\n  // 如果 X 位置超过画布宽度，换到下一行\n  if (currentX > 700) {\n    currentX = 100;\n    currentStaffGroup++;  // 切换到下一组五线谱\n    if (currentStaffGroup > 3) currentStaffGroup = 0;  // 如果超出范围则回到第一组\n  }\n}\n\nfunction sendMidiNote(note, velocity, channel) {\n  if (output) {\n    let noteNumber = midiNoteNumber(note);\n    let message = [0x90 + channel, noteNumber, velocity];\n    output.send(message);  // 发送 MIDI 消息\n    console.log(`Sent MIDI note: ${note}, Velocity: ${velocity}, Channel: ${channel}`);\n  }\n}\n\nfunction midiNoteNumber(note) {\n  const noteMap = {\n    'C1': 24, 'C#1': 25, 'D1': 26, 'D#1': 27, 'E1': 28, 'F1': 29, 'F#1': 30, 'G1': 31, 'G#1': 32, 'A2': 33,\n    'A#2': 34, 'B2': 35, 'C2': 36, 'C#2': 37, 'D2': 38, 'D#2': 39, 'E2': 40, 'F2': 41, 'F#2': 42, 'G2': 43,\n    'G#2': 44, 'A3': 45, 'A#3': 46, 'B3': 47, 'C3': 48, 'C#3': 49, 'D3': 50, 'D#3': 51, 'E3': 52, 'F3': 53,\n    'F#3': 54, 'G3': 55, 'G#3': 56, 'A4': 57, 'A#4': 58, 'B4': 59, 'C4': 60, 'C#4': 61, 'D4': 62, 'D#4': 63,\n    'E4': 64, 'F4': 65, 'F#4': 66, 'G4': 67, 'G#4': 68, 'A5': 69, 'A#5': 70, 'B5': 71, 'C5': 72, 'C#5': 73\n  };\n  return noteMap[note] || 60;  // 如果找不到音符，返回 C4 (MIDI 60)\n}\n\nfunction playNotesInOrder() {\n  if (currentNoteIndex < displayedLetters.length) {\n    let letterData = displayedLetters[currentNoteIndex];\n    let noteOut;\n    let channel = 0; // 默认通道为 0\n\n    // 根据字母或符号找到对应的音符和通道\n    if (letters.includes(letterData.letter)) {\n      let index = letters.indexOf(letterData.letter);\n      if (letterData.letter === letterData.letter.toLowerCase()) {\n        noteOut = highNotes[index % highNotes.length];\n        channel = 0;  // 小写字母通道 0\n      } else {\n        noteOut = lowNotes[index % lowNotes.length];\n        channel = 1;  // 大写字母通道 1\n      }\n    } else if (specialCharacters[letterData.letter]) {\n      noteOut = specialCharacters[letterData.letter];\n\n      // 根据符号类型设定对应的通道\n      if (letterData.letter === '/') {\n        channel = 2;  // `/` 对应 channel 2\n      } else if (letterData.letter === '!') {\n        channel = 3;  // `!` 对应 channel 3\n      } else if (letterData.letter === '?') {\n        channel = 4;  // `?` 对应 channel 4\n      }\n    }\n\n    // 发送 MIDI 信号，带上正确的通道\n    sendMidiNote(noteOut, 127, channel);\n\n    currentNoteIndex++; // 增加索引\n    setTimeout(playNotesInOrder, 300);  // 设置定时器，等待 300ms 后播放下一个音符\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6711ca87be7f5022304f1c5b",
        "createdAt": "2024-10-18T03:03:03.781Z",
        "updatedAt": "2024-10-18T03:03:03.781Z",
        "id": "6711ca87be7f5022304f1c5b"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n<script src=\"https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js\"></script>\n<!-- <script src=\"http://unpkg.com/tone\"></script> -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js\"></script>\n<!--  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script> -->\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6711ca87be7f5022304f1c5a",
        "createdAt": "2024-10-18T03:03:03.781Z",
        "updatedAt": "2024-10-18T03:03:03.781Z",
        "id": "6711ca87be7f5022304f1c5a"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6711ca87be7f5022304f1c5c",
        "createdAt": "2024-10-18T03:03:03.781Z",
        "updatedAt": "2024-10-18T03:03:03.781Z",
        "id": "6711ca87be7f5022304f1c5c"
      }
    ],
    "createdAt": "2024-10-18T02:40:07.695Z",
    "updatedAt": "2024-10-18T03:03:03.781Z",
    "id": "Ko_TuAKmn"
  },
  {
    "_id": "dirmcMSGAz",
    "name": "serial",
    "updatedAt": "2024-05-09T10:20:39.382Z",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "663b9b0cb5838be27fde9eb3",
          "663b9b0cb5838be27fde9eb2",
          "663b9b0cb5838be27fde9eb4"
        ],
        "fileType": "folder",
        "_id": "663b9b0cb5838be27fde9eb5",
        "isSelectedFile": false,
        "createdAt": "2024-05-09T10:20:39.382Z",
        "updatedAt": "2024-05-09T10:20:39.382Z",
        "id": "663b9b0cb5838be27fde9eb5"
      },
      {
        "name": "sketch.js",
        "content": "let serial;\nlet latestData = \"waiting for data\";\n\nfunction setup() {\n createCanvas(windowWidth, windowHeight);\n\n serial = new p5.SerialPort();\n\n serial.list();\n serial.open('/dev/tty.usbmodem101');\n\n serial.on('connected', serverConnected);\n\n serial.on('list', gotList);\n\n serial.on('data', gotData);\n\n serial.on('error', gotError);\n\n serial.on('open', gotOpen);\n\n serial.on('close', gotClose);\n}\n\nfunction serverConnected() {\n print(\"Connected to Server\");\n}\n\nfunction gotList(thelist) {\n print(\"List of Serial Ports:\");\n\n for (let i = 0; i < thelist.length; i++) {\n  print(i + \" \" + thelist[i]);\n }\n}\n\nfunction gotOpen() {\n print(\"Serial Port is Open\");\n}\n\nfunction gotClose(){\n print(\"Serial Port is Closed\");\n latestData = \"Serial Port is Closed\";\n}\n\nfunction gotError(theerror) {\n print(theerror);\n}\n\nfunction gotData() {\n let currentString = serial.readLine();\n  trim(currentString);\n if (!currentString) return;\n console.log(currentString);\n latestData = currentString;\n}\n\nfunction draw() {\n background(255,255,255);\n fill(0,0,0);\n text(latestData, 10, 10);\n // Polling method\n /*\n if (serial.available() > 0) {\n  let data = serial.read();\n  ellipse(50,50,data,data);\n }\n */\n}",
        "children": [],
        "fileType": "file",
        "_id": "663b9b0cb5838be27fde9eb2",
        "isSelectedFile": true,
        "createdAt": "2024-05-09T10:20:39.382Z",
        "updatedAt": "2024-05-09T10:20:39.382Z",
        "id": "663b9b0cb5838be27fde9eb2"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/addons/p5.sound.min.js\"></script>\n    <script language=\"javascript\" type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "663b9b0cb5838be27fde9eb3",
        "isSelectedFile": false,
        "createdAt": "2024-05-09T10:20:39.382Z",
        "updatedAt": "2024-05-09T10:20:39.382Z",
        "id": "663b9b0cb5838be27fde9eb3"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "663b9b0cb5838be27fde9eb4",
        "isSelectedFile": false,
        "createdAt": "2024-05-09T10:20:39.382Z",
        "updatedAt": "2024-05-09T10:20:39.382Z",
        "id": "663b9b0cb5838be27fde9eb4"
      }
    ],
    "createdAt": "2024-05-08T15:32:58.790Z",
    "id": "dirmcMSGAz"
  },
  {
    "_id": "HuVoNZuri",
    "name": "Speech",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66fda9c7b745c96a5d90f0db",
          "66fda9c7b745c96a5d90f0dc",
          "66fda9c7b745c96a5d90f0dd"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "66fda9c7b745c96a5d90f0da",
        "createdAt": "2024-10-02T20:23:08.278Z",
        "updatedAt": "2024-10-02T20:23:08.278Z",
        "id": "66fda9c7b745c96a5d90f0da"
      },
      {
        "name": "sketch.js",
        "content": "let cpVoice = new p5.Speech();\n\nfunction setup() {\n  createCanvas(400, 400);\n  cpVoice.listVoices();\n  cpVoice.setVoice(\"Nicky\");\n}\n\nfunction draw() {\n  background(220);\n}\n\nfunction mousePressed() {\n  let myPitch = map(mouseX, 0, width, 0, 10);\n  cpVoice.setPitch(myPitch);\n  cpVoice.speak(\"Meow meow meow\");\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66fda9c7b745c96a5d90f0dc",
        "createdAt": "2024-10-02T20:23:08.278Z",
        "updatedAt": "2024-10-02T20:23:08.278Z",
        "id": "66fda9c7b745c96a5d90f0dc"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n        <script src=\"https://cdn.jsdelivr.net/gh/IDMNYU/p5.js-speech@0.0.3/lib/p5.speech.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main></main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda9c7b745c96a5d90f0db",
        "createdAt": "2024-10-02T20:23:08.278Z",
        "updatedAt": "2024-10-02T20:23:08.278Z",
        "id": "66fda9c7b745c96a5d90f0db"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda9c7b745c96a5d90f0dd",
        "createdAt": "2024-10-02T20:23:08.278Z",
        "updatedAt": "2024-10-02T20:23:08.278Z",
        "id": "66fda9c7b745c96a5d90f0dd"
      }
    ],
    "createdAt": "2024-10-02T20:15:03.515Z",
    "updatedAt": "2024-10-02T20:23:08.278Z",
    "id": "HuVoNZuri"
  },
  {
    "_id": "GpMB5uSLg",
    "name": "Speech Controlled Note Playing",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66fdaddf07c645cc8ca396e9",
          "66fdaddf07c645cc8ca396ea",
          "66fdaddf07c645cc8ca396eb"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "66fdaddf07c645cc8ca396e8",
        "createdAt": "2024-10-02T20:32:38.522Z",
        "updatedAt": "2024-10-02T20:32:38.522Z",
        "id": "66fdaddf07c645cc8ca396e8"
      },
      {
        "name": "sketch.js",
        "content": "let rec = new p5.SpeechRec();\nlet result = \"Click on the canvas to start speech recognition.\";\n\nlet synth = new p5.PolySynth();\n\nfunction setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n  text(result, 10, 50);\n}\n\nfunction mousePressed() {\n  rec.start();\n  rec.onResult = checkResult;\n  rec.onEnd = function restart() {\n    rec.start();\n  };\n}\nfunction checkResult() {\n  result = rec.resultString.toLowerCase();\n  userStartAudio();\n  if (result.indexOf(\"cat\") !== -1) {\n    synth.play(\"C4\", 1, 0, 2);\n  }\n  if (result.indexOf(\"dog\") !== -1) {\n    synth.play(\"D4\", 1, 0, 2);\n  }\n  if (result.indexOf(\"elephant\") !== -1) {\n    synth.play(\"E4\", 1, 0, 2);\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66fdaddf07c645cc8ca396ea",
        "createdAt": "2024-10-02T20:32:38.522Z",
        "updatedAt": "2024-10-02T20:32:38.522Z",
        "id": "66fdaddf07c645cc8ca396ea"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/gh/IDMNYU/p5.js-speech@0.0.3/lib/p5.speech.js\"></script>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main></main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fdaddf07c645cc8ca396e9",
        "createdAt": "2024-10-02T20:32:38.522Z",
        "updatedAt": "2024-10-02T20:32:38.522Z",
        "id": "66fdaddf07c645cc8ca396e9"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fdaddf07c645cc8ca396eb",
        "createdAt": "2024-10-02T20:32:38.522Z",
        "updatedAt": "2024-10-02T20:32:38.522Z",
        "id": "66fdaddf07c645cc8ca396eb"
      }
    ],
    "createdAt": "2024-10-02T20:32:32.006Z",
    "updatedAt": "2024-10-02T20:32:38.522Z",
    "id": "GpMB5uSLg"
  },
  {
    "_id": "8PLfDnJZj",
    "name": "Speech Rec",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66fdabadb745c96a5d90f0df",
          "66fdabadb745c96a5d90f0e0",
          "66fdabadb745c96a5d90f0e1"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "66fdabadb745c96a5d90f0de",
        "createdAt": "2024-10-02T20:29:32.769Z",
        "updatedAt": "2024-10-02T20:29:32.769Z",
        "id": "66fdabadb745c96a5d90f0de"
      },
      {
        "name": "sketch.js",
        "content": "let myRec = new p5.SpeechRec();\nlet myResult = \"\";\nmyRec.interimResults = true;\n\nfunction setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n  text(myResult, 50, 50);\n}\n\nfunction mousePressed() {\n  myRec.start();\n  myRec.onEnd = function restart(){\n    myRec.start();\n  };\n  myRec.onResult = showResult();\n}\n\nfunction showResult(){\n  print(myRec.resultString);\n  myResult = myRec.resultString;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66fdabadb745c96a5d90f0e0",
        "createdAt": "2024-10-02T20:29:32.769Z",
        "updatedAt": "2024-10-02T20:29:32.769Z",
        "id": "66fdabadb745c96a5d90f0e0"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n        <script src=\"https://cdn.jsdelivr.net/gh/IDMNYU/p5.js-speech@0.0.3/lib/p5.speech.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main></main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fdabadb745c96a5d90f0df",
        "createdAt": "2024-10-02T20:29:32.769Z",
        "updatedAt": "2024-10-02T20:29:32.769Z",
        "id": "66fdabadb745c96a5d90f0df"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fdabadb745c96a5d90f0e1",
        "createdAt": "2024-10-02T20:29:32.769Z",
        "updatedAt": "2024-10-02T20:29:32.769Z",
        "id": "66fdabadb745c96a5d90f0e1"
      }
    ],
    "createdAt": "2024-10-02T20:23:09.757Z",
    "updatedAt": "2024-10-02T20:29:32.769Z",
    "id": "8PLfDnJZj"
  },
  {
    "_id": "qJlLEbj4H",
    "name": "Speech Synthesis Singing Pitch and Rate copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "66fda90bb745c96a5d90f0d7",
          "66fda90bb745c96a5d90f0d8",
          "66fda90bb745c96a5d90f0d9"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "66fda90bb745c96a5d90f0d6",
        "createdAt": "2024-10-02T20:35:37.353Z",
        "updatedAt": "2024-10-02T20:35:37.353Z",
        "id": "66fda90bb745c96a5d90f0d6"
      },
      {
        "name": "sketch.js",
        "content": "let voice = new p5.Speech();\nlet rate = 1,\n  pitch = 1;\n\nfunction setup() {\n  createCanvas(400, 400);\n  voice.listVoices();\n  voice.setVoice(\"Good News\");\n}\n\nfunction draw() {\n  background(220);\n  text(\"Rate is \" + rate + \" and pitch is \" + pitch, 10, 50);\n}\n\nfunction mousePressed() {\n  voice.cancel();\n  rate = mouseX / 200;\n  pitch = mouseY / 200;\n  voice.setRate(rate);\n  voice.setPitch(pitch);\n  voice.speak(rate + \" and \" + pitch);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "66fda90bb745c96a5d90f0d8",
        "createdAt": "2024-10-02T20:35:37.353Z",
        "updatedAt": "2024-10-02T20:35:37.353Z",
        "id": "66fda90bb745c96a5d90f0d8"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n        <script src=\"https://cdn.jsdelivr.net/gh/IDMNYU/p5.js-speech@0.0.3/lib/p5.speech.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main></main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda90bb745c96a5d90f0d7",
        "createdAt": "2024-10-02T20:35:37.353Z",
        "updatedAt": "2024-10-02T20:35:37.353Z",
        "id": "66fda90bb745c96a5d90f0d7"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "66fda90bb745c96a5d90f0d9",
        "createdAt": "2024-10-02T20:35:37.353Z",
        "updatedAt": "2024-10-02T20:35:37.353Z",
        "id": "66fda90bb745c96a5d90f0d9"
      }
    ],
    "createdAt": "2024-10-02T20:11:55.457Z",
    "updatedAt": "2024-10-02T20:35:37.353Z",
    "id": "qJlLEbj4H"
  },
  {
    "_id": "2nQTzIPHN",
    "name": "Stars in the bottle",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67dd6c72a6132657f92a0959",
          "67dd6c72a6132657f92a0958",
          "67dd6c72a6132657f92a095a"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67dd6c72a6132657f92a095b",
        "createdAt": "2025-03-21T14:03:11.771Z",
        "updatedAt": "2025-03-21T14:03:11.771Z",
        "id": "67dd6c72a6132657f92a095b"
      },
      {
        "name": "sketch.js",
        "content": "// “star in the bottle” by Senbaku https://openprocessing.org/sketch/911421\n// CreativeCommons Attribution NonCommercial ShareAlike: https://creativecommons.org/licenses/by-nc-sa/3.0\n\nlet mover = []; // array for storing stars\nlet liquid;\nlet c; // color for stars\nlet cw; // color for water\n\nfunction setup() {\n  createCanvas(600, 600);\n  //background(0);\n\n  // generate 30 stars\n  for (let i = 0; i < 30; i++) {\n    mover[i] = new Mover(\n      random(1, 5), // mass\n      random(230, 360), // x position\n      random(160, 170), // y position\n      45, // radius1\n      70, // radius2\n      10 // number of points\n    );\n  }\n\n  // create water\n  liquid = new Water(220, height / 2 - 80, 160, 315, 1.5);\n\n  // create a texture for the background\n  // createGraphics: https://p5js.org/reference/p5/createGraphics/  a separate canvas to draw on, will not affect the main canvas\n  tx = createGraphics(width, height);\n  //angleMode: https://p5js.org/reference/p5/angleMode/ p5.js use radians by default but degrees is more direct.\n  tx.angleMode(DEGREES);\n  tx.noStroke();\n  // draw random circles for the texture for the bottle\n  for (let i = 0; i < (width * height * 1) / 10; i++) {\n    let x = random(width);\n    let y = random(height);\n    tx.fill(0, 3);\n    tx.ellipse(x, y, random(20), random(20));\n  }\n}\n\nfunction draw() {\n  background(\"#212331\");\n  // create a wind force\n  let wind = createVector(0, 0);\n  // if mouse is pressed, apply wind force to make the stars move up\n  if (mouseIsPressed) {\n    wind = createVector(0, -1);\n  }\n\n  // draw the bottle\n  bottle();\n\n  // apply forces to the stars\n  for (let i = 0; i < mover.length; i++) {\n    if (liquid.contains(mover[i])) {\n      let dragForce = liquid.calculateDrag(mover[i]);\n      mover[i].applyForce(dragForce);\n    }\n    let m = mover[i].mass;\n    let gravity = createVector(0, 0.2* m); //重力をスケーリング Gravity force based on mass\n    mover[i].applyForce(wind);\n    mover[i].applyForce(gravity);\n    mover[i].update();\n    mover[i].show();\n    mover[i].checkEdges();\n    liquid.show();\n  }\n  // draw the texture for the bottle\n  image(tx, 0, 0);\n}\n\n// draw the bottle\nfunction bottle() {\n  push();\n  // drawingContext: https://p5js.org/reference/p5/drawingContext/\n  // it uses the HTML5 canvas 2D context to draw shadows\n  drawingContext.shadowOffsetX = 0;\n  drawingContext.shadowOffsetY = 0;\n  drawingContext.shadowBlur = 250;\n  drawingContext.shadowColor = \"#f4f1de\";\n  fill(220);\n  noStroke();\n  push();\n  rectMode(CENTER);\n  rect(width / 2, 80, 40, 30, 20);\n  rect(width / 2, 100, 130, 20, 10);\n  rect(width / 2, 130, 100, 50, 10);\n  rect(width / 2, height / 2 + 50, 180, 400, 50);\n  rect(width / 2, height / 2 + 150, 180, 200, 20);\n  pop();\n  pop();\n}\n\n// stars class\nclass Mover {\n  constructor(m, x, y, radius1, radius2, npoints) {\n    // this.x = x;\n    // this.y = y;\n    this.radius1 = radius1;\n    this.radius2 = radius2;\n    this.npoints = npoints;\n    this.angle = TWO_PI / this.npoints;\n    this.halfAngle = this.angle / 2.0;\n\n    this.mass = m;\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = createVector(0.0);\n    // d is the diameter of the star\n    this.d = this.mass * 8;\n    //this.topspeed = 4;\n    // yama and tani are the distance from the center to the top and bottom of the star\n    this.yama = (this.radius1 * this.mass) / 15;\n    this.tani = (this.radius2 * this.mass) / 15;\n  }\n  applyForce(force) {\n    let f = p5.Vector.div(force, this.mass);\n    this.acc.add(f);\n  }\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.acc.mult(0);\n  }\n  show() {\n    stroke(255);\n    c = color(\"#f4f1de\");\n    fill(c);\n    push();\n    drawingContext.shadowOffsetX = 0;\n    drawingContext.shadowOffsetY = 0;\n    drawingContext.shadowBlur = 30;\n    drawingContext.shadowColor = \"#f4f1de\";\n    beginShape();\n    // draw the star\n    for (let a = 0; a < TWO_PI; a += this.angle) {\n      let sx = this.pos.x + cos(a) * this.yama;\n      let sy = this.pos.y + sin(a) * this.yama;\n      vertex(sx, sy);\n      sx = this.pos.x + cos(a + this.halfAngle) * this.tani;\n      sy = this.pos.y + sin(a + this.halfAngle) * this.tani;\n      vertex(sx, sy);\n    }\n    endShape(CLOSE);\n\n    pop();\n  }\n\n  // check if the stars are in the bottle\n  checkEdges() {\n    if (this.pos.y > 540 - this.d) {\n      this.vel.y *= -1;\n      this.pos.y = 540 - this.d;\n    } else if (this.pos.x > 380) {\n      this.pos.x = 380;\n      this.vel.x *= -1;\n    } else if (this.pos.x < 240) {\n      this.vel.x *= -1;\n      this.pos.x = 240;\n    } else if (this.pos.y < height / 2 - 100) {\n      this.vel.y *= -1;\n      this.pos.y = height / 2 - 100;\n    }\n  }\n}\n\n// Water\nclass Water {\n  constructor(x, y, w, h, c) {\n    this.x = x; // x position\n    this.y = y; // y position\n    this.w = w; // width\n    this.h = h; // height\n    this.c = c; // drag coefficient\n  }\n\n  contains(mover) {\n    let l = mover.pos; // l is the location of the mover\n    // check if stars are inside the water, if not, return false, it will not apply drag\n    return (\n      l.x > this.x &&\n      l.x < this.x + this.w &&\n      l.y > this.y &&\n      l.y < this.y + this.h\n    );\n  }\n\n  calculateDrag(mover) {\n    let speed = mover.vel.mag(); // get the speed/direction of the star\n    let dragMagnitude = this.c * speed * speed; // drag force is acceleration, so it is proportional to the square of the speed\n    let dragForce = mover.vel.copy(); // create a vector for drag force\n    dragForce.mult(-1); // reverse the direction of the drag force\n    dragForce.normalize(); // normalize the vector as the direction of the velocity\n    dragForce.mult(dragMagnitude); // multiply the drag force by the drag magnitude\n    return dragForce; // if the stars are in the water, it will apply drag\n  }\n\n  show() {\n    noStroke();\n    cw = color(\"#91ADC2\");\n    cw.setAlpha(10);\n    fill(cw);\n    rect(this.x, this.y, this.w, this.h);\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67dd6c72a6132657f92a0958",
        "createdAt": "2025-03-21T14:03:11.771Z",
        "updatedAt": "2025-03-21T14:03:11.771Z",
        "id": "67dd6c72a6132657f92a0958"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67dd6c72a6132657f92a0959",
        "createdAt": "2025-03-21T14:03:11.771Z",
        "updatedAt": "2025-03-21T14:03:11.771Z",
        "id": "67dd6c72a6132657f92a0959"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67dd6c72a6132657f92a095a",
        "createdAt": "2025-03-21T14:03:11.771Z",
        "updatedAt": "2025-03-21T14:03:11.771Z",
        "id": "67dd6c72a6132657f92a095a"
      }
    ],
    "updatedAt": "2025-03-21T14:03:11.771Z",
    "createdAt": "2025-03-21T13:41:27.996Z",
    "id": "2nQTzIPHN"
  },
  {
    "_id": "WW2_ULWuM",
    "name": "Transformation",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65b24cfa7f8fa11036809ca5",
          "65b24cfa7f8fa11036809ca6",
          "65b24cfa7f8fa11036809ca7"
        ],
        "fileType": "folder",
        "_id": "65b24cfa7f8fa11036809ca4",
        "createdAt": "2024-01-26T07:21:08.389Z",
        "updatedAt": "2024-01-26T07:21:08.389Z",
        "isSelectedFile": false,
        "id": "65b24cfa7f8fa11036809ca4"
      },
      {
        "name": "sketch.js",
        "content": "// Note: play with the angle, positons, width and height of the rectangle!\n\nlet angle = 0;\nlet x = 0;\nlet w = 1;\n\nfunction setup() {\n  createCanvas(400, 400);\n  background(0);\n}\n\nfunction draw() {\n  // update values\n  angle = angle + 30;\n  w = w + 5;\n  //x = x + 1;\n  \n  // draw the shape\n  push();\n  blendMode(ADD);\n  \n  translate(width/2, height/2);\n  rotate( radians(angle) );\n  stroke(200, 100, 200, 70);\n  noFill();\n  \n  rectMode(CENTER);\n  rect(x, 0, 100, w);\n  \n  pop();\n}\n\nfunction keyPressed() {\n  if (key == \"s\" || key == \"S\") {\n    save(\"sketch.png\");\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65b24cfa7f8fa11036809ca6",
        "isSelectedFile": true,
        "createdAt": "2024-01-26T07:21:08.389Z",
        "updatedAt": "2024-01-26T07:21:08.389Z",
        "id": "65b24cfa7f8fa11036809ca6"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65b24cfa7f8fa11036809ca5",
        "createdAt": "2024-01-26T07:21:08.389Z",
        "updatedAt": "2024-01-26T07:21:08.389Z",
        "isSelectedFile": false,
        "id": "65b24cfa7f8fa11036809ca5"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65b24cfa7f8fa11036809ca7",
        "createdAt": "2024-01-26T07:21:08.389Z",
        "updatedAt": "2024-01-26T07:21:08.389Z",
        "isSelectedFile": false,
        "id": "65b24cfa7f8fa11036809ca7"
      }
    ],
    "createdAt": "2024-01-25T11:58:50.644Z",
    "updatedAt": "2024-01-26T07:21:08.389Z",
    "id": "WW2_ULWuM"
  },
  {
    "_id": "o0DKduRVM",
    "name": "vertex",
    "updatedAt": "2024-01-25T11:35:24.481Z",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "65b245dfd7054c8d1d9d29ad",
          "65b245dfd7054c8d1d9d29ac",
          "65b245dfd7054c8d1d9d29ae"
        ],
        "fileType": "folder",
        "_id": "65b245dfd7054c8d1d9d29af",
        "isSelectedFile": false,
        "createdAt": "2024-01-25T11:35:24.481Z",
        "updatedAt": "2024-01-25T11:35:24.481Z",
        "id": "65b245dfd7054c8d1d9d29af"
      },
      {
        "name": "sketch.js",
        "content": "function setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n  beginShape();\n  vertex(100,50);\n  vertex(200,220);\n  vertex(mouseX,mouseY);\n  endShape(CLOSE);\n}\n\nfunction mousePressed(){\n  console.log(\"vertex(\"+mouseX+\", \"+mouseY+\")\")\n}",
        "children": [],
        "fileType": "file",
        "_id": "65b245dfd7054c8d1d9d29ac",
        "isSelectedFile": true,
        "createdAt": "2024-01-25T11:35:24.481Z",
        "updatedAt": "2024-01-25T11:35:24.481Z",
        "id": "65b245dfd7054c8d1d9d29ac"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "65b245dfd7054c8d1d9d29ad",
        "isSelectedFile": false,
        "createdAt": "2024-01-25T11:35:24.481Z",
        "updatedAt": "2024-01-25T11:35:24.481Z",
        "id": "65b245dfd7054c8d1d9d29ad"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "65b245dfd7054c8d1d9d29ae",
        "isSelectedFile": false,
        "createdAt": "2024-01-25T11:35:24.481Z",
        "updatedAt": "2024-01-25T11:35:24.481Z",
        "id": "65b245dfd7054c8d1d9d29ae"
      }
    ],
    "createdAt": "2024-01-25T11:31:06.093Z",
    "id": "o0DKduRVM"
  }
]
